{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"WiKi Intro # \u4e2d\u6587\u8bf7\u70b9\u51fb\u8fd9\u91cc Hello! Welcome to my WiKi site. This is a knowledge management system based on embedded system development. It was meant to be a record of what was learned, but it was also intended to help others. The current technical column has: Android Machine Learning Python Embedded System Computer Vision Multimedia Tools The site is gradually improving, welcome to continue to pay attention. 1.About Me # I am a Software Engineer, I konw about ARM Assembly, C/C++, Java and Python program language. I am good at embedded system development: MCU, embedded linux and Android. Now I'm getting into image processing(Use OpenCV), audio and video processing(Use FFMPEG and WebRTC) and Embedded Machine Learning. 2.Know Me # My GitHub My Zhihu 3.Connect Me # Email: fanhongchaung@foxmail.com QQ: 847923458 WeChat: shoujimaizi2289 4.WeChat Official Account # Scan code attention my WeChat official account","title":"WiKi Intro"},{"location":"#wiki-intro","text":"\u4e2d\u6587\u8bf7\u70b9\u51fb\u8fd9\u91cc Hello! Welcome to my WiKi site. This is a knowledge management system based on embedded system development. It was meant to be a record of what was learned, but it was also intended to help others. The current technical column has: Android Machine Learning Python Embedded System Computer Vision Multimedia Tools The site is gradually improving, welcome to continue to pay attention.","title":"WiKi Intro"},{"location":"#1about-me","text":"I am a Software Engineer, I konw about ARM Assembly, C/C++, Java and Python program language. I am good at embedded system development: MCU, embedded linux and Android. Now I'm getting into image processing(Use OpenCV), audio and video processing(Use FFMPEG and WebRTC) and Embedded Machine Learning.","title":"1.About Me"},{"location":"#2know-me","text":"My GitHub My Zhihu","title":"2.Know Me"},{"location":"#3connect-me","text":"Email: fanhongchaung@foxmail.com QQ: 847923458 WeChat: shoujimaizi2289","title":"3.Connect Me"},{"location":"#4wechat-official-account","text":"Scan code attention my WeChat official account","title":"4.WeChat Official Account"},{"location":"about-zh/","text":"WiKi\u7ad9\u957f\u4ecb\u7ecd # \u5173\u4e8e\u6211 # \u6211\u662f\u4e00\u540d\u8f6f\u4ef6\u5de5\u7a0b\u5e08\uff0c\u4e86\u89e3C/C++\u3001Java\u548cPython\u7f16\u7a0b\u8bed\u8a00\u3002 \u6211\u64c5\u957f\u5d4c\u5165\u5f0fMCU\u7f16\u7a0b\uff08\u6bd4\u5982\uff1aSTM32\uff09\u3001\u5d4c\u5165\u5f0fLinux\u548cAndroid\u3002 \u73b0\u5728\u6211\u5f00\u59cb\u6d89\u8db3\u56fe\u50cf\u5904\u7406\uff08\u4f7f\u7528OpenCV\uff09\uff0c\u97f3\u89c6\u9891\u5904\u7406\uff08\u4f7f\u7528FFMPEG\u548cWebRTC\uff09\u548c\u5d4c\u5165\u5f0f\u673a\u5668\u5b66\u4e60\u3002 \u4e86\u89e3\u6211 # \u6211\u7684GitHub \u6211\u7684CSDN\u535a\u5ba2 \u6211\u7684\u77e5\u4e4e \u63d0\u793a \u6709\u4e00\u6bb5\u65f6\u95f4\u6ca1\u6709\u66f4\u65b0\u8fc7\u6211\u7684CSDN\u535a\u5ba2\u4e86\uff0c\u56e0\u4e3a\u5e73\u65f6\u5de5\u4f5c\u5c31\u6bd4\u8f83\u5fd9\u3002\u4ece\u73b0\u5728\u5f00\u59cb\u6211\u5c06\u65f6\u5e38\u5728\u8fd9\u4e2a\u7ad9\u70b9\u66f4\u65b0\u6211\u7684\u5b66\u4e60\u7b14\u8bb0\u3002 \u8054\u7cfb\u6211 # \u90ae\u7bb1: fanhongchaung@foxmail.com QQ: 847923458 \u5fae\u4fe1: shoujimaizi2289 \u5fae\u4fe1\u516c\u4f17\u8d26\u53f7 # \u66f4\u591a\u7cbe\u5f69\u8d44\u8baf\uff0c\u8bf7\u626b\u7801\u5173\u6ce8\uff01","title":"WiKi\u7ad9\u957f\u4ecb\u7ecd"},{"location":"about-zh/#wiki","text":"","title":"WiKi\u7ad9\u957f\u4ecb\u7ecd"},{"location":"about-zh/#_1","text":"\u6211\u662f\u4e00\u540d\u8f6f\u4ef6\u5de5\u7a0b\u5e08\uff0c\u4e86\u89e3C/C++\u3001Java\u548cPython\u7f16\u7a0b\u8bed\u8a00\u3002 \u6211\u64c5\u957f\u5d4c\u5165\u5f0fMCU\u7f16\u7a0b\uff08\u6bd4\u5982\uff1aSTM32\uff09\u3001\u5d4c\u5165\u5f0fLinux\u548cAndroid\u3002 \u73b0\u5728\u6211\u5f00\u59cb\u6d89\u8db3\u56fe\u50cf\u5904\u7406\uff08\u4f7f\u7528OpenCV\uff09\uff0c\u97f3\u89c6\u9891\u5904\u7406\uff08\u4f7f\u7528FFMPEG\u548cWebRTC\uff09\u548c\u5d4c\u5165\u5f0f\u673a\u5668\u5b66\u4e60\u3002","title":"\u5173\u4e8e\u6211"},{"location":"about-zh/#_2","text":"\u6211\u7684GitHub \u6211\u7684CSDN\u535a\u5ba2 \u6211\u7684\u77e5\u4e4e \u63d0\u793a \u6709\u4e00\u6bb5\u65f6\u95f4\u6ca1\u6709\u66f4\u65b0\u8fc7\u6211\u7684CSDN\u535a\u5ba2\u4e86\uff0c\u56e0\u4e3a\u5e73\u65f6\u5de5\u4f5c\u5c31\u6bd4\u8f83\u5fd9\u3002\u4ece\u73b0\u5728\u5f00\u59cb\u6211\u5c06\u65f6\u5e38\u5728\u8fd9\u4e2a\u7ad9\u70b9\u66f4\u65b0\u6211\u7684\u5b66\u4e60\u7b14\u8bb0\u3002","title":"\u4e86\u89e3\u6211"},{"location":"about-zh/#_3","text":"\u90ae\u7bb1: fanhongchaung@foxmail.com QQ: 847923458 \u5fae\u4fe1: shoujimaizi2289","title":"\u8054\u7cfb\u6211"},{"location":"about-zh/#_4","text":"\u66f4\u591a\u7cbe\u5f69\u8d44\u8baf\uff0c\u8bf7\u626b\u7801\u5173\u6ce8\uff01","title":"\u5fae\u4fe1\u516c\u4f17\u8d26\u53f7"},{"location":"about/","text":"Wikier Info # \u4e2d\u6587\u8bf7\u70b9\u51fb\u8fd9\u91cc About Me # I am a Software Engineer, I konw about C/C++, Java and Python program language. I am good at embedded programming for MCU(example: STM32) ,embedded linux and Android. Now I'm getting into image processing(Use OpenCV), audio and video processing(Use FFMPEG and WebRTC), Embedded Machine Learning. Know Me # My GitHub My CSDN Blog My Zhihu Note I haven't update my CSDN blog for a long time,because I am very busy with my job.But I will update my konwledge on this wiki site from now on. Connect Me # Email: fanhongchaung@foxmail.com QQ: 847923458 WeChat: shoujimaizi2289 WeChat Official Account # Scan code attention my WeChat official account","title":"Wikier Info"},{"location":"about/#wikier-info","text":"\u4e2d\u6587\u8bf7\u70b9\u51fb\u8fd9\u91cc","title":"Wikier Info"},{"location":"about/#about-me","text":"I am a Software Engineer, I konw about C/C++, Java and Python program language. I am good at embedded programming for MCU(example: STM32) ,embedded linux and Android. Now I'm getting into image processing(Use OpenCV), audio and video processing(Use FFMPEG and WebRTC), Embedded Machine Learning.","title":"About Me"},{"location":"about/#know-me","text":"My GitHub My CSDN Blog My Zhihu Note I haven't update my CSDN blog for a long time,because I am very busy with my job.But I will update my konwledge on this wiki site from now on.","title":"Know Me"},{"location":"about/#connect-me","text":"Email: fanhongchaung@foxmail.com QQ: 847923458 WeChat: shoujimaizi2289","title":"Connect Me"},{"location":"about/#wechat-official-account","text":"Scan code attention my WeChat official account","title":"WeChat Official Account"},{"location":"index-zh/","text":"\u672c\u7ad9\u7b80\u4ecb # \u55e8\uff01\u6b22\u8fce\u6765\u5230\u6211\u7684WiKi\u7ad9\u70b9\u3002 \u8fd9\u662f\u4e00\u4e2a\u4ee5 \u5d4c\u5165\u5f0f\u7cfb\u7edf\u5f00\u53d1 \u4e3a\u4e3b\u7684\u77e5\u8bc6\u7ba1\u7406\u7cfb\u7edf\u3002\u672c\u610f\u662f\u7528\u6765\u8bb0\u5f55\u5b66\u4e60\u5230\u7684\u77e5\u8bc6\u70b9\uff0c\u4f46\u662f\u4e5f\u5e0c\u671b\u8fd9\u4e9b\u77e5\u8bc6\u80fd\u591f\u5e2e\u52a9\u5230\u5176\u4ed6\u4eba\u3002 \u76ee\u524d\u5f00\u8bbe\u7684\u6280\u672f\u4e13\u680f\u6709\uff1a Android \u673a\u5668\u5b66\u4e60 Python \u5d4c\u5165\u5f0f\u7cfb\u7edf \u8ba1\u7b97\u673a\u89c6\u89c9 \u591a\u5a92\u4f53 \u5de5\u5177 \u672c\u7ad9\u76ee\u524d\u6b63\u5728\u9010\u6b65\u5b8c\u5584\u4e2d\uff0c\u6b22\u8fce\u6301\u7eed\u5173\u6ce8\uff01 1.\u5173\u4e8e\u7ad9\u957f # \u6211\u662f\u4e00\u540d\u8f6f\u4ef6\u5de5\u7a0b\u5e08\uff0c\u719f\u6089ARM\u6c47\u7f16\u3001C/C++\u3001Java\u548cPython\u7f16\u7a0b\u8bed\u8a00\u3002 \u64c5\u957f\u5d4c\u5165\u5f0f\u7cfb\u7edf\u5f00\u53d1\uff1aMCU\u3001\u5d4c\u5165\u5f0fLinux\u548cAndroid\u3002 \u73b0\u5728\u6211\u5f00\u59cb\u6d89\u8db3\u56fe\u50cf\u5904\u7406\uff08\u4f7f\u7528OpenCV\uff09\uff0c\u97f3\u89c6\u9891\u5904\u7406\uff08\u4f7f\u7528FFMPEG\u548cWebRTC\uff09\u548c\u5d4c\u5165\u5f0f\u673a\u5668\u5b66\u4e60\u3002 2.\u4e86\u89e3\u7ad9\u957f # \u6211\u7684GitHub \u6211\u7684\u77e5\u4e4e 3.\u8054\u7cfb\u65b9\u5f0f # \u90ae\u7bb1: fanhongchaung@foxmail.com QQ: 847923458 \u5fae\u4fe1: shoujimaizi2289 4.\u5fae\u4fe1\u516c\u4f17\u8d26\u53f7 #","title":"\u672c\u7ad9\u7b80\u4ecb"},{"location":"index-zh/#_1","text":"\u55e8\uff01\u6b22\u8fce\u6765\u5230\u6211\u7684WiKi\u7ad9\u70b9\u3002 \u8fd9\u662f\u4e00\u4e2a\u4ee5 \u5d4c\u5165\u5f0f\u7cfb\u7edf\u5f00\u53d1 \u4e3a\u4e3b\u7684\u77e5\u8bc6\u7ba1\u7406\u7cfb\u7edf\u3002\u672c\u610f\u662f\u7528\u6765\u8bb0\u5f55\u5b66\u4e60\u5230\u7684\u77e5\u8bc6\u70b9\uff0c\u4f46\u662f\u4e5f\u5e0c\u671b\u8fd9\u4e9b\u77e5\u8bc6\u80fd\u591f\u5e2e\u52a9\u5230\u5176\u4ed6\u4eba\u3002 \u76ee\u524d\u5f00\u8bbe\u7684\u6280\u672f\u4e13\u680f\u6709\uff1a Android \u673a\u5668\u5b66\u4e60 Python \u5d4c\u5165\u5f0f\u7cfb\u7edf \u8ba1\u7b97\u673a\u89c6\u89c9 \u591a\u5a92\u4f53 \u5de5\u5177 \u672c\u7ad9\u76ee\u524d\u6b63\u5728\u9010\u6b65\u5b8c\u5584\u4e2d\uff0c\u6b22\u8fce\u6301\u7eed\u5173\u6ce8\uff01","title":"\u672c\u7ad9\u7b80\u4ecb"},{"location":"index-zh/#1","text":"\u6211\u662f\u4e00\u540d\u8f6f\u4ef6\u5de5\u7a0b\u5e08\uff0c\u719f\u6089ARM\u6c47\u7f16\u3001C/C++\u3001Java\u548cPython\u7f16\u7a0b\u8bed\u8a00\u3002 \u64c5\u957f\u5d4c\u5165\u5f0f\u7cfb\u7edf\u5f00\u53d1\uff1aMCU\u3001\u5d4c\u5165\u5f0fLinux\u548cAndroid\u3002 \u73b0\u5728\u6211\u5f00\u59cb\u6d89\u8db3\u56fe\u50cf\u5904\u7406\uff08\u4f7f\u7528OpenCV\uff09\uff0c\u97f3\u89c6\u9891\u5904\u7406\uff08\u4f7f\u7528FFMPEG\u548cWebRTC\uff09\u548c\u5d4c\u5165\u5f0f\u673a\u5668\u5b66\u4e60\u3002","title":"1.\u5173\u4e8e\u7ad9\u957f"},{"location":"index-zh/#2","text":"\u6211\u7684GitHub \u6211\u7684\u77e5\u4e4e","title":"2.\u4e86\u89e3\u7ad9\u957f"},{"location":"index-zh/#3","text":"\u90ae\u7bb1: fanhongchaung@foxmail.com QQ: 847923458 \u5fae\u4fe1: shoujimaizi2289","title":"3.\u8054\u7cfb\u65b9\u5f0f"},{"location":"index-zh/#4","text":"","title":"4.\u5fae\u4fe1\u516c\u4f17\u8d26\u53f7"},{"location":"Android/Application/RecycleView/","text":"RecycleView\u4f7f\u7528 # 1.\u65b0\u5efaRecycleViewTest\u9879\u76ee\uff1a # 2.\u6dfb\u52a0RecycleView\u5e93\u4f9d\u8d56 # \u9f20\u6807\u53f3\u51fb\u9009\u62e9 \" Open Module Settings \"\u9009\u9879\uff0c\u7136\u540e\u8fdb\u884c\u5982\u4e0b\u64cd\u4f5c\uff1a 3.\u521b\u5efaRecycleView Item\u5e03\u5c40\u6587\u4ef6 # layout/recycleview_item.xml <?xml version=\"1.0\" encoding=\"utf-8\"?> <LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\" xmlns:app=\"http://schemas.android.com/apk/res-auto\" xmlns:tools=\"http://schemas.android.com/tools\" android:layout_width=\"match_parent\" android:layout_height=\"wrap_content\" android:layout_margin=\"10dp\" android:orientation=\"horizontal\"> <ImageView android:id=\"@+id/imageView\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" tools:srcCompat=\"@tools:sample/avatars[1]\" /> <TextView android:id=\"@+id/textView\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" android:layout_marginLeft=\"30dp\" android:layout_marginTop=\"40dp\" android:fontFamily=\"sans-serif-black\" android:text=\"TextView\" android:textSize=\"25sp\" /> </LinearLayout> 4.\u5728layout/activity_main.xml\u4e2d\u6dfb\u52a0RecycleView\u7ec4\u4ef6 # <?xml version=\"1.0\" encoding=\"utf-8\"?> <androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\" xmlns:app=\"http://schemas.android.com/apk/res-auto\" xmlns:tools=\"http://schemas.android.com/tools\" android:layout_width=\"match_parent\" android:layout_height=\"match_parent\" tools:context=\".MainActivity\"> <androidx.recyclerview.widget.RecyclerView android:id=\"@+id/recycleview\" android:layout_width=\"match_parent\" android:layout_height=\"match_parent\" tools:listitem=\"@layout/recycleview_item\" /> </androidx.constraintlayout.widget.ConstraintLayout> 5.\u521b\u5efaAdapter # public class MyAdapter extends RecyclerView.Adapter<MyAdapter.ViewHolder> { @NonNull @Override public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) { View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.recycleview_item,parent,false); return new ViewHolder(view); } @Override public void onBindViewHolder(@NonNull ViewHolder holder, int position) { holder.icon.setImageResource(R.drawable.ic_launcher_foreground); holder.content.setText(\"Hello it is a test!\"); } @Override public int getItemCount() { return 1024; } public class ViewHolder extends RecyclerView.ViewHolder{ private ImageView icon; private TextView content; public ViewHolder(@NonNull View itemView) { super(itemView); icon = itemView.findViewById(R.id.imageView2); content = itemView.findViewById(R.id.textView2); } } } 6.\u5728Activity\u4e2d\u4f7f\u7528RecycleView\u7ec4\u4ef6 # public class MainActivity extends AppCompatActivity { private RecyclerView recyclerView; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); recyclerView = findViewById(R.id.recycleview); MyAdapter myAdapter = new MyAdapter(); recyclerView.setLayoutManager(new LinearLayoutManager(this)); recyclerView.setAdapter(myAdapter); } }","title":"RecycleView"},{"location":"Android/Application/RecycleView/#recycleview","text":"","title":"RecycleView\u4f7f\u7528"},{"location":"Android/Application/RecycleView/#1recycleviewtest","text":"","title":"1.\u65b0\u5efaRecycleViewTest\u9879\u76ee\uff1a"},{"location":"Android/Application/RecycleView/#2recycleview","text":"\u9f20\u6807\u53f3\u51fb\u9009\u62e9 \" Open Module Settings \"\u9009\u9879\uff0c\u7136\u540e\u8fdb\u884c\u5982\u4e0b\u64cd\u4f5c\uff1a","title":"2.\u6dfb\u52a0RecycleView\u5e93\u4f9d\u8d56"},{"location":"Android/Application/RecycleView/#3recycleview-item","text":"layout/recycleview_item.xml <?xml version=\"1.0\" encoding=\"utf-8\"?> <LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\" xmlns:app=\"http://schemas.android.com/apk/res-auto\" xmlns:tools=\"http://schemas.android.com/tools\" android:layout_width=\"match_parent\" android:layout_height=\"wrap_content\" android:layout_margin=\"10dp\" android:orientation=\"horizontal\"> <ImageView android:id=\"@+id/imageView\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" tools:srcCompat=\"@tools:sample/avatars[1]\" /> <TextView android:id=\"@+id/textView\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" android:layout_marginLeft=\"30dp\" android:layout_marginTop=\"40dp\" android:fontFamily=\"sans-serif-black\" android:text=\"TextView\" android:textSize=\"25sp\" /> </LinearLayout>","title":"3.\u521b\u5efaRecycleView Item\u5e03\u5c40\u6587\u4ef6"},{"location":"Android/Application/RecycleView/#4layoutactivity_mainxmlrecycleview","text":"<?xml version=\"1.0\" encoding=\"utf-8\"?> <androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\" xmlns:app=\"http://schemas.android.com/apk/res-auto\" xmlns:tools=\"http://schemas.android.com/tools\" android:layout_width=\"match_parent\" android:layout_height=\"match_parent\" tools:context=\".MainActivity\"> <androidx.recyclerview.widget.RecyclerView android:id=\"@+id/recycleview\" android:layout_width=\"match_parent\" android:layout_height=\"match_parent\" tools:listitem=\"@layout/recycleview_item\" /> </androidx.constraintlayout.widget.ConstraintLayout>","title":"4.\u5728layout/activity_main.xml\u4e2d\u6dfb\u52a0RecycleView\u7ec4\u4ef6"},{"location":"Android/Application/RecycleView/#5adapter","text":"public class MyAdapter extends RecyclerView.Adapter<MyAdapter.ViewHolder> { @NonNull @Override public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) { View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.recycleview_item,parent,false); return new ViewHolder(view); } @Override public void onBindViewHolder(@NonNull ViewHolder holder, int position) { holder.icon.setImageResource(R.drawable.ic_launcher_foreground); holder.content.setText(\"Hello it is a test!\"); } @Override public int getItemCount() { return 1024; } public class ViewHolder extends RecyclerView.ViewHolder{ private ImageView icon; private TextView content; public ViewHolder(@NonNull View itemView) { super(itemView); icon = itemView.findViewById(R.id.imageView2); content = itemView.findViewById(R.id.textView2); } } }","title":"5.\u521b\u5efaAdapter"},{"location":"Android/Application/RecycleView/#6activityrecycleview","text":"public class MainActivity extends AppCompatActivity { private RecyclerView recyclerView; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); recyclerView = findViewById(R.id.recycleview); MyAdapter myAdapter = new MyAdapter(); recyclerView.setLayoutManager(new LinearLayoutManager(this)); recyclerView.setAdapter(myAdapter); } }","title":"6.\u5728Activity\u4e2d\u4f7f\u7528RecycleView\u7ec4\u4ef6"},{"location":"Android/android_compiler_system/android_compile_system/","text":"android compiler office site Android \u5e73\u53f0\u7684\u7edd\u5927\u591a\u6570\u5e94\u7528\u662f\u4f7f\u7528 Java \u8bed\u8a00\u5199\u7684\uff0cCPU \u53ea\u80fd\u7406\u89e3\u6c47\u7f16\u6307\u4ee4\uff0c\u65e0\u6cd5\u76f4\u63a5\u8bc6\u522b Java \u8bed\u8a00\u7684\u865a\u62df\u673a\u6307\u4ee4\uff1b\u4e3a\u4e86\u8ba9 CPU \u80fd\u8fd0\u884c Java \u8bed\u8a00\u7f16\u5199\u7684\u7a0b\u5e8f\uff0c\u4e00\u822c\u6709\u4e24\u79cd\u529e\u6cd5\uff1a * \u300c\u8ba1\u7b97\u673a\u79d1\u5b66\u9886\u57df\u7684\u4efb\u4f55\u95ee\u9898\u90fd\u53ef\u4ee5\u901a\u8fc7\u589e\u52a0\u4e00\u4e2a\u95f4\u63a5\u7684\u4e2d\u95f4\u5c42\u6765\u89e3\u51b3\u300d \u5f15\u5165\u4e00\u4e2a\u4e2d\u95f4\u5c42\uff0c\u8fd9\u4e2a\u4e2d\u95f4\u5c42\u8d1f\u8d23 Java\u4ee3\u7801\u7684\u6267\u884c\uff0c\u7136\u540e\u8fd9\u4e2a\u4e2d\u95f4\u5c42\u672c\u8eab\u7f16\u8bd1\u4e3a CPU \u80fd\u7406\u89e3\u7684\u6c47\u7f16\u6307\u4ee4\uff0c\u4e5f\u5c31\u662f CPU -> \u4e2d\u95f4\u5c42 -> Java \u4ee3\u7801\u3002\u5982\u679c\u8fd9\u4e2a\u4e2d\u95f4\u5c42\u91c7\u7528 Java \u8bed\u8a00\u76f4\u63a5\u4f5c\u4e3a\u8f93\u5165\uff0c\u7406\u89e3\u4e00\u53e5 Java \u8bed\u53e5\u5c31\u628aJava\u8bed\u8a00\u7ffb\u8bd1\u4e00\u4e0b\u8ba9CPU \u6267\u884c\u4e00\u6bb5\uff0c\u6211\u4eec\u4e00\u822c\u79f0\u8fd9\u79cd\u6a21\u5f0f\u4e3a\u300c\u89e3\u91ca\u6267\u884c\u300d\u3002\u6bcb\u5eb8\u7f6e\u7591\u8fd9\u79cd\u65b9\u5f0f\u6548\u7387\u662f\u76f8\u5f53\u4f4e\u6548\u7684\u3002 \u76f4\u63a5\u628a Java \u8bed\u8a00\u7ffb\u8bd1\u6210 CPU \u80fd\u7406\u89e3\u7684\u673a\u5668\u8bed\u8a00\u3002\u8fd9\u91cc\u53c8\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a \u5728\u7a0b\u5e8f\u8fd0\u884c\u4e4b\u524d\u76f4\u63a5\u628a Java \u4ee3\u7801\u7f16\u8bd1\u4e3a\u673a\u5668\u8bed\u8a00\u3002\u8fd9\u79cd\u6a21\u5f0f\u6211\u4eec\u79f0\u4e4b\u4e3a AOT \uff08Ahead of time\uff09\u7f16\u8bd1\u3002 \u5728\u7a0b\u5e8f\u8fd0\u884c\u8d77\u6765\u4e4b\u540e\uff0c\u5b9e\u65f6\u5730\u628a Java \u8bed\u8a00\u7f16\u8bd1\u4e3a\u673a\u5668\u8bed\u8a00\u7136\u540e\u6267\u884c\u3002\u8fd9\u79cd\u6a21\u5f0f\u79f0\u4e4b\u4e3a JIT\uff08Just in time\uff09 \u7f16\u8bd1\u3002 \u80cc\u666f\u4ecb\u7ecd\u5b8c\u4e86\u56de\u5230 Android \u5e73\u53f0\u4e0a\u9762\uff0cAndroid \u5e73\u53f0\u5206\u4e3a\u51e0\u4e2a\u9636\u6bb5\uff1a\u5728 Android 5.0 \u6b63\u5f0f\u91c7\u7528 ART \u4e4b\u524d\uff0cAndroid \u91c7\u7528\u7684\u662f \u89e3\u91ca\u6267\u884c + \u8fa3\u9e21 JIT \u7684\u65b9\u5f0f\u6267\u884c Java\u4ee3\u7801\u3002\u5728\u8fd9\u4e2a\u9636\u6bb5\u662f\u8d27\u771f\u4ef7\u5b9e\u7684\u300c\u8fb9\u89e3\u91ca\u8fb9\u6267\u884c\u300d\u7684\u6a21\u5f0f\uff0c\u4ee3\u7801\u6548\u7387\u76f8\u5f53\u4f4e\u4e0b\uff0c\u518d\u52a0\u4e0a\u90a3\u65f6\u5019\u540c\u6837\u8fa3\u9e21\u7684 GC \uff08\u5783\u573e\u56de\u6536\uff09\uff0cAndroid \u7528\u8d77\u6765\u771f\u662f\u60e8\u4e0d\u5fcd\u7779\u3002Android 5.0 \uff5e Android 6.0 \u3002Google \u63a8\u51fa\u4e86 ART \uff08Android Runtime\uff09\u6765\u89e3\u51b3\u4e4b\u524d\u7684 Java \u4ee3\u7801\u6267\u884c\u6548\u7387\u95ee\u9898\u3002\u8fd9\u4e2a\u9636\u6bb5\u91c7\u7528\u7684\u662f\u5b8c\u5168 AOT \u6a21\u5f0f\uff1bAndroid \u5e94\u7528\u5728\u5b89\u88c5\u7684\u65f6\u5019\uff0c\u7cfb\u7edf\u4f1a\u628a\u6240\u6709Java\u4ee3\u7801\u63d0\u524d\u7f16\u8bd1\u4e3a\u673a\u5668\u7801\u3002\u8fd9\u79cd\u6a21\u5f0f\u6709\u4e24\u4e2a\u7f3a\u70b9\u4e0d\u80fd\u5fcd\uff1a\u5b89\u88c5\u901f\u5ea6\u5de8\u6162\u3002\u5373\u4f7f\u662f\u73b0\u5728\u540a\u70b8\u5929\u7684 855 \u91c7\u7528 AOT \u6a21\u5f0f\u7f16\u8bd1\u4e00\u4e0b\u5b89\u88c5\u5305\u6bd4\u8f83\u5927\u7684\u5e94\u7528\uff08\u5982\u652f\u4ed8\u5b9d\uff09\u53ef\u80fd\u5c31\u8981\u4e00\u5206\u949f\u3002\u90a3\u4e2a\u65f6\u5019\u7684 CPU \u53ef\u4e0d\u5982\u73b0\u5728\uff0c\u5b89\u88c5\u4e00\u4e2a\u5e94\u7528\u90fd\u8ba9\u4f60\u7b49\u5f97\u5934\u76ae\u53d1\u9ebb\u3002\u66f4\u8981\u547d\u7684\u65f6\u5019\uff0c\u7cfb\u7edf OTA \u5f00\u673a\u4f1a\u5bf9\u6240\u6709\u7684\u5e94\u7528\u6267\u884c AOT \u64cd\u4f5c\uff0c\u8fd9\u65f6\u5019\u4f60\u7684\u5f00\u673a\u901f\u5ea6\u53ef\u80fd\u8981\u534a\u4e2a\u5c0f\u65f6\u3002\u3002\u3002\u5360\u7528\u78c1\u76d8\u7a7a\u95f4\uff0cJava \u4ee3\u7801\u7f16\u8bd1\u4e3a\u673a\u5668\u7801\u4e4b\u540e\u4f53\u79ef\u4f1a\u6025\u5267\u81a8\u80c0\u3002Android 7.0 \uff5e \u73b0\u5728\u3002Google\u505a\u4e86\u5f88\u5927\u7684\u6539\u8fdb\uff0c\u57fa\u4e8e\u8fd9\u6837\u4e00\u4e2a\u4e8b\u5b9e\uff1a\u6211\u4eec\u4f7f\u7528\u4e00\u4e2a\u5e94\u7528\u7684\u65f6\u5019\uff0c\u57fa\u672c\u6bcf\u4e2a\u4eba\u53ea\u4f7f\u7528\u5b83\u4e00\u5c0f\u90e8\u5206\u529f\u80fd\uff0c\u4e3a\u4ec0\u4e48\u8981\u628a\u6240\u6709\u4ee3\u7801\u5168\u7f16\u8bd1\u5462\uff1f\u53ea\u7f16\u8bd1\u4f60\u7ecf\u5e38\u7528\u7684\u90a3\u90e8\u5206\u4ee3\u7801\u4e0d\u5c31 OK \u4e86\uff0c\u8fd9\u6837\u5b89\u88c5\u7684\u65f6\u5019\u5565\u4e5f\u4e0d\u5e72\u901f\u5ea6\u98de\u5feb\uff0c\u7b49\u4f60\u7528\u7684\u65f6\u5019\u7cfb\u7edf\u5c31\u80fd\u77e5\u9053\u54ea\u90e8\u5206\u4ee3\u7801\u7ecf\u5e38\u88ab\u6267\u884c\uff0c\u628a\u8fd9\u90e8\u5206\u4ee3\u7801\u7f16\u8bd1\u4e3a\u673a\u5668\u7801\uff0c\u8fd0\u884c\u8d77\u6765\u901f\u5ea6\u4e5f\u5feb\u3002\u4e8e\u662f Google \u53c8\u5f15\u5165\u4e86 JIT\uff0c\u8fd9\u65f6\u5019\u7684\u6267\u884c\u6a21\u5f0f\u662f AOT + JIT + \u89e3\u91ca\u6267\u884c\u3002\u5e94\u7528\u5b89\u88c5\u7684\u65f6\u5019\u4e0d\u6267\u884c AOT \u7f16\u8bd1\uff0c\u5b89\u88c5\u901f\u5ea6\u98de\u5feb\u3002\u521d\u6b21\u4f7f\u7528\u5e94\u7528\u7684\u65f6\u5019\u6ca1\u6709\u673a\u5668\u7801\uff0c\u56e0\u6b64\u53ea\u80fd\u89e3\u91ca\u6267\u884c\u3002\u5e94\u7528\u8fd0\u884c\u8d77\u6765\u4e4b\u540e\uff0c\u7cfb\u7edf\u6536\u96c6\u7ecf\u5e38\u88ab\u8fd0\u884c\u7684\u4ee3\u7801\u7684\u4fe1\u606f\uff0c\u505a\u4e24\u4ef6\u4e8b\uff1a1\uff09\u5728\u5fc5\u8981\u7684\u65f6\u5019\u5728\u8fd0\u884c\u65f6\u76f4\u63a5\u628a Java \u4ee3\u7801\u7f16\u8bd1\u4e3a\u673a\u5668\u7801 \uff08JIT\uff09\uff0c\u7136\u540e\u4f7f\u7528\u673a\u5668\u7801\u6267\u884c\u63d0\u9ad8\u8fd0\u884c\u6548\u7387\u30022\uff09\u628a\u8fd9\u4e2a\u300c\u7ecf\u5e38\u88ab\u8fd0\u884c\u7684\u4ee3\u7801\u4fe1\u606f\u4fdd\u5b58\u8d77\u6765\u300d\u8bbe\u5907\u7a7a\u95f2\u7684\u65f6\u5019\uff0c\u7cfb\u7edf\u62ff\u51fa\u5e94\u7528\u8fd0\u884c\u65f6\u5019\u4fdd\u5b58\u7684\u300c\u70ed\u70b9\u4ee3\u7801\u4fe1\u606f\u300d\u76f4\u63a5\u628a\u8fd9\u4e9b\u4ee3\u7801\u7f16\u8bd1\u4e3a\u673a\u5668\u7801 \uff08AOT\uff09\u5173\u4e8e Android 7.0 \u7cfb\u7edf\u7684\u6f14\u8fdb\u53ef\u4ee5\u53c2\u9605\u8fd9\u91cc\uff1ahttp://s3.amazonaws.com/connect.linaro.org/las16/Presentations/Tuesday/LAS16-201%20-%20ART%20JIT%20in%20Android%20N.pdfAndroid 8.0\u4e0a\u6539\u8fdb\u4e86\u89e3\u91ca\u5668\uff0c\u89e3\u91ca\u6a21\u5f0f\u6267\u884c\u6548\u7387\u5927\u5e45\u63d0\u5347\uff1bAndroid 9.0\u4e0a\u63d0\u4f9b\u4e86\u9884\u5148\u653e\u7f6e\u70ed\u70b9\u4ee3\u7801\u7684\u65b9\u5f0f\uff0c\u5e94\u7528\u5728\u5b89\u88c5\u7684\u65f6\u5019\u5c31\u80fd\u77e5\u9053\u5e38\u7528\u4ee3\u7801\u4f1a\u88ab\u63d0\u524d\u7f16\u8bd1\u3002\u53ef\u4ee5\u770b\u5230\uff0c\u5f53\u524d Android \u5e73\u53f0\u7684\u6267\u884c\u6a21\u5f0f\u5728\u7a7a\u95f4\u5360\u7528+\u5b89\u88c5\u901f\u5ea6+\u8fd0\u884c\u901f\u5ea6\u4e0a\u5df2\u7ecf\u8fbe\u5230\u4e86\u4e00\u4e2a\u5f88\u597d\u7684\u5e73\u8861\u3002\u56de\u5230\u534e\u4e3a\u7684\u8fd9\u4e2a\u65b9\u821f\u7f16\u8bd1\u5668\u4e0a\u9762\uff0c\u73b0\u5728\u7684 Android \u662f\u8fb9\u89e3\u91ca\u8fb9\u6267\u884c\u7684\u5417\uff1f\u53ef\u4ee5\u8bf4\u662f\uff0c\u4e5f\u53ef\u4ee5\u8bf4\u4e0d\u662f\u3002\u4e0a\u9762\u6211\u5df2\u7ecf\u63d0\u5230\u4e86\uff0c\u73b0\u5728\u7684 Android \u662f \u89e3\u91ca\u6267\u884c + \u8fd8\u7b97\u53ef\u4ee5\u7684JIT + AOT \u7684\u6a21\u5f0f\u3002\u5e76\u4e14\uff0c\u4f60\u4e5f\u53ef\u4ee5\u624b\u52a8\u628a\u5e94\u7528\u7684\u4ee3\u7801\u5168\u90e8\u63d0\u524d\u7f16\u8bd1\u8fbe\u5230\u5b8c\u5168 AOT \u7684\u6548\u679c\uff08\u5f88\u591a\u7b54\u6848\u91cc\u9762\u63d0\u5230\u7684 AOT \u5c31\u662f\u8bf4\u7684\u8fd9\u79cd\uff09\uff1b\u4e0d\u8fc7\u8fd9\u5c5e\u4e8e\u5f00\u5012\u8f66\uff0cGoogle \u80af\u5b9a\u4e0d\u4f1a\u8fd9\u4e48\u505a\u3002\u8fd9\u6837\u505a\u6548\u679c\u6709\u591a\u5927\u5462\uff1f\u8fd9\u4e2a\u6211\u6709\u53d1\u8a00\u6743\u3002\u4e4b\u524d\u5728\u652f\u4ed8\u5b9d\u505a\u6027\u80fd\u4f18\u5316\u7684\u65f6\u5019\uff0c\u6211\u5e72\u8fc7\u8fd9\u4e48\u4e00\u56de\u4e8b\uff1a\u8ba9\u5e94\u7528\u5728\u540e\u53f0\u8fd0\u884c\u7684\u65f6\u5019\u8bf7\u6c42\u7cfb\u7edf\u76f4\u63a5\u91c7\u7528 everything \u6a21\u5f0f\u7f16\u8bd1\u652f\u4ed8\u5b9d\uff0c\u672c\u5730\u6d4b\u8bd5\u542f\u52a8\u901f\u5ea6\u6709\u7206\u70b8\u6027\u63d0\u5347\uff0830%~50%\uff09\uff1b\u4f46\u662f\u7070\u5ea6\u6d4b\u8bd5\u7684\u65f6\u5019\u6548\u679c\u4e0d\u660e\u663e\uff0c\u4e3a\u4ec0\u4e48\u5462\uff1f\u5176\u4e00\u662f\u540e\u53f0\u5168\u7f16\u8bd1\u8fd0\u884c\u6210\u529f\u7387\u4f4e\uff0c\u5176\u4e8c\u662f\u7cfb\u7edf\u7684 JIT + \u540e\u53f0 AOT \u4e0d\u662f\u5403\u7d20\u7684\uff1b\u8003\u8651\u5230\u8017\u7535/\u5360\u7a7a\u95f4\u7684\u95ee\u9898\u538b\u6839\u6ca1\u4e0a\u7ebf\u3002\u6240\u4ee5\u5982\u679c\u534e\u4e3a\u53ea\u662f\u7b80\u5355\u5730\u7528\u8fd9\u79cd\u65b9\u5f0f\u53bb\u907f\u514d\u6240\u8c13\u7684\u300c\u8fb9\u89e3\u91ca\u8fb9\u6267\u884c\u300d\u90a3\u5c31\u76f8\u5f53\u6ef4 low\uff0c\u4f46\u662f\u6309\u7167 GPU Turbo\u8fd9\u79cd\u9ed1\u79d1\u6280\u6765\u770b\uff0c\u6211\u89c9\u5f97\u4e0d\u592a\u53ef\u80fd\u662f\u8fd9\u4e2a\u3002\u9664\u4e86 Android \u7cfb\u7edf\u7684\u8fd9\u79cd AOT \u4e4b\u5916\uff0c\u96be\u9053\u6ca1\u6709\u522b\u7684\u529e\u6cd5\u4e86\u5417\uff1f\u6211\u4e0d\u8d1f\u8d23\u4efb\u5730\u731c\u6d4b\u4e00\u4e0b\uff0c\u65b9\u821f\u7f16\u8bd1\u5668\u662f\u4e0d\u662f\u5728Android \u5e94\u7528\u6253\u5305\u6210APK\u7684\u65f6\u5019\uff0c\u76f4\u63a5\u628a Java \u4ee3\u7801\u7f16\u8bd1\u4e3a\u4e86\u673a\u5668\u7801\uff1f\u6ce8\u610f\u8fd9\u4e2a\u8ddfAndroid\u7cfb\u7edf\u7684\u90a3\u4e2a AOT \u662f\u4e0d\u6837\u7684\uff0c\u7cfb\u7edf\u662f\u5728\u5e94\u7528\u5b89\u88c5\u6216\u8005\u7cfb\u7edf\u7a7a\u95f2\u7684\u65f6\u5019\u505a\u7f16\u8bd1\uff1b\u8fd9\u79cd\u65b9\u5f0f\u4f60\u4e0b\u8f7d\u5230\u7684\u5b89\u88c5\u5305\u5c31\u662f\u7f16\u8bd1\u597d\u7684\u4e86\uff0c\u4e0d\u9700\u8981\u7cfb\u7edf\u52a8\u624b\u3002\u5982\u679c\u662f\u7b2c\u4e00\u79cd\uff0c\u8fa3\u9e21\u534e\u4e3a\u3002\u5982\u679c\u662f\u7b2c\u4e8c\u79cd\uff0c\u540a\u70b8\u5929\uff01\uff01\uff01\u5f53\u7136\u8fd8\u6709\u522b\u7684\u53ef\u80fd\uff0c\u4e0d\u7ba1\u548b\u6837\uff0c\u9759\u5f85\u5f00\u6e90","title":"Android\u7f16\u8bd1\u7cfb\u7edf"},{"location":"Android/android_ndk/android_art/","text":"Android ART # ART # ART: Android Runtime \u662f AOT(Ahead of time) APK\u5728\u5b89\u88c5\u65f6\u88ab\u6267\u884c\u4e86AOT AOT\uff08Ahead Of Time\uff09\u662f\u76f8\u5bf9JIT\uff08Just In Time\uff09\u800c\u8a00\u7684 \u5728ART\u4e2d\uff0c\u6253\u5305\u5728APK\u91cc\u9762\u7684Dex\u5b57\u8282\u7801\u662f\u901a\u8fc7LLVM\u7ffb\u8bd1\u6210\u672c\u5730\u673a\u5668\u6307\u4ee4\u7684 LLVM(Low Level Virtual Meachine) #","title":"ART"},{"location":"Android/android_ndk/android_art/#android-art","text":"","title":"Android ART"},{"location":"Android/android_ndk/android_art/#art","text":"ART: Android Runtime \u662f AOT(Ahead of time) APK\u5728\u5b89\u88c5\u65f6\u88ab\u6267\u884c\u4e86AOT AOT\uff08Ahead Of Time\uff09\u662f\u76f8\u5bf9JIT\uff08Just In Time\uff09\u800c\u8a00\u7684 \u5728ART\u4e2d\uff0c\u6253\u5305\u5728APK\u91cc\u9762\u7684Dex\u5b57\u8282\u7801\u662f\u901a\u8fc7LLVM\u7ffb\u8bd1\u6210\u672c\u5730\u673a\u5668\u6307\u4ee4\u7684","title":"ART"},{"location":"Android/android_ndk/android_art/#llvmlow-level-virtual-meachine","text":"","title":"LLVM(Low Level Virtual Meachine)"},{"location":"Android/android_ndk/android_cmake/","text":"Android Studio CMake # 1.\u5c06\u7b2c\u4e09\u65b9.so\u6253\u5305\u8fdbAPK # \u53ea\u6709\u5c06\u7b2c\u4e09\u65b9.so\u6587\u4ef6\u6253\u5305\u8fdbAPK\uff0c\u7a0b\u5e8f\u5728\u8fd0\u884c\u65f6\u624d\u80fd\u4f7f\u7528 \u65b9\u6cd5\u4e00 \u521b\u5efasrc/main/jniLibs\u6587\u4ef6\u5939\uff0c\u5e76\u5c06\u5404\u4e2a\u67b6\u6784\u7684.so\u6587\u4ef6\u653e\u5728\u8fd9\u4e2a\u6587\u4ef6\u5939\u4e0b\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0bgradle\u6784\u5efa\u7cfb\u7edf\u4f1a\u53bbsrc/main/jniLib\u6587\u4ef6\u5939 \u4e0b\u5bfb\u627e.so\u6587\u4ef6\u3002 \u5f53\u7136\u4e5f\u53ef\u4ee5\u53ea\u653e\u4f60\u7528\u5230\u7684\u67b6\u6784\uff0c\u5c31\u5982\u4e0a\u56fe\u6240\u793a\uff0c\u6211\u53ea\u4f1a\u7528\u5230arm64-v8a\u3002 \u4f46\u662fgradle\u6784\u5efa\u65f6\u9ed8\u8ba4\u4f1a\u53bb\u5bfb\u627e\u6240\u6709\u7684\u67b6\u6784\uff0c\u5982\u679c\u7f3a\u5c11\u5c31\u4f1a\u62a5\u9519\uff0c\u6240\u4ee5\u6211\u4eec\u8fd8\u9700\u8981\u544a\u8bc9gradle\u6784\u5efa\u7cfb\u7edf\uff0c \u6211\u4eec\u53ea\u9700\u8981arm64-v8a\u67b6\u6784\uff0c\u65b9\u6cd5\u5982\u4e0b\uff1a android { ... defaultConfig { ... externalNativeBuild { cmake {...} } // Similar to other properties in the defaultConfig block, // you can configure the ndk block for each product flavor // in your build configuration. ndk { // Specifies the ABI configurations of your native // libraries Gradle should build and package with your APK. abiFilters 'arm64-v8a' //,'armeabi-v7a' } } buildTypes {...} externalNativeBuild {...} } \u65b9\u6cd5\u4e8c \u5c06.so\u6587\u4ef6\u653e\u5728\u5de5\u7a0b\u4e2d\u7684\u4efb\u610f\u6587\u4ef6\u5939\u4e2d\uff0c\u6bd4\u5982libs\uff0c\u7136\u540e\u544a\u8bc9gradle\u6784\u5efa\u7cfb\u7edf\u5bfb\u627e.so\u6587\u4ef6\u7684\u8def\u5f84\uff0c\u65b9\u6cd5\u5982\u4e0b\uff1a android { ... sourceSets { main { jniLibs.srcDirs 'libs' } } } 2.CMake\u57fa\u7840\u77e5\u8bc6\u70b9 # # For more information about using CMake with Android Studio, read the # documentation: https://d.android.com/studio/projects/add-native-code.html # Sets the minimum version of CMake required to build the native library. cmake_minimum_required(VERSION 3.4.1) # \u8fd9\u4e24\u4e2a\u5fc5\u987b\u5199\u5728\u4e00\u5757 add_library(opus SHARED IMPORTED) set_target_properties(opus PROPERTIES IMPORTED_LOCATION ${CMAKE_SOURCE_DIR}/../jniLibs/${ANDROID_ABI}/libopus.so) # Debug\u4fe1\u606f(.externalNativeBuild/cmake/debug/{abi}/cmake_build_output.txt\u4e2d\u67e5\u770b) MESSAGE(STATUS CMAKE_LIBRARY_ARCHITECTURE: ${CMAKE_LIBRARY_ARCHITECTURE}) MESSAGE(STATUS CMAKE_PREFIX_PATH: ${CMAKE_PREFIX_PATH}) MESSAGE(STATUS CMAKE_LIBRARY_PATH: ${CMAKE_LIBRARY_PATH}) MESSAGE(STATUS CMAKE_FRAMEWORK_PATH: ${CMAKE_FRAMEWORK_PATH}) # Creates and names a library, sets it as either STATIC # or SHARED, and provides the relative paths to its source code. # You can define multiple libraries, and CMake builds them for you. # Gradle automatically packages shared libraries with your APK. add_library( # Sets the name of the library. native-lib # Sets the library as a shared library. SHARED # Provides a relative path to your source file(s). native-lib.cpp) # Searches for a specified prebuilt library and stores the path as a # variable. Because CMake includes system libraries in the search path by # default, you only need to specify the name of the public NDK library # you want to add. CMake verifies that the library exists before # completing its build. # \u627e\u5230liblog.so\u6587\u4ef6\uff0c\u5e76\u5c06\u627e\u5230\u7684\u6587\u4ef6\u8def\u5f84\u8d4b\u503c\u7ed9log-lib\u53d8\u91cf # \u5e76\u4e14\u4e0d\u9700\u8981\u63d0\u4f9bliblog.so\u6587\u4ef6\u7684\u8def\u5f84\uff0c\u56e0\u4e3aCMake\u9ed8\u8ba4\u5df2\u7ecf\u5305\u542b\u4e86\u7cfb\u7edf\u5e93\u7684\u641c\u7d22\u8def\u5f84 #find_library( # Sets the name of the path variable. # log-lib # # # Specifies the name of the NDK library that # # you want CMake to locate. # log) # Specifies libraries CMake should link to your target library. You # can link multiple libraries, such as libraries you define in this # build script, prebuilt third-party libraries, or system libraries. # \u8fd9\u4e2a\u5c31\u76f8\u5f53\u4e8e\u7f16\u8bd1\u7684\u65f6\u5019\u94fe\u63a5\u7b2c\u4e09\u65b9\u5e93 # g++ native-lib.c -I. -L. -lopus -llog -o libnative-lib.so target_link_libraries( # Specifies the target library. native-lib opus # Links the target library to the log library # included in the NDK. log) 2.1 Using CMake variables in Gradle # externalNativeBuild { cmake { cppFlags \"-frtti -fexceptions -std=c++14\" arguments '-DANDROID_STL=c++_shared' } } 2.2 aux_source_directory # # \u67e5\u627e\u6240\u6709\u6e90\u7801 \u5e76\u62fc\u63a5\u5230\u8def\u5f84\u5217\u8868 aux_source_directory(${CMAKE_HOME_DIRECTORY}/src/api SRC_LIST) aux_source_directory(${CMAKE_HOME_DIRECTORY}/src/core CORE_SRC_LIST) list(APPEND SRC_LIST ${CORE_SRC_LIST}) add_library(native-lib SHARED ${SRC_LIST})","title":"Android CMake\u77e5\u8bc6\u70b9"},{"location":"Android/android_ndk/android_cmake/#android-studio-cmake","text":"","title":"Android Studio CMake"},{"location":"Android/android_ndk/android_cmake/#1soapk","text":"\u53ea\u6709\u5c06\u7b2c\u4e09\u65b9.so\u6587\u4ef6\u6253\u5305\u8fdbAPK\uff0c\u7a0b\u5e8f\u5728\u8fd0\u884c\u65f6\u624d\u80fd\u4f7f\u7528 \u65b9\u6cd5\u4e00 \u521b\u5efasrc/main/jniLibs\u6587\u4ef6\u5939\uff0c\u5e76\u5c06\u5404\u4e2a\u67b6\u6784\u7684.so\u6587\u4ef6\u653e\u5728\u8fd9\u4e2a\u6587\u4ef6\u5939\u4e0b\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0bgradle\u6784\u5efa\u7cfb\u7edf\u4f1a\u53bbsrc/main/jniLib\u6587\u4ef6\u5939 \u4e0b\u5bfb\u627e.so\u6587\u4ef6\u3002 \u5f53\u7136\u4e5f\u53ef\u4ee5\u53ea\u653e\u4f60\u7528\u5230\u7684\u67b6\u6784\uff0c\u5c31\u5982\u4e0a\u56fe\u6240\u793a\uff0c\u6211\u53ea\u4f1a\u7528\u5230arm64-v8a\u3002 \u4f46\u662fgradle\u6784\u5efa\u65f6\u9ed8\u8ba4\u4f1a\u53bb\u5bfb\u627e\u6240\u6709\u7684\u67b6\u6784\uff0c\u5982\u679c\u7f3a\u5c11\u5c31\u4f1a\u62a5\u9519\uff0c\u6240\u4ee5\u6211\u4eec\u8fd8\u9700\u8981\u544a\u8bc9gradle\u6784\u5efa\u7cfb\u7edf\uff0c \u6211\u4eec\u53ea\u9700\u8981arm64-v8a\u67b6\u6784\uff0c\u65b9\u6cd5\u5982\u4e0b\uff1a android { ... defaultConfig { ... externalNativeBuild { cmake {...} } // Similar to other properties in the defaultConfig block, // you can configure the ndk block for each product flavor // in your build configuration. ndk { // Specifies the ABI configurations of your native // libraries Gradle should build and package with your APK. abiFilters 'arm64-v8a' //,'armeabi-v7a' } } buildTypes {...} externalNativeBuild {...} } \u65b9\u6cd5\u4e8c \u5c06.so\u6587\u4ef6\u653e\u5728\u5de5\u7a0b\u4e2d\u7684\u4efb\u610f\u6587\u4ef6\u5939\u4e2d\uff0c\u6bd4\u5982libs\uff0c\u7136\u540e\u544a\u8bc9gradle\u6784\u5efa\u7cfb\u7edf\u5bfb\u627e.so\u6587\u4ef6\u7684\u8def\u5f84\uff0c\u65b9\u6cd5\u5982\u4e0b\uff1a android { ... sourceSets { main { jniLibs.srcDirs 'libs' } } }","title":"1.\u5c06\u7b2c\u4e09\u65b9.so\u6253\u5305\u8fdbAPK"},{"location":"Android/android_ndk/android_cmake/#2cmake","text":"# For more information about using CMake with Android Studio, read the # documentation: https://d.android.com/studio/projects/add-native-code.html # Sets the minimum version of CMake required to build the native library. cmake_minimum_required(VERSION 3.4.1) # \u8fd9\u4e24\u4e2a\u5fc5\u987b\u5199\u5728\u4e00\u5757 add_library(opus SHARED IMPORTED) set_target_properties(opus PROPERTIES IMPORTED_LOCATION ${CMAKE_SOURCE_DIR}/../jniLibs/${ANDROID_ABI}/libopus.so) # Debug\u4fe1\u606f(.externalNativeBuild/cmake/debug/{abi}/cmake_build_output.txt\u4e2d\u67e5\u770b) MESSAGE(STATUS CMAKE_LIBRARY_ARCHITECTURE: ${CMAKE_LIBRARY_ARCHITECTURE}) MESSAGE(STATUS CMAKE_PREFIX_PATH: ${CMAKE_PREFIX_PATH}) MESSAGE(STATUS CMAKE_LIBRARY_PATH: ${CMAKE_LIBRARY_PATH}) MESSAGE(STATUS CMAKE_FRAMEWORK_PATH: ${CMAKE_FRAMEWORK_PATH}) # Creates and names a library, sets it as either STATIC # or SHARED, and provides the relative paths to its source code. # You can define multiple libraries, and CMake builds them for you. # Gradle automatically packages shared libraries with your APK. add_library( # Sets the name of the library. native-lib # Sets the library as a shared library. SHARED # Provides a relative path to your source file(s). native-lib.cpp) # Searches for a specified prebuilt library and stores the path as a # variable. Because CMake includes system libraries in the search path by # default, you only need to specify the name of the public NDK library # you want to add. CMake verifies that the library exists before # completing its build. # \u627e\u5230liblog.so\u6587\u4ef6\uff0c\u5e76\u5c06\u627e\u5230\u7684\u6587\u4ef6\u8def\u5f84\u8d4b\u503c\u7ed9log-lib\u53d8\u91cf # \u5e76\u4e14\u4e0d\u9700\u8981\u63d0\u4f9bliblog.so\u6587\u4ef6\u7684\u8def\u5f84\uff0c\u56e0\u4e3aCMake\u9ed8\u8ba4\u5df2\u7ecf\u5305\u542b\u4e86\u7cfb\u7edf\u5e93\u7684\u641c\u7d22\u8def\u5f84 #find_library( # Sets the name of the path variable. # log-lib # # # Specifies the name of the NDK library that # # you want CMake to locate. # log) # Specifies libraries CMake should link to your target library. You # can link multiple libraries, such as libraries you define in this # build script, prebuilt third-party libraries, or system libraries. # \u8fd9\u4e2a\u5c31\u76f8\u5f53\u4e8e\u7f16\u8bd1\u7684\u65f6\u5019\u94fe\u63a5\u7b2c\u4e09\u65b9\u5e93 # g++ native-lib.c -I. -L. -lopus -llog -o libnative-lib.so target_link_libraries( # Specifies the target library. native-lib opus # Links the target library to the log library # included in the NDK. log)","title":"2.CMake\u57fa\u7840\u77e5\u8bc6\u70b9"},{"location":"Android/android_ndk/android_cmake/#21-using-cmake-variables-in-gradle","text":"externalNativeBuild { cmake { cppFlags \"-frtti -fexceptions -std=c++14\" arguments '-DANDROID_STL=c++_shared' } }","title":"2.1 Using CMake variables in Gradle"},{"location":"Android/android_ndk/android_cmake/#22-aux_source_directory","text":"# \u67e5\u627e\u6240\u6709\u6e90\u7801 \u5e76\u62fc\u63a5\u5230\u8def\u5f84\u5217\u8868 aux_source_directory(${CMAKE_HOME_DIRECTORY}/src/api SRC_LIST) aux_source_directory(${CMAKE_HOME_DIRECTORY}/src/core CORE_SRC_LIST) list(APPEND SRC_LIST ${CORE_SRC_LIST}) add_library(native-lib SHARED ${SRC_LIST})","title":"2.2 aux_source_directory"},{"location":"Android/android_ndk/android_ndk/","text":"Android NDK\u5f00\u53d1 # \u6ce8\u610f\uff1aJava\u901a\u8fc7JNI\u8c03\u7528C/C++\u7a0b\u5e8f\uff0c\u5176\u6548\u7387\u5e76\u4e0d\u4e00\u5b9a\u4f1a\u63d0\u9ad8\uff0c\u751a\u81f3\u4f1a\u6bd4\u7eafjava\u8fd8\u4f4e 1. \u4f7f\u7528\u4e0d\u5e26JNI\u63a5\u53e3\u7684.so\u6587\u4ef6 # \u4e0d\u5e26JNI\u63a5\u53e3\u7684.so\u6587\u4ef6\uff0c\u4e00\u822c\u662f\u76f4\u63a5\u7531\u73b0\u6709C/C++\u4ee3\u7801\u7f16\u8bd1\u6210\u7684\u3002\u5728Android\u4f7f\u7528\u65f6\u9700\u81ea\u5df1\u7f16\u5199JNI\u5c42\u3002 eg: add.c // add.c int add(int a,int b) { return a+b; } 1.1 \u5728Android Studio\u4e2d\u5c06add.c\u7f16\u8bd1\u4e3a.so\u6587\u4ef6 # Android Studio\u4e2d\u65b0\u5efaJNI\u5de5\u7a0b\uff0c\u7136\u540e\u5728CMakeList.txt\u6587\u4ef6\u4e2d\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9\uff1a add_library( # Sets the name of the library. add # Sets the library as a shared library. SHARED # Provides a relative path to your source file(s). add.c) \u5728\u751f\u6210\u7684apk\u6587\u4ef6\u4e2d\u53ef\u4ee5\u627e\u5230libadd.so\u6587\u4ef6 1.2 \u901a\u8fc7JNI\u63a5\u53e3\u8c03\u7528libadd.so\u6587\u4ef6\u4e2d\u7684\u51fd\u6570 # \u5728native-lib.cpp\u4e2d\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9\uff1a #ifdef __cplusplus extern \"C\" #endif // __cplusplus int add(int a,int b); extern \"C\" JNIEXPORT jint JNICALL Java_com_fhc_ndktest_MainActivity_add(JNIEnv *env, jobject thiz, jint a, jint b) { return add(a,b); } \u5728MainActivity.java\u4e2d\u5c31\u53ef\u4ee5\u4f7f\u7528\u4e86 2. \u4f7f\u7528\u5e26JNI\u63a5\u53e3\u7684.so\u6587\u4ef6 # \u4f7f\u7528\u65f6\u8981\u6ce8\u610f\u5305\u540d\uff01\uff01\uff01 1. \u4f7f\u7528\u73b0\u6709\u7684C/C++\u5e93 # \u53ef\u4ee5\u76f4\u63a5\u7f16\u8bd1\u6210.so\uff08\u4e0d\u5e26JNI\u63a5\u53e3\uff09\u6587\u4ef6\u7136\u540e\u5728Android Studio\u4e2d\u5f15\u7528\uff0c\u8fd9\u79cd\u65b9\u6cd5\u9700\u8981\u7f16\u5199JNI\u63a5\u53e3\uff0cjava\u5c42\u624d\u80fd\u8c03\u7528 java\u8c03\u7528C/C++\u4ee3\u7801\u5fc5\u987b\u901a\u8fc7JNI\u63a5\u53e3 2. \u4f7f\u7528\u81ea\u5df1\u5199\u7684C/C++\u7a0b\u5e8f #","title":"NDK\u5f00\u53d1"},{"location":"Android/android_ndk/android_ndk/#android-ndk","text":"\u6ce8\u610f\uff1aJava\u901a\u8fc7JNI\u8c03\u7528C/C++\u7a0b\u5e8f\uff0c\u5176\u6548\u7387\u5e76\u4e0d\u4e00\u5b9a\u4f1a\u63d0\u9ad8\uff0c\u751a\u81f3\u4f1a\u6bd4\u7eafjava\u8fd8\u4f4e","title":"Android NDK\u5f00\u53d1"},{"location":"Android/android_ndk/android_ndk/#1-jniso","text":"\u4e0d\u5e26JNI\u63a5\u53e3\u7684.so\u6587\u4ef6\uff0c\u4e00\u822c\u662f\u76f4\u63a5\u7531\u73b0\u6709C/C++\u4ee3\u7801\u7f16\u8bd1\u6210\u7684\u3002\u5728Android\u4f7f\u7528\u65f6\u9700\u81ea\u5df1\u7f16\u5199JNI\u5c42\u3002 eg: add.c // add.c int add(int a,int b) { return a+b; }","title":"1. \u4f7f\u7528\u4e0d\u5e26JNI\u63a5\u53e3\u7684.so\u6587\u4ef6"},{"location":"Android/android_ndk/android_ndk/#11-android-studioaddcso","text":"Android Studio\u4e2d\u65b0\u5efaJNI\u5de5\u7a0b\uff0c\u7136\u540e\u5728CMakeList.txt\u6587\u4ef6\u4e2d\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9\uff1a add_library( # Sets the name of the library. add # Sets the library as a shared library. SHARED # Provides a relative path to your source file(s). add.c) \u5728\u751f\u6210\u7684apk\u6587\u4ef6\u4e2d\u53ef\u4ee5\u627e\u5230libadd.so\u6587\u4ef6","title":"1.1 \u5728Android Studio\u4e2d\u5c06add.c\u7f16\u8bd1\u4e3a.so\u6587\u4ef6"},{"location":"Android/android_ndk/android_ndk/#12-jnilibaddso","text":"\u5728native-lib.cpp\u4e2d\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9\uff1a #ifdef __cplusplus extern \"C\" #endif // __cplusplus int add(int a,int b); extern \"C\" JNIEXPORT jint JNICALL Java_com_fhc_ndktest_MainActivity_add(JNIEnv *env, jobject thiz, jint a, jint b) { return add(a,b); } \u5728MainActivity.java\u4e2d\u5c31\u53ef\u4ee5\u4f7f\u7528\u4e86","title":"1.2 \u901a\u8fc7JNI\u63a5\u53e3\u8c03\u7528libadd.so\u6587\u4ef6\u4e2d\u7684\u51fd\u6570"},{"location":"Android/android_ndk/android_ndk/#2-jniso","text":"\u4f7f\u7528\u65f6\u8981\u6ce8\u610f\u5305\u540d\uff01\uff01\uff01","title":"2. \u4f7f\u7528\u5e26JNI\u63a5\u53e3\u7684.so\u6587\u4ef6"},{"location":"Android/android_ndk/android_ndk/#1-cc","text":"\u53ef\u4ee5\u76f4\u63a5\u7f16\u8bd1\u6210.so\uff08\u4e0d\u5e26JNI\u63a5\u53e3\uff09\u6587\u4ef6\u7136\u540e\u5728Android Studio\u4e2d\u5f15\u7528\uff0c\u8fd9\u79cd\u65b9\u6cd5\u9700\u8981\u7f16\u5199JNI\u63a5\u53e3\uff0cjava\u5c42\u624d\u80fd\u8c03\u7528 java\u8c03\u7528C/C++\u4ee3\u7801\u5fc5\u987b\u901a\u8fc7JNI\u63a5\u53e3","title":"1. \u4f7f\u7528\u73b0\u6709\u7684C/C++\u5e93"},{"location":"Android/android_ndk/android_ndk/#2-cc","text":"","title":"2. \u4f7f\u7528\u81ea\u5df1\u5199\u7684C/C++\u7a0b\u5e8f"},{"location":"Android/android_ndk/cross-compile_opencv_for_android/","text":"Cross-compile OpenCV for android use CMake # 1.Get Android Standalone Toolchains # 2.Get Android SDK # 3.Install Nanja and Ant # 4.Compile # cmake \\ -DCMAKE_TOOLCHAIN_FILE=../platforms/android/android.toolchain.cmake \\ -DANDROID_STL=gnustl_shared \\ -DANDROID_NATIVE_API_LEVEL=23 ..","title":"Android\u4ea4\u53c9\u7f16\u8bd1OpenCV"},{"location":"Android/android_ndk/cross-compile_opencv_for_android/#cross-compile-opencv-for-android-use-cmake","text":"","title":"Cross-compile OpenCV for android use CMake"},{"location":"Android/android_ndk/cross-compile_opencv_for_android/#1get-android-standalone-toolchains","text":"","title":"1.Get Android Standalone Toolchains"},{"location":"Android/android_ndk/cross-compile_opencv_for_android/#2get-android-sdk","text":"","title":"2.Get Android SDK"},{"location":"Android/android_ndk/cross-compile_opencv_for_android/#3install-nanja-and-ant","text":"","title":"3.Install Nanja and Ant"},{"location":"Android/android_ndk/cross-compile_opencv_for_android/#4compile","text":"cmake \\ -DCMAKE_TOOLCHAIN_FILE=../platforms/android/android.toolchain.cmake \\ -DANDROID_STL=gnustl_shared \\ -DANDROID_NATIVE_API_LEVEL=23 ..","title":"4.Compile"},{"location":"Android/android_ndk/cross-compile_opus_for_android/","text":"Cross-Compile OPUS # 1.Create Standalone Toolchains for ARM-Android # Standalone Toolchains # NDK18\u4ee5\u53ca\u4e4b\u524d\u7684\u7248\u672c /build/tools/make_standalone_toolchain.py --arch arm --api 21 --install-dir /tmp/my-android-toolchain # NDK19\u5df2\u7ecf\u9ed8\u8ba4\u5b89\u88c5\u5355\u673a\u5de5\u5177\u94fe\uff0cmake_standalone_toolchain.py\u811a\u672c\u5df2\u7ecf\u4e0d\u518d\u9700\u8981 2.Configure the Environment variable # # \u5bfc\u51fa\u9700\u8981\u4f7f\u7528\u7684\u7f16\u8bd1\u5de5\u5177\uff08NDK18\u4ee5\u53ca\u4e4b\u524d\u7684\u7248\u672c\uff09 export PATH=$PATH:your_ndk_bin_path export CC=your_ndk_gcc_name export CXX=your_ndk_g++_name # Add the standalone toolchain to the search path. export PATH=$PATH:`pwd`/my-toolchain/bin # Tell configure what tools to use. target_host=aarch64-linux-android export AR=$target_host-ar export AS=$target_host-clang export CC=$target_host-clang export CXX=$target_host-clang++ export LD=$target_host-ld export STRIP=$target_host-strip # Tell configure what flags Android requires. export CFLAGS=\"-fPIE -fPIC\" export LDFLAGS=\"-pie\" # NDK19 export TOOLCHAIN=$NDK/toolchains/llvm/prebuilt/$HOST_TAG export AR=$TOOLCHAIN/bin/aarch64-linux-android-ar export AS=$TOOLCHAIN/bin/aarch64-linux-android-as export CC=$TOOLCHAIN/bin/aarch64-linux-android21-clang export CXX=$TOOLCHAIN/bin/aarch64-linux-android21-clang++ export LD=$TOOLCHAIN/bin/aarch64-linux-android-ld export RANLIB=$TOOLCHAIN/bin/aarch64-linux-android-ranlib export STRIP=$TOOLCHAIN/bin/aarch64-linux-android-strip 3.Compile # sudo apt-get install autoconf libtool-bin automake git clone https://git.xiph.org/opus.git ./autogen.sh > \u56e0\u4e3aOPUS\u662fAutoconf\u5de5\u7a0b\uff0c\u73b0\u5728Autoconf\u5df2\u7ecf\u5bf9Android\u914d\u7f6e\u63d0\u4f9b\u4e86\u652f\u6301\uff0c\u6240\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u5373\u53ef\u7f16\u8bd1\u51faAndroid\u7248\u672c\u7684OPUS ```bash ./configure --host=aarch64-linux-androideabi --prefix=/home/fhc/opus/android_build make make install 4.Compile Demo # # \u624b\u52a8\u94fe\u63a5\u5e93\u548c\u5934\u6587\u4ef6 gcc src/opus_demo.c -L./local_build/lib -lopus -I./local_build/include -I./local_build/include/opus -I./silk -I./celt -I./include -lm # \u4f7f\u7528pkg-config gcc tcp_opus.c -o tcp_opus `pkg-config --libs --cflags opus` 5.\u53c2\u8003Demo # doc/trivial_example.c \u4f8b\u7a0b\u6bd4\u8f83\u7b80\u5355\uff0c\u9002\u5408\u5165\u95e8\u53c2\u8003","title":"\u4ea4\u53c9\u7f16\u8bd1\u793a\u4f8bOPUS"},{"location":"Android/android_ndk/cross-compile_opus_for_android/#cross-compile-opus","text":"","title":"Cross-Compile OPUS"},{"location":"Android/android_ndk/cross-compile_opus_for_android/#1create-standalone-toolchains-for-arm-android","text":"Standalone Toolchains # NDK18\u4ee5\u53ca\u4e4b\u524d\u7684\u7248\u672c /build/tools/make_standalone_toolchain.py --arch arm --api 21 --install-dir /tmp/my-android-toolchain # NDK19\u5df2\u7ecf\u9ed8\u8ba4\u5b89\u88c5\u5355\u673a\u5de5\u5177\u94fe\uff0cmake_standalone_toolchain.py\u811a\u672c\u5df2\u7ecf\u4e0d\u518d\u9700\u8981","title":"1.Create Standalone Toolchains for ARM-Android"},{"location":"Android/android_ndk/cross-compile_opus_for_android/#2configure-the-environment-variable","text":"# \u5bfc\u51fa\u9700\u8981\u4f7f\u7528\u7684\u7f16\u8bd1\u5de5\u5177\uff08NDK18\u4ee5\u53ca\u4e4b\u524d\u7684\u7248\u672c\uff09 export PATH=$PATH:your_ndk_bin_path export CC=your_ndk_gcc_name export CXX=your_ndk_g++_name # Add the standalone toolchain to the search path. export PATH=$PATH:`pwd`/my-toolchain/bin # Tell configure what tools to use. target_host=aarch64-linux-android export AR=$target_host-ar export AS=$target_host-clang export CC=$target_host-clang export CXX=$target_host-clang++ export LD=$target_host-ld export STRIP=$target_host-strip # Tell configure what flags Android requires. export CFLAGS=\"-fPIE -fPIC\" export LDFLAGS=\"-pie\" # NDK19 export TOOLCHAIN=$NDK/toolchains/llvm/prebuilt/$HOST_TAG export AR=$TOOLCHAIN/bin/aarch64-linux-android-ar export AS=$TOOLCHAIN/bin/aarch64-linux-android-as export CC=$TOOLCHAIN/bin/aarch64-linux-android21-clang export CXX=$TOOLCHAIN/bin/aarch64-linux-android21-clang++ export LD=$TOOLCHAIN/bin/aarch64-linux-android-ld export RANLIB=$TOOLCHAIN/bin/aarch64-linux-android-ranlib export STRIP=$TOOLCHAIN/bin/aarch64-linux-android-strip","title":"2.Configure the Environment variable"},{"location":"Android/android_ndk/cross-compile_opus_for_android/#3compile","text":"sudo apt-get install autoconf libtool-bin automake git clone https://git.xiph.org/opus.git ./autogen.sh > \u56e0\u4e3aOPUS\u662fAutoconf\u5de5\u7a0b\uff0c\u73b0\u5728Autoconf\u5df2\u7ecf\u5bf9Android\u914d\u7f6e\u63d0\u4f9b\u4e86\u652f\u6301\uff0c\u6240\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u5373\u53ef\u7f16\u8bd1\u51faAndroid\u7248\u672c\u7684OPUS ```bash ./configure --host=aarch64-linux-androideabi --prefix=/home/fhc/opus/android_build make make install","title":"3.Compile"},{"location":"Android/android_ndk/cross-compile_opus_for_android/#4compile-demo","text":"# \u624b\u52a8\u94fe\u63a5\u5e93\u548c\u5934\u6587\u4ef6 gcc src/opus_demo.c -L./local_build/lib -lopus -I./local_build/include -I./local_build/include/opus -I./silk -I./celt -I./include -lm # \u4f7f\u7528pkg-config gcc tcp_opus.c -o tcp_opus `pkg-config --libs --cflags opus`","title":"4.Compile Demo"},{"location":"Android/android_ndk/cross-compile_opus_for_android/#5demo","text":"doc/trivial_example.c \u4f8b\u7a0b\u6bd4\u8f83\u7b80\u5355\uff0c\u9002\u5408\u5165\u95e8\u53c2\u8003","title":"5.\u53c2\u8003Demo"},{"location":"Android/android_ndk/ijkpalyer_for_rtsp_compile/","text":"Ubuntu\u7f16\u8bd1ijkplayer # 1.\u5b89\u88c5\u4f9d\u8d56\u5de5\u5177 # \u53c2\u8003\u94fe\u63a51 \u53c2\u8003\u94fe\u63a52 sudo apt install git sudo apt install yasm 2.\u5b89\u88c5Android NDK\u5de5\u5177\u94fe # \u5efa\u8bae\u4f7f\u7528ijkplayer\u5b98\u65b9\u4f7f\u7528\u7684\u7248\u672c Android NDK, Revision 10e (May 2015) \u4e0b\u8f7d\u5b8c\u6210\u4e4b\u540e\u89e3\u538b\u5e76\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf # add these lines to your ~/.bash_profile or ~/.profile export ANDROID_SDK=<your sdk path> export ANDROID_NDK=<your ndk path> export PATH=$ANDROID_SDK:$ANDROID_NDK:$PATH \u6dfb\u52a0\u4e4b\u540e\u6267\u884c source .profile \u7acb\u5373\u751f\u6548 \u6d4b\u8bd5Android NDK\u5de5\u5177\u94fe\u662f\u5426\u5b89\u88c5\u6210\u529f ndk-build 3.\u4fee\u6539\u652f\u6301RTSP # vim ijkplayer-android/config/module-lite.sh export COMMON_FF_CFG_FLAGS=\"$COMMON_FF_CFG_FLAGS --enable-protocol=rtp\" //\u4fee\u6539 export COMMON_FF_CFG_FLAGS=\"$COMMON_FF_CFG_FLAGS --enable-protocol=tcp\" //\u6dfb\u52a0 export COMMON_FF_CFG_FLAGS=\"$COMMON_FF_CFG_FLAGS --enable-demuxer=rtsp\" //\u6dfb\u52a0 vim ijkplayer-android/ijkmedia/ijkplayer/ff_ffplay.c //\u4fee\u6539\u540e\u7684\u51fd\u6570 static int packet_queue_get_or_buffering(FFPlayer *ffp, PacketQueue *q, AVPacket *pkt, int *serial, int *finished) { while (1) { int new_packet = packet_queue_get(q, pkt, 1, serial); if (new_packet < 0) { new_packet = packet_queue_get(q, pkt, 0, serial); if(new_packet < 0) return -1; } else if (new_packet == 0) { if (!finished) ffp_toggle_buffering(ffp, 1); new_packet = packet_queue_get(q, pkt, 1, serial); if (new_packet < 0) return -1; } if (*finished == *serial) { av_free_packet(pkt); continue; } else break; } return 1; } 4.\u7f16\u8bd1 # \u7f16\u8bd1 cd ijkplayer-android/android/contrib ./compile-ffmpeg.sh clean ./compile-ffmpeg.sh all cd .. ./compile-ijk.sh all \u5c06ijkplayer\u9879\u76ee\u5bfc\u5165Android studio # Android Studio: # Open an existing Android Studio project # Select android/ijkplayer/ and import 5.\u914d\u7f6eijkplayer\u76f8\u5e94\u53c2\u6570\uff0c\u89e3\u51b3\u5361\u987f\u3001\u5ef6\u8fdf # \u53c2\u8003\u94fe\u63a5 // \u652f\u6301\u786c\u89e3 1\uff1a\u5f00\u542f O:\u5173\u95ed ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_PLAYER, \"mediacodec-hevc\", 1); // \u8bbe\u7f6e\u64ad\u653e\u524d\u7684\u63a2\u6d4b\u65f6\u95f4 1,\u8fbe\u5230\u9996\u5c4f\u79d2\u5f00\u6548\u679c ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_FORMAT, \"analyzeduration\", 1); /** * \u64ad\u653e\u5ef6\u65f6\u7684\u89e3\u51b3\u65b9\u6848 */ // \u5982\u679c\u662frtsp\u534f\u8bae\uff0c\u53ef\u4ee5\u4f18\u5148\u7528tcp(\u9ed8\u8ba4\u662f\u7528udp) ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_FORMAT, \"rtsp_transport\", \"tcp\"); // \u8bbe\u7f6e\u64ad\u653e\u524d\u7684\u6700\u5927\u63a2\u6d4b\u65f6\u95f4 \uff08100\u672a\u6d4b\u8bd5\u662f\u5426\u662f\u6700\u4f73\u503c\uff09 ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_FORMAT, \"analyzemaxduration\", 100L); // \u6bcf\u5904\u7406\u4e00\u4e2apacket\u4e4b\u540e\u5237\u65b0io\u4e0a\u4e0b\u6587 ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_FORMAT, \"flush_packets\", 1L); // \u9700\u8981\u51c6\u5907\u597d\u540e\u81ea\u52a8\u64ad\u653e ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_PLAYER, \"start-on-prepared\", 1); // \u4e0d\u989d\u5916\u4f18\u5316\uff08\u4f7f\u80fd\u975e\u89c4\u8303\u517c\u5bb9\u4f18\u5316\uff0c\u9ed8\u8ba4\u503c0 \uff09 ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_PLAYER, \"fast\", 1); // \u662f\u5426\u5f00\u542f\u9884\u7f13\u51b2\uff0c\u4e00\u822c\u76f4\u64ad\u9879\u76ee\u4f1a\u5f00\u542f\uff0c\u8fbe\u5230\u79d2\u5f00\u7684\u6548\u679c\uff0c\u4e0d\u8fc7\u5e26\u6765\u4e86\u64ad\u653e\u4e22\u5e27\u5361\u987f\u7684\u4f53\u9a8c ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_PLAYER, \"packet-buffering\", 0); // \u81ea\u52a8\u65cb\u5c4f ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_PLAYER, \"mediacodec-auto-rotate\", 0); // \u5904\u7406\u5206\u8fa8\u7387\u53d8\u5316 ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_PLAYER, \"mediacodec-handle-resolution-change\", 0); // \u6700\u5927\u7f13\u51b2\u5927\u5c0f,\u5355\u4f4dkb ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_FORMAT, \"max-buffer-size\", 0); // \u9ed8\u8ba4\u6700\u5c0f\u5e27\u65702 ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_PLAYER, \"min-frames\", 2); // \u6700\u5927\u7f13\u5b58\u65f6\u957f ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_PLAYER, \"max_cached_duration\", 3); //300 // \u662f\u5426\u9650\u5236\u8f93\u5165\u7f13\u5b58\u6570 ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_PLAYER, \"infbuf\", 1); // \u7f29\u77ed\u64ad\u653e\u7684rtmp\u89c6\u9891\u5ef6\u8fdf\u57281s\u5185 ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_FORMAT, \"fflags\", \"nobuffer\"); // \u64ad\u653e\u524d\u7684\u63a2\u6d4bSize\uff0c\u9ed8\u8ba4\u662f1M, \u6539\u5c0f\u4e00\u70b9\u4f1a\u51fa\u753b\u9762\u66f4\u5feb ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_FORMAT, \"probesize\", 200); //1024L) // \u64ad\u653e\u91cd\u8fde\u6b21\u6570 ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_PLAYER,\"reconnect\",5); // TODO: ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_FORMAT, \"http-detect-range-support\", 0); // \u8bbe\u7f6e\u662f\u5426\u5f00\u542f\u73af\u8def\u8fc7\u6ee4: 0\u5f00\u542f\uff0c\u753b\u9762\u8d28\u91cf\u9ad8\uff0c\u89e3\u7801\u5f00\u9500\u5927\uff0c48\u5173\u95ed\uff0c\u753b\u9762\u8d28\u91cf\u5dee\u70b9\uff0c\u89e3\u7801\u5f00\u9500\u5c0f ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_CODEC, \"skip_loop_filter\", 48L); // \u8df3\u8fc7\u5e27 \uff1f\uff1f ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_CODEC, \"skip_frame\", 0); // \u89c6\u9891\u5e27\u5904\u7406\u4e0d\u8fc7\u6765\u7684\u65f6\u5019\u4e22\u5f03\u4e00\u4e9b\u5e27\u8fbe\u5230\u540c\u6b65\u7684\u6548\u679c ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_PLAYER, \"framedrop\", 5); /* \u6682\u672a\u4f7f\u7528 // \u8d85\u65f6\u65f6\u95f4\uff0ctimeout\u53c2\u6570\u53ea\u5bf9http\u8bbe\u7f6e\u6709\u6548\uff0c\u82e5\u679c\u4f60\u7528rtmp\u8bbe\u7f6etimeout\uff0cijkplayer\u5185\u90e8\u4f1a\u5ffd\u7565timeout\u53c2\u6570\u3002rtmp\u7684timeout\u53c2\u6570\u542b\u4e49\u548chttp\u7684\u4e0d\u4e00\u6837\u3002 ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_FORMAT, \"timeout\", 10000000); // \u56e0\u4e3a\u9879\u76ee\u4e2d\u591a\u6b21\u8c03\u7528\u64ad\u653e\u5668\uff0c\u6709\u7f51\u7edc\u89c6\u9891\uff0cresp\uff0c\u672c\u5730\u89c6\u9891\uff0c\u8fd8\u6709wifi\u4e0ahttp\u89c6\u9891\uff0c\u6240\u4ee5\u5f97\u6e05\u7a7aDNS\u624d\u80fd\u64ad\u653eWIFI\u4e0a\u7684\u89c6\u9891 ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_FORMAT, \"dns_cache_clear\", 1); */","title":"\u4ea4\u53c9\u7f16\u8bd1ijkplayer"},{"location":"Android/android_ndk/ijkpalyer_for_rtsp_compile/#ubuntuijkplayer","text":"","title":"Ubuntu\u7f16\u8bd1ijkplayer"},{"location":"Android/android_ndk/ijkpalyer_for_rtsp_compile/#1","text":"\u53c2\u8003\u94fe\u63a51 \u53c2\u8003\u94fe\u63a52 sudo apt install git sudo apt install yasm","title":"1.\u5b89\u88c5\u4f9d\u8d56\u5de5\u5177"},{"location":"Android/android_ndk/ijkpalyer_for_rtsp_compile/#2android-ndk","text":"\u5efa\u8bae\u4f7f\u7528ijkplayer\u5b98\u65b9\u4f7f\u7528\u7684\u7248\u672c Android NDK, Revision 10e (May 2015) \u4e0b\u8f7d\u5b8c\u6210\u4e4b\u540e\u89e3\u538b\u5e76\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf # add these lines to your ~/.bash_profile or ~/.profile export ANDROID_SDK=<your sdk path> export ANDROID_NDK=<your ndk path> export PATH=$ANDROID_SDK:$ANDROID_NDK:$PATH \u6dfb\u52a0\u4e4b\u540e\u6267\u884c source .profile \u7acb\u5373\u751f\u6548 \u6d4b\u8bd5Android NDK\u5de5\u5177\u94fe\u662f\u5426\u5b89\u88c5\u6210\u529f ndk-build","title":"2.\u5b89\u88c5Android NDK\u5de5\u5177\u94fe"},{"location":"Android/android_ndk/ijkpalyer_for_rtsp_compile/#3rtsp","text":"vim ijkplayer-android/config/module-lite.sh export COMMON_FF_CFG_FLAGS=\"$COMMON_FF_CFG_FLAGS --enable-protocol=rtp\" //\u4fee\u6539 export COMMON_FF_CFG_FLAGS=\"$COMMON_FF_CFG_FLAGS --enable-protocol=tcp\" //\u6dfb\u52a0 export COMMON_FF_CFG_FLAGS=\"$COMMON_FF_CFG_FLAGS --enable-demuxer=rtsp\" //\u6dfb\u52a0 vim ijkplayer-android/ijkmedia/ijkplayer/ff_ffplay.c //\u4fee\u6539\u540e\u7684\u51fd\u6570 static int packet_queue_get_or_buffering(FFPlayer *ffp, PacketQueue *q, AVPacket *pkt, int *serial, int *finished) { while (1) { int new_packet = packet_queue_get(q, pkt, 1, serial); if (new_packet < 0) { new_packet = packet_queue_get(q, pkt, 0, serial); if(new_packet < 0) return -1; } else if (new_packet == 0) { if (!finished) ffp_toggle_buffering(ffp, 1); new_packet = packet_queue_get(q, pkt, 1, serial); if (new_packet < 0) return -1; } if (*finished == *serial) { av_free_packet(pkt); continue; } else break; } return 1; }","title":"3.\u4fee\u6539\u652f\u6301RTSP"},{"location":"Android/android_ndk/ijkpalyer_for_rtsp_compile/#4","text":"\u7f16\u8bd1 cd ijkplayer-android/android/contrib ./compile-ffmpeg.sh clean ./compile-ffmpeg.sh all cd .. ./compile-ijk.sh all \u5c06ijkplayer\u9879\u76ee\u5bfc\u5165Android studio # Android Studio: # Open an existing Android Studio project # Select android/ijkplayer/ and import","title":"4.\u7f16\u8bd1"},{"location":"Android/android_ndk/ijkpalyer_for_rtsp_compile/#5ijkplayer","text":"\u53c2\u8003\u94fe\u63a5 // \u652f\u6301\u786c\u89e3 1\uff1a\u5f00\u542f O:\u5173\u95ed ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_PLAYER, \"mediacodec-hevc\", 1); // \u8bbe\u7f6e\u64ad\u653e\u524d\u7684\u63a2\u6d4b\u65f6\u95f4 1,\u8fbe\u5230\u9996\u5c4f\u79d2\u5f00\u6548\u679c ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_FORMAT, \"analyzeduration\", 1); /** * \u64ad\u653e\u5ef6\u65f6\u7684\u89e3\u51b3\u65b9\u6848 */ // \u5982\u679c\u662frtsp\u534f\u8bae\uff0c\u53ef\u4ee5\u4f18\u5148\u7528tcp(\u9ed8\u8ba4\u662f\u7528udp) ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_FORMAT, \"rtsp_transport\", \"tcp\"); // \u8bbe\u7f6e\u64ad\u653e\u524d\u7684\u6700\u5927\u63a2\u6d4b\u65f6\u95f4 \uff08100\u672a\u6d4b\u8bd5\u662f\u5426\u662f\u6700\u4f73\u503c\uff09 ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_FORMAT, \"analyzemaxduration\", 100L); // \u6bcf\u5904\u7406\u4e00\u4e2apacket\u4e4b\u540e\u5237\u65b0io\u4e0a\u4e0b\u6587 ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_FORMAT, \"flush_packets\", 1L); // \u9700\u8981\u51c6\u5907\u597d\u540e\u81ea\u52a8\u64ad\u653e ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_PLAYER, \"start-on-prepared\", 1); // \u4e0d\u989d\u5916\u4f18\u5316\uff08\u4f7f\u80fd\u975e\u89c4\u8303\u517c\u5bb9\u4f18\u5316\uff0c\u9ed8\u8ba4\u503c0 \uff09 ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_PLAYER, \"fast\", 1); // \u662f\u5426\u5f00\u542f\u9884\u7f13\u51b2\uff0c\u4e00\u822c\u76f4\u64ad\u9879\u76ee\u4f1a\u5f00\u542f\uff0c\u8fbe\u5230\u79d2\u5f00\u7684\u6548\u679c\uff0c\u4e0d\u8fc7\u5e26\u6765\u4e86\u64ad\u653e\u4e22\u5e27\u5361\u987f\u7684\u4f53\u9a8c ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_PLAYER, \"packet-buffering\", 0); // \u81ea\u52a8\u65cb\u5c4f ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_PLAYER, \"mediacodec-auto-rotate\", 0); // \u5904\u7406\u5206\u8fa8\u7387\u53d8\u5316 ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_PLAYER, \"mediacodec-handle-resolution-change\", 0); // \u6700\u5927\u7f13\u51b2\u5927\u5c0f,\u5355\u4f4dkb ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_FORMAT, \"max-buffer-size\", 0); // \u9ed8\u8ba4\u6700\u5c0f\u5e27\u65702 ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_PLAYER, \"min-frames\", 2); // \u6700\u5927\u7f13\u5b58\u65f6\u957f ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_PLAYER, \"max_cached_duration\", 3); //300 // \u662f\u5426\u9650\u5236\u8f93\u5165\u7f13\u5b58\u6570 ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_PLAYER, \"infbuf\", 1); // \u7f29\u77ed\u64ad\u653e\u7684rtmp\u89c6\u9891\u5ef6\u8fdf\u57281s\u5185 ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_FORMAT, \"fflags\", \"nobuffer\"); // \u64ad\u653e\u524d\u7684\u63a2\u6d4bSize\uff0c\u9ed8\u8ba4\u662f1M, \u6539\u5c0f\u4e00\u70b9\u4f1a\u51fa\u753b\u9762\u66f4\u5feb ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_FORMAT, \"probesize\", 200); //1024L) // \u64ad\u653e\u91cd\u8fde\u6b21\u6570 ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_PLAYER,\"reconnect\",5); // TODO: ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_FORMAT, \"http-detect-range-support\", 0); // \u8bbe\u7f6e\u662f\u5426\u5f00\u542f\u73af\u8def\u8fc7\u6ee4: 0\u5f00\u542f\uff0c\u753b\u9762\u8d28\u91cf\u9ad8\uff0c\u89e3\u7801\u5f00\u9500\u5927\uff0c48\u5173\u95ed\uff0c\u753b\u9762\u8d28\u91cf\u5dee\u70b9\uff0c\u89e3\u7801\u5f00\u9500\u5c0f ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_CODEC, \"skip_loop_filter\", 48L); // \u8df3\u8fc7\u5e27 \uff1f\uff1f ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_CODEC, \"skip_frame\", 0); // \u89c6\u9891\u5e27\u5904\u7406\u4e0d\u8fc7\u6765\u7684\u65f6\u5019\u4e22\u5f03\u4e00\u4e9b\u5e27\u8fbe\u5230\u540c\u6b65\u7684\u6548\u679c ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_PLAYER, \"framedrop\", 5); /* \u6682\u672a\u4f7f\u7528 // \u8d85\u65f6\u65f6\u95f4\uff0ctimeout\u53c2\u6570\u53ea\u5bf9http\u8bbe\u7f6e\u6709\u6548\uff0c\u82e5\u679c\u4f60\u7528rtmp\u8bbe\u7f6etimeout\uff0cijkplayer\u5185\u90e8\u4f1a\u5ffd\u7565timeout\u53c2\u6570\u3002rtmp\u7684timeout\u53c2\u6570\u542b\u4e49\u548chttp\u7684\u4e0d\u4e00\u6837\u3002 ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_FORMAT, \"timeout\", 10000000); // \u56e0\u4e3a\u9879\u76ee\u4e2d\u591a\u6b21\u8c03\u7528\u64ad\u653e\u5668\uff0c\u6709\u7f51\u7edc\u89c6\u9891\uff0cresp\uff0c\u672c\u5730\u89c6\u9891\uff0c\u8fd8\u6709wifi\u4e0ahttp\u89c6\u9891\uff0c\u6240\u4ee5\u5f97\u6e05\u7a7aDNS\u624d\u80fd\u64ad\u653eWIFI\u4e0a\u7684\u89c6\u9891 ijkMediaPlayer.setOption(IjkMediaPlayer.OPT_CATEGORY_FORMAT, \"dns_cache_clear\", 1); */","title":"5.\u914d\u7f6eijkplayer\u76f8\u5e94\u53c2\u6570\uff0c\u89e3\u51b3\u5361\u987f\u3001\u5ef6\u8fdf"},{"location":"Android/android_performance_optimizaton/android_memory_optimization/","text":"Android \u5185\u5b58\u4f18\u5316 # \u7ebf\u4e0b\u9884\u9632\uff0c\u7ebf\u4e0a\u76d1\u63a7 \u81ea\u5efaAPM\uff08Android Performance Management\uff09 Crash\u624b\u673a\u5e73\u53f0 Bugly \u5546\u4e1a\u7ea7APM\u5e73\u53f0 \u542c\u4e91 \u81ea\u5efaAPM","title":"Android \u5185\u5b58\u4f18\u5316"},{"location":"Android/android_performance_optimizaton/android_memory_optimization/#android","text":"\u7ebf\u4e0b\u9884\u9632\uff0c\u7ebf\u4e0a\u76d1\u63a7 \u81ea\u5efaAPM\uff08Android Performance Management\uff09 Crash\u624b\u673a\u5e73\u53f0 Bugly \u5546\u4e1a\u7ea7APM\u5e73\u53f0 \u542c\u4e91 \u81ea\u5efaAPM","title":"Android \u5185\u5b58\u4f18\u5316"},{"location":"Android/android_screen_adapter/android_screen_adapter/","text":"Android\u5c4f\u5e55\u9002\u914d(\u5f85\u5b8c\u5584) # \u4e00\u3001\u76f8\u5173\u672f\u8bed\u89e3\u91ca # 1.1. \u5c4f\u5e55\u7269\u7406\u5c3a\u5bf8(inch) # 1.2. \u5c4f\u5e55\u5206\u8fa8\u7387(px) # 1.3. \u5c4f\u5e55\u50cf\u7d20\u5bc6\u5ea6\uff08DPI\uff09 # 1.4. dp(dip) # As dp is a physical unit it has an absolute value which can be measured in traditional units, e.g. for Android devices 1 dp equals 1/160 of inch or 0.15875 mm. \u5c4f\u5e55\u7269\u7406\u5c3a\u5bf8\u4e00\u6837\uff0c\u5206\u8fa8\u7387\u4e0d\u4e00\u6837\u65f6\uff0c\u597d\u7528 \u5c4f\u5e55\u7269\u7406\u5c3a\u5bf8\u4e0d\u540c\u65f6\uff0cdp\u5c31\u4e0d\u597d\u7528\u4e86 1.5. \u624b\u673a\u622a\u56fe\u56fe\u7247\u7684\u5c3a\u5bf8\u4e3a\u4ec0\u4e48\u548c\u624b\u673a\u7684\u7269\u7406\u5c3a\u5bf8\u4e0d\u540c\uff1f # \u663e\u793a\u5668\u663e\u793a\u56fe\u7247\u662f\u6309\u7167\u56fe\u7247\u7684\u50cf\u7d20\u5c3a\u5bf8\u663e\u793a\u7684 1.6. # Density qualifier Description ldpi Resources for low-density (ldpi) screens (~120dpi). mdpi Resources for medium-density (mdpi) screens (~160dpi). (This is the baseline density.) hdpi Resources for high-density (hdpi) screens (~240dpi). xhdpi Resources for extra-high-density (xhdpi) screens (~320dpi). xxhdpi Resources for extra-extra-high-density (xxhdpi) screens (~480dpi). xxxhdpi Resources for extra-extra-extra-high-density (xxxhdpi) uses (~640dpi). nodpi Resources for all densities. These are density-independent resources. The system does not scale resources tagged with this qualifier, regardless of the current screen's density. tvdpi Resources for screens somewhere between mdpi and hdpi; approximately 213dpi. This is not considered a \"primary\" density group. It is mostly intended for televisions and most apps shouldn't need it\u2014providing mdpi and hdpi resources is sufficient for most apps and the system will scale them as appropriate. If you find it necessary to provide tvdpi resources, you should size them at a factor of 1.33*mdpi. For example, a 100px x 100px image for mdpi screens should be 133px x 133px for tvdpi. Here's how other smallest width values correspond to typical screen sizes: Size Description 320dp a typical phone screen (240x320 ldpi, 320x480 mdpi, 480x800 hdpi, etc). 480dp a large phone screen ~5\" (480x800 mdpi). 600dp a 7\u201d tablet (600x1024 mdpi). 720dp a 10\u201d tablet (720x1280 mdpi, 800x1280 mdpi, etc). 1.7. # \u9002\u914d\u4e0d\u540c\u50cf\u7d20\u5bc6\u5ea6\u4f46\u7269\u7406\u5c3a\u5bf8\u76f8\u540c\u7684\u5c4f\u5e55\u7528dp \u9002\u914d\u4e0d\u540c\u7269\u7406\u5c3a\u5bf8\u7684\u5c4f\u5e55\u7528\u201c\u5907\u7528\u5e03\u5c40\u6587\u4ef6\u201d\uff0c\u201c\u7ea6\u675f\u5e03\u5c40\u201d\uff0c\u201c.9\u56fe\u201d 1.8. App ICON # \u4f7f\u7528 Image Asset \u5728Android8.0\u53ca\u4ee5\u4e0a\u4f7f\u7528minmap-anydpi-v26\u4e2d\u7684\u56fe\u6807\uff0c\u8fd9\u91cc\u9762\u662f\u77e2\u91cf\u56fe\uff0c\u80fd\u591f\u81ea\u9002\u5e94\u5927\u591a\u6570\u5c4f\u5e55\uff1bAndroid 8.0\u4ee5\u4e0b\u7684\u7cfb\u7edf\uff0c\u4f9d\u65e7\u4f7f\u7528minmap-xdpi\u6587\u4ef6\u5939\u4e2d\u7684\u8d44\u6e90 \u5728Android7.0\u53ca\u4ee5\u4e0a\u4f7f\u7528drawable-anydpi-v24\u4e2d\u7684\u8d44\u6e90\uff1bAndroid7.0\u4ee5\u4e0b\u7684\u7cfb\u7edf\u4f7f\u7528drawable-xdpi\u6587\u4ef6\u5939\u4e2d\u7684\u8d44\u6e90","title":"Android \u5c4f\u5e55\u9002\u914d"},{"location":"Android/android_screen_adapter/android_screen_adapter/#android","text":"","title":"Android\u5c4f\u5e55\u9002\u914d(\u5f85\u5b8c\u5584)"},{"location":"Android/android_screen_adapter/android_screen_adapter/#_1","text":"","title":"\u4e00\u3001\u76f8\u5173\u672f\u8bed\u89e3\u91ca"},{"location":"Android/android_screen_adapter/android_screen_adapter/#11-inch","text":"","title":"1.1. \u5c4f\u5e55\u7269\u7406\u5c3a\u5bf8(inch)"},{"location":"Android/android_screen_adapter/android_screen_adapter/#12-px","text":"","title":"1.2. \u5c4f\u5e55\u5206\u8fa8\u7387(px)"},{"location":"Android/android_screen_adapter/android_screen_adapter/#13-dpi","text":"","title":"1.3. \u5c4f\u5e55\u50cf\u7d20\u5bc6\u5ea6\uff08DPI\uff09"},{"location":"Android/android_screen_adapter/android_screen_adapter/#14-dpdip","text":"As dp is a physical unit it has an absolute value which can be measured in traditional units, e.g. for Android devices 1 dp equals 1/160 of inch or 0.15875 mm. \u5c4f\u5e55\u7269\u7406\u5c3a\u5bf8\u4e00\u6837\uff0c\u5206\u8fa8\u7387\u4e0d\u4e00\u6837\u65f6\uff0c\u597d\u7528 \u5c4f\u5e55\u7269\u7406\u5c3a\u5bf8\u4e0d\u540c\u65f6\uff0cdp\u5c31\u4e0d\u597d\u7528\u4e86","title":"1.4. dp(dip)"},{"location":"Android/android_screen_adapter/android_screen_adapter/#15","text":"\u663e\u793a\u5668\u663e\u793a\u56fe\u7247\u662f\u6309\u7167\u56fe\u7247\u7684\u50cf\u7d20\u5c3a\u5bf8\u663e\u793a\u7684","title":"1.5. \u624b\u673a\u622a\u56fe\u56fe\u7247\u7684\u5c3a\u5bf8\u4e3a\u4ec0\u4e48\u548c\u624b\u673a\u7684\u7269\u7406\u5c3a\u5bf8\u4e0d\u540c\uff1f"},{"location":"Android/android_screen_adapter/android_screen_adapter/#16","text":"Density qualifier Description ldpi Resources for low-density (ldpi) screens (~120dpi). mdpi Resources for medium-density (mdpi) screens (~160dpi). (This is the baseline density.) hdpi Resources for high-density (hdpi) screens (~240dpi). xhdpi Resources for extra-high-density (xhdpi) screens (~320dpi). xxhdpi Resources for extra-extra-high-density (xxhdpi) screens (~480dpi). xxxhdpi Resources for extra-extra-extra-high-density (xxxhdpi) uses (~640dpi). nodpi Resources for all densities. These are density-independent resources. The system does not scale resources tagged with this qualifier, regardless of the current screen's density. tvdpi Resources for screens somewhere between mdpi and hdpi; approximately 213dpi. This is not considered a \"primary\" density group. It is mostly intended for televisions and most apps shouldn't need it\u2014providing mdpi and hdpi resources is sufficient for most apps and the system will scale them as appropriate. If you find it necessary to provide tvdpi resources, you should size them at a factor of 1.33*mdpi. For example, a 100px x 100px image for mdpi screens should be 133px x 133px for tvdpi. Here's how other smallest width values correspond to typical screen sizes: Size Description 320dp a typical phone screen (240x320 ldpi, 320x480 mdpi, 480x800 hdpi, etc). 480dp a large phone screen ~5\" (480x800 mdpi). 600dp a 7\u201d tablet (600x1024 mdpi). 720dp a 10\u201d tablet (720x1280 mdpi, 800x1280 mdpi, etc).","title":"1.6."},{"location":"Android/android_screen_adapter/android_screen_adapter/#17","text":"\u9002\u914d\u4e0d\u540c\u50cf\u7d20\u5bc6\u5ea6\u4f46\u7269\u7406\u5c3a\u5bf8\u76f8\u540c\u7684\u5c4f\u5e55\u7528dp \u9002\u914d\u4e0d\u540c\u7269\u7406\u5c3a\u5bf8\u7684\u5c4f\u5e55\u7528\u201c\u5907\u7528\u5e03\u5c40\u6587\u4ef6\u201d\uff0c\u201c\u7ea6\u675f\u5e03\u5c40\u201d\uff0c\u201c.9\u56fe\u201d","title":"1.7."},{"location":"Android/android_screen_adapter/android_screen_adapter/#18-app-icon","text":"\u4f7f\u7528 Image Asset \u5728Android8.0\u53ca\u4ee5\u4e0a\u4f7f\u7528minmap-anydpi-v26\u4e2d\u7684\u56fe\u6807\uff0c\u8fd9\u91cc\u9762\u662f\u77e2\u91cf\u56fe\uff0c\u80fd\u591f\u81ea\u9002\u5e94\u5927\u591a\u6570\u5c4f\u5e55\uff1bAndroid 8.0\u4ee5\u4e0b\u7684\u7cfb\u7edf\uff0c\u4f9d\u65e7\u4f7f\u7528minmap-xdpi\u6587\u4ef6\u5939\u4e2d\u7684\u8d44\u6e90 \u5728Android7.0\u53ca\u4ee5\u4e0a\u4f7f\u7528drawable-anydpi-v24\u4e2d\u7684\u8d44\u6e90\uff1bAndroid7.0\u4ee5\u4e0b\u7684\u7cfb\u7edf\u4f7f\u7528drawable-xdpi\u6587\u4ef6\u5939\u4e2d\u7684\u8d44\u6e90","title":"1.8. App ICON"},{"location":"Android/android_source_code/android_broadcast_boot/","text":"Android App\u5f00\u673a\u81ea\u542f\u4e4b\u76d1\u542c\u5f00\u673a\u5e7f\u64ad # 1.1. \u521b\u5efa\u5e7f\u64ad\u63a5\u6536\u5668 public class BootBroadcastReceive extends BroadcastReceiver { public static final String action_boot=\"android.intent.action.BOOT_COMPLETED\"; @Override public void onReceive(Context context, Intent intent) { if(intent.getAction().equals(action_boot)){ Intent bootIntent = new Intent(context,MainActivity.class); bootIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK); context.startActivity(bootIntent); } } } 1.2. \u5728AndroidManifest.xml\u6587\u4ef6\u4e2d\u6ce8\u518c\u5e7f\u64ad\u63a5\u6536\u5668 <receiver android:name=\".BootBroadcastReceive\" android:enabled=\"true\" android:exported=\"true\" android:permission=\"android.permission.RECEIVE_BOOT_COMPLETED\"> <intent-filter> <action android:name=\"android.intent.action.BOOT_COMPLETED\" /> <category android:name=\"android.intent.category.HOME\" /> </intent-filter> </receiver>","title":"\u5f00\u673a\u5e7f\u64ad"},{"location":"Android/android_source_code/android_broadcast_boot/#android-app","text":"1.1. \u521b\u5efa\u5e7f\u64ad\u63a5\u6536\u5668 public class BootBroadcastReceive extends BroadcastReceiver { public static final String action_boot=\"android.intent.action.BOOT_COMPLETED\"; @Override public void onReceive(Context context, Intent intent) { if(intent.getAction().equals(action_boot)){ Intent bootIntent = new Intent(context,MainActivity.class); bootIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK); context.startActivity(bootIntent); } } } 1.2. \u5728AndroidManifest.xml\u6587\u4ef6\u4e2d\u6ce8\u518c\u5e7f\u64ad\u63a5\u6536\u5668 <receiver android:name=\".BootBroadcastReceive\" android:enabled=\"true\" android:exported=\"true\" android:permission=\"android.permission.RECEIVE_BOOT_COMPLETED\"> <intent-filter> <action android:name=\"android.intent.action.BOOT_COMPLETED\" /> <category android:name=\"android.intent.category.HOME\" /> </intent-filter> </receiver>","title":"Android App\u5f00\u673a\u81ea\u542f\u4e4b\u76d1\u542c\u5f00\u673a\u5e7f\u64ad"},{"location":"Android/android_source_code/android_enable_usb_debug/","text":"\u4f7fAndroid\u7cfb\u7edf\u9ed8\u8ba4\u5f00\u542fUSB\u8c03\u8bd5\u529f\u80fd # 1. \u9ed8\u8ba4\u663e\u793a \u201c\u5f00\u53d1\u8005\u9009\u9879\u201d # \u5728packages/apps/Settings/src/com/android/settings/SettingsActivity.java\u6587\u4ef6\u7684updateTilesList(...)\u51fd\u6570\u4e2d\u505a\u5982\u4e0b\u4fee\u6539\uff1a private void updateTilesList(List<DashboardCategory> target) { /* added by fhc 2017-11-24 */ SharedPreferences.Editor editor=mDevelopmentPreferences.edit(); editor.putBoolean(DevelopmentSettings.PREF_SHOW, true); editor.commit(); /* added by fhc 2017-11-24 end */ final boolean showDev = mDevelopmentPreferences.getBoolean( DevelopmentSettings.PREF_SHOW, android.os.Build.TYPE.equals(\"eng\")); final UserManager um = (UserManager) getSystemService(Context.USER_SERVICE); ...\uff08\u6b64\u5904\u7701\u7565N\u884c\u4ee3\u7801\uff09 } 2. \u9ed8\u8ba4\u5141\u8bb8 \u201c\u5b89\u88c5\u672a\u77e5\u6765\u6e90\u5e94\u7528\u201d # \u5c06frameworks/base/packages/SettingsProvider/res/values/defaults.xml\u6587\u4ef6\u4e2ddef_install_non_market_apps\u7684\u503c\u7f6e\u4e3atrue\uff0c\u5373\u53ef\u5141\u8bb8 \u201c\u5b89\u88c5\u672a\u77e5\u6765\u6e90\u5e94\u7528\u201d\u3002 <bool name=\"def_install_non_market_apps\">true</bool> 3. \u9ed8\u8ba4\u5141\u8bb8USB\u8c03\u8bd5 # \u5bf9frameworks/base/services/usb/java/com/android/server/usb/UsbDeviceManager.java\u7684\u51fd\u6570systemReady()\u505a\u5982\u4e0b\u4fee\u6539\uff1a public void systemReady() { if (DEBUG) Slog.d(TAG, \"systemReady\"); mNotificationManager = (NotificationManager) mContext.getSystemService(Context.NOTIFICATION_SERVICE); // We do not show the USB notification if the primary volume supports mass storage. // The legacy mass storage UI will be used instead. boolean massStorageSupported = false; final StorageManager storageManager = StorageManager.from(mContext); final StorageVolume primary = storageManager.getPrimaryVolume(); massStorageSupported = primary != null && primary.allowMassStorage(); mUseUsbNotification = !massStorageSupported && mContext.getResources().getBoolean( com.android.internal.R.bool.config_usbChargingMessage); // make sure the ADB_ENABLED setting value matches the current state try { /* modified by fhc 2017-11-28 */ /*Settings.Global.putInt(mContentResolver, Settings.Global.ADB_ENABLED, mAdbEnabled ? 1 : 0);*/ Settings.Global.putInt(mContentResolver, Settings.Global.ADB_ENABLED, 1); /* modified by fhc 2017-11-28 */ } catch (SecurityException e) { // If UserManager.DISALLOW_DEBUGGING_FEATURES is on, that this setting can't be changed. Slog.d(TAG, \"ADB_ENABLED is restricted.\"); } mHandler.sendEmptyMessage(MSG_SYSTEM_READY); } 4. \u53bb\u6389USB\u63d2\u5165\u65f6\u7684\u6388\u6743\u63d0\u793a\u5bf9\u8bdd\u6846 # \u5bf9frameworks/base/packages/SystemUI/src/com/android/systemui/usb/UsbDebuggingActivity.java\u7684onReceive()\u51fd\u6570\u4e2d\u505a\u5982\u4e0b\u4fee\u6539\uff1a @Override public void onReceive(Context content, Intent intent) { String action = intent.getAction(); if (!UsbManager.ACTION_USB_STATE.equals(action)) { return; } /* modified by fhc 2017-11-24 */ /*boolean connected = intent.getBooleanExtra(UsbManager.USB_CONNECTED, false); if (!connected) { mActivity.finish(); }*/ /* modified by fhc 2017-11-24 end */ /* added by fhc 2017-11-24 */ boolean connected = false; //\u7ed9connect\u8d4b\u503c\uff0c\u5173\u6389UI if (!connected) { mActivity.finish(); } try { IBinder b = ServiceManager.getService(USB_SERVICE); IUsbManager service = IUsbManager.Stub.asInterface(b); service.allowUsbDebugging(true, mKey); } catch (Exception e) { Log.e(TAG, \"Unable to notify Usb service\", e); } /* added by fhc 2017-11-24 end */ }","title":"\u9ed8\u8ba4\u5f00\u542fUSB\u8c03\u8bd5\u529f\u80fd"},{"location":"Android/android_source_code/android_enable_usb_debug/#androidusb","text":"","title":"\u4f7fAndroid\u7cfb\u7edf\u9ed8\u8ba4\u5f00\u542fUSB\u8c03\u8bd5\u529f\u80fd"},{"location":"Android/android_source_code/android_enable_usb_debug/#1","text":"\u5728packages/apps/Settings/src/com/android/settings/SettingsActivity.java\u6587\u4ef6\u7684updateTilesList(...)\u51fd\u6570\u4e2d\u505a\u5982\u4e0b\u4fee\u6539\uff1a private void updateTilesList(List<DashboardCategory> target) { /* added by fhc 2017-11-24 */ SharedPreferences.Editor editor=mDevelopmentPreferences.edit(); editor.putBoolean(DevelopmentSettings.PREF_SHOW, true); editor.commit(); /* added by fhc 2017-11-24 end */ final boolean showDev = mDevelopmentPreferences.getBoolean( DevelopmentSettings.PREF_SHOW, android.os.Build.TYPE.equals(\"eng\")); final UserManager um = (UserManager) getSystemService(Context.USER_SERVICE); ...\uff08\u6b64\u5904\u7701\u7565N\u884c\u4ee3\u7801\uff09 }","title":"1. \u9ed8\u8ba4\u663e\u793a \u201c\u5f00\u53d1\u8005\u9009\u9879\u201d"},{"location":"Android/android_source_code/android_enable_usb_debug/#2","text":"\u5c06frameworks/base/packages/SettingsProvider/res/values/defaults.xml\u6587\u4ef6\u4e2ddef_install_non_market_apps\u7684\u503c\u7f6e\u4e3atrue\uff0c\u5373\u53ef\u5141\u8bb8 \u201c\u5b89\u88c5\u672a\u77e5\u6765\u6e90\u5e94\u7528\u201d\u3002 <bool name=\"def_install_non_market_apps\">true</bool>","title":"2. \u9ed8\u8ba4\u5141\u8bb8 \u201c\u5b89\u88c5\u672a\u77e5\u6765\u6e90\u5e94\u7528\u201d"},{"location":"Android/android_source_code/android_enable_usb_debug/#3-usb","text":"\u5bf9frameworks/base/services/usb/java/com/android/server/usb/UsbDeviceManager.java\u7684\u51fd\u6570systemReady()\u505a\u5982\u4e0b\u4fee\u6539\uff1a public void systemReady() { if (DEBUG) Slog.d(TAG, \"systemReady\"); mNotificationManager = (NotificationManager) mContext.getSystemService(Context.NOTIFICATION_SERVICE); // We do not show the USB notification if the primary volume supports mass storage. // The legacy mass storage UI will be used instead. boolean massStorageSupported = false; final StorageManager storageManager = StorageManager.from(mContext); final StorageVolume primary = storageManager.getPrimaryVolume(); massStorageSupported = primary != null && primary.allowMassStorage(); mUseUsbNotification = !massStorageSupported && mContext.getResources().getBoolean( com.android.internal.R.bool.config_usbChargingMessage); // make sure the ADB_ENABLED setting value matches the current state try { /* modified by fhc 2017-11-28 */ /*Settings.Global.putInt(mContentResolver, Settings.Global.ADB_ENABLED, mAdbEnabled ? 1 : 0);*/ Settings.Global.putInt(mContentResolver, Settings.Global.ADB_ENABLED, 1); /* modified by fhc 2017-11-28 */ } catch (SecurityException e) { // If UserManager.DISALLOW_DEBUGGING_FEATURES is on, that this setting can't be changed. Slog.d(TAG, \"ADB_ENABLED is restricted.\"); } mHandler.sendEmptyMessage(MSG_SYSTEM_READY); }","title":"3. \u9ed8\u8ba4\u5141\u8bb8USB\u8c03\u8bd5"},{"location":"Android/android_source_code/android_enable_usb_debug/#4-usb","text":"\u5bf9frameworks/base/packages/SystemUI/src/com/android/systemui/usb/UsbDebuggingActivity.java\u7684onReceive()\u51fd\u6570\u4e2d\u505a\u5982\u4e0b\u4fee\u6539\uff1a @Override public void onReceive(Context content, Intent intent) { String action = intent.getAction(); if (!UsbManager.ACTION_USB_STATE.equals(action)) { return; } /* modified by fhc 2017-11-24 */ /*boolean connected = intent.getBooleanExtra(UsbManager.USB_CONNECTED, false); if (!connected) { mActivity.finish(); }*/ /* modified by fhc 2017-11-24 end */ /* added by fhc 2017-11-24 */ boolean connected = false; //\u7ed9connect\u8d4b\u503c\uff0c\u5173\u6389UI if (!connected) { mActivity.finish(); } try { IBinder b = ServiceManager.getService(USB_SERVICE); IUsbManager service = IUsbManager.Stub.asInterface(b); service.allowUsbDebugging(true, mKey); } catch (Exception e) { Log.e(TAG, \"Unable to notify Usb service\", e); } /* added by fhc 2017-11-24 end */ }","title":"4. \u53bb\u6389USB\u63d2\u5165\u65f6\u7684\u6388\u6743\u63d0\u793a\u5bf9\u8bdd\u6846"},{"location":"Android/android_source_code/android_get_system_permission/","text":"Android\u5e94\u7528\u83b7\u53d6System\u6743\u9650\u7684\u65b9\u6cd5 # 1. \u5728Android\u7cfb\u7edf\u6e90\u7801\u4e2d\u7f16\u8bd1 # \u5728\u5e94\u7528\u7a0b\u5e8f\u7684AndroidManifest.xml\u4e2d\u7684manifest\u8282\u70b9\u4e2d\u52a0\u5165\u5982\u4e0b\u5c5e\u6027\uff1a android:sharedUserId=\"android.uid.system\" \u4fee\u6539Android.mk\u6587\u4ef6\uff08\u53ef\u53c2\u8003\u6e90\u7801\u4e2d\u5176\u4ed6APP\u7684Android.mk\u6587\u4ef6\uff09 LOCAL_PATH:= $(call my-dir) include $(CLEAR_VARS) LOCAL_MODULE_TAGS := optional LOCAL_SRC_FILES := \\ $(call all-java-files-under, src) LOCAL_RESOURCE_DIR := $(LOCAL_PATH)/res LOCAL_PACKAGE_NAME := SetTime LOCAL_CERTIFICATE := platform include $(BUILD_PACKAGE) include $(CLEAR_VARS) # Use the following include to make our test apk. include $(call all-makefiles-under,$(LOCAL_PATH)) \u4f7f\u7528mm\u547d\u4ee4\u6765\u7f16\u8bd1 2. \u7cfb\u7edf\u7b7e\u540d # \u5728\u5e94\u7528\u7a0b\u5e8f\u7684AndroidManifest.xml\u4e2d\u7684manifest\u8282\u70b9\u4e2d\u52a0\u5165\u5982\u4e0b\u5c5e\u6027\uff1a android:sharedUserId=\"android.uid.system\" 2.1 \u6240\u9700\u7684\u5de5\u5177 # signapk.jar (prebuilts/sdk/tools/lib/) platform.x509.pem (build/target/product/security) platform.pk8 (build/target/product/security) 2.2 \u7b7e\u540d\u547d\u4ee4 # java -jar signapk.jar platform.x509.pem platform.pk8 unsigned.apk signed.apk","title":"Android\u5e94\u7528\u83b7\u53d6\u7cfb\u7edf\u6743\u9650"},{"location":"Android/android_source_code/android_get_system_permission/#androidsystem","text":"","title":"Android\u5e94\u7528\u83b7\u53d6System\u6743\u9650\u7684\u65b9\u6cd5"},{"location":"Android/android_source_code/android_get_system_permission/#1-android","text":"\u5728\u5e94\u7528\u7a0b\u5e8f\u7684AndroidManifest.xml\u4e2d\u7684manifest\u8282\u70b9\u4e2d\u52a0\u5165\u5982\u4e0b\u5c5e\u6027\uff1a android:sharedUserId=\"android.uid.system\" \u4fee\u6539Android.mk\u6587\u4ef6\uff08\u53ef\u53c2\u8003\u6e90\u7801\u4e2d\u5176\u4ed6APP\u7684Android.mk\u6587\u4ef6\uff09 LOCAL_PATH:= $(call my-dir) include $(CLEAR_VARS) LOCAL_MODULE_TAGS := optional LOCAL_SRC_FILES := \\ $(call all-java-files-under, src) LOCAL_RESOURCE_DIR := $(LOCAL_PATH)/res LOCAL_PACKAGE_NAME := SetTime LOCAL_CERTIFICATE := platform include $(BUILD_PACKAGE) include $(CLEAR_VARS) # Use the following include to make our test apk. include $(call all-makefiles-under,$(LOCAL_PATH)) \u4f7f\u7528mm\u547d\u4ee4\u6765\u7f16\u8bd1","title":"1. \u5728Android\u7cfb\u7edf\u6e90\u7801\u4e2d\u7f16\u8bd1"},{"location":"Android/android_source_code/android_get_system_permission/#2","text":"\u5728\u5e94\u7528\u7a0b\u5e8f\u7684AndroidManifest.xml\u4e2d\u7684manifest\u8282\u70b9\u4e2d\u52a0\u5165\u5982\u4e0b\u5c5e\u6027\uff1a android:sharedUserId=\"android.uid.system\"","title":"2. \u7cfb\u7edf\u7b7e\u540d"},{"location":"Android/android_source_code/android_get_system_permission/#21","text":"signapk.jar (prebuilts/sdk/tools/lib/) platform.x509.pem (build/target/product/security) platform.pk8 (build/target/product/security)","title":"2.1 \u6240\u9700\u7684\u5de5\u5177"},{"location":"Android/android_source_code/android_get_system_permission/#22","text":"java -jar signapk.jar platform.x509.pem platform.pk8 unsigned.apk signed.apk","title":"2.2 \u7b7e\u540d\u547d\u4ee4"},{"location":"Android/android_source_code/android_hide_virtual_navigation_key/","text":"\u5f7b\u5e95\u9690\u85cf\u865a\u62df\u5bfc\u822a\u952e # 1. \u53bb\u6389\u865a\u62df\u5bfc\u822a\u952e # \u627e\u5230frameworks/base/services/core/java/com/android/server/policy/PhoneWindowManager.java\u4e2d\u51fd\u6570setInitialDisplaySize(...)\u4e2d\u7684\u4ee3\u7801\u7247\u6bb5 String navBarOverride = SystemProperties.get(\"qemu.hw.mainkeys\"); if (\"1\".equals(navBarOverride)) { mHasNavigationBar = false; } else if (\"0\".equals(navBarOverride)) { mHasNavigationBar = true; } \u4fee\u6539\u4e3a String navBarOverride = SystemProperties.get(\"qemu.hw.mainkeys\"); /* modified by fhc 2017-11-24 */ //if (\"1\".equals(navBarOverride)) { mHasNavigationBar = false; //} else if (\"0\".equals(navBarOverride)) { // mHasNavigationBar = true; //} /* modified by fhc 2017-11-24 end */ 2. \u53bb\u6389\u7cfb\u7edf\u9876\u90e8\u7684\u72b6\u6001\u680f\u548c\u901a\u77e5\u680f # \u5c4f\u853d\u624b\u52bf\u76d1\u542c frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/phone/PhoneStatusBarView.java \u4fee\u6539\u4ee3\u7801\u7247\u6bb5\uff0c\u5982\u4e0b\u6240\u793a\uff1a @Override public boolean onTouchEvent(MotionEvent event) { /* modified by fhc 2017-11-24 */ /*boolean barConsumedEvent = mBar.interceptTouchEvent(event); if (DEBUG_GESTURES) { if (event.getActionMasked() != MotionEvent.ACTION_MOVE) { EventLog.writeEvent(EventLogTags.SYSUI_PANELBAR_TOUCH, event.getActionMasked(), (int) event.getX(), (int) event.getY(), barConsumedEvent ? 1 : 0); } } return barConsumedEvent || super.onTouchEvent(event);*/ return false; /* modified by fhc 2017-11-24 end */ } ...\uff08\u6b64\u5904\u7701\u7565N\u884c\u4ee3\u7801\uff09 @Override public boolean onInterceptTouchEvent(MotionEvent event) { /* modified by fhc 2017-11-24 */ //return mBar.interceptTouchEvent(event) || super.onInterceptTouchEvent(event); return false; /* modified by fhc 2017-11-24 end */ } \u4e0d\u663e\u793a\u72b6\u6001\u680f frameworks/base/core/res/res/values/dimens.xml \u5c06\u72b6\u6001\u680f\u9ad8\u5ea6\u4fee\u6539\u4e3a0dp\uff0c\u5982\u4e0b\u6240\u793a\uff1a <!-- Height of the status bar --> <dimen name=\"status_bar_height\">0dp</dimen> \u6b64\u65f6\u7cfb\u7edf\u4e0a\u65b9\u7684\u72b6\u6001\u4e0d\u663e\u793a\uff0c\u4f46\u662f\u9700\u8981\u5c06\u5176\u5e03\u5c40\u4e5f\u7f6e\u4e3agone\uff0c\u4e0d\u5360\u5730\u65b9 \u5728frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/phone/PhoneStatusBar.java\u6587\u4ef6\u4e2d\u4fee\u6539\u4e00\u4e0b\u5185\u5bb9\uff0c\u5c06\u5e03\u5c40\u7f6e\u4e3aGONE","title":"\u5f7b\u5e95\u9690\u85cf\u865a\u62df\u5bfc\u822a\u952e"},{"location":"Android/android_source_code/android_hide_virtual_navigation_key/#_1","text":"","title":"\u5f7b\u5e95\u9690\u85cf\u865a\u62df\u5bfc\u822a\u952e"},{"location":"Android/android_source_code/android_hide_virtual_navigation_key/#1","text":"\u627e\u5230frameworks/base/services/core/java/com/android/server/policy/PhoneWindowManager.java\u4e2d\u51fd\u6570setInitialDisplaySize(...)\u4e2d\u7684\u4ee3\u7801\u7247\u6bb5 String navBarOverride = SystemProperties.get(\"qemu.hw.mainkeys\"); if (\"1\".equals(navBarOverride)) { mHasNavigationBar = false; } else if (\"0\".equals(navBarOverride)) { mHasNavigationBar = true; } \u4fee\u6539\u4e3a String navBarOverride = SystemProperties.get(\"qemu.hw.mainkeys\"); /* modified by fhc 2017-11-24 */ //if (\"1\".equals(navBarOverride)) { mHasNavigationBar = false; //} else if (\"0\".equals(navBarOverride)) { // mHasNavigationBar = true; //} /* modified by fhc 2017-11-24 end */","title":"1. \u53bb\u6389\u865a\u62df\u5bfc\u822a\u952e"},{"location":"Android/android_source_code/android_hide_virtual_navigation_key/#2","text":"\u5c4f\u853d\u624b\u52bf\u76d1\u542c frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/phone/PhoneStatusBarView.java \u4fee\u6539\u4ee3\u7801\u7247\u6bb5\uff0c\u5982\u4e0b\u6240\u793a\uff1a @Override public boolean onTouchEvent(MotionEvent event) { /* modified by fhc 2017-11-24 */ /*boolean barConsumedEvent = mBar.interceptTouchEvent(event); if (DEBUG_GESTURES) { if (event.getActionMasked() != MotionEvent.ACTION_MOVE) { EventLog.writeEvent(EventLogTags.SYSUI_PANELBAR_TOUCH, event.getActionMasked(), (int) event.getX(), (int) event.getY(), barConsumedEvent ? 1 : 0); } } return barConsumedEvent || super.onTouchEvent(event);*/ return false; /* modified by fhc 2017-11-24 end */ } ...\uff08\u6b64\u5904\u7701\u7565N\u884c\u4ee3\u7801\uff09 @Override public boolean onInterceptTouchEvent(MotionEvent event) { /* modified by fhc 2017-11-24 */ //return mBar.interceptTouchEvent(event) || super.onInterceptTouchEvent(event); return false; /* modified by fhc 2017-11-24 end */ } \u4e0d\u663e\u793a\u72b6\u6001\u680f frameworks/base/core/res/res/values/dimens.xml \u5c06\u72b6\u6001\u680f\u9ad8\u5ea6\u4fee\u6539\u4e3a0dp\uff0c\u5982\u4e0b\u6240\u793a\uff1a <!-- Height of the status bar --> <dimen name=\"status_bar_height\">0dp</dimen> \u6b64\u65f6\u7cfb\u7edf\u4e0a\u65b9\u7684\u72b6\u6001\u4e0d\u663e\u793a\uff0c\u4f46\u662f\u9700\u8981\u5c06\u5176\u5e03\u5c40\u4e5f\u7f6e\u4e3agone\uff0c\u4e0d\u5360\u5730\u65b9 \u5728frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/phone/PhoneStatusBar.java\u6587\u4ef6\u4e2d\u4fee\u6539\u4e00\u4e0b\u5185\u5bb9\uff0c\u5c06\u5e03\u5c40\u7f6e\u4e3aGONE","title":"2. \u53bb\u6389\u7cfb\u7edf\u9876\u90e8\u7684\u72b6\u6001\u680f\u548c\u901a\u77e5\u680f"},{"location":"Android/android_source_code/android_launcher/","text":"Android App\u5f00\u673a\u81ea\u542f\u4e4bLauncher # \u5728AndroidManifest.xml\u6587\u4ef6\u4e2d\u52a0\u5165\u4ee5\u4e0b\u8bed\u53e5\uff0c\u4f7fApp\u6210\u4e3aLauncher <category android:name=\"android.intent.category.HOME\" /> <category android:name=\"android.intent.category.DEFAULT\" /> \u5c06\u7cfb\u7edf\u9ed8\u8ba4Launcher\u5220\u9664 \u5c06App\uff08.apk\u6587\u4ef6\uff09\u653e\u8fdb/system/app\u76ee\u5f55 \u5c06App\u6240\u4f7f\u7528\u7684.so\u6587\u4ef6\u5168\u90e8\u653e\u8fdb/system/lib\u76ee\u5f55 Note \u201c/system/app\u201d \u76ee\u5f55\u4e0b\u7684\u5e94\u7528\u90fd\u662f\u7cfb\u7edf\u5df2\u7ecf\u9884\u88c5\u5b8c\u6210\u7684\u4e0d\u4f1a\u518d\u6b21\u5b89\u88c5\uff0c\u6240\u4ee5\u4e0d\u80fd\u628aso\u6253\u5305\u5230apk\u91cc\u9762","title":"Launcher"},{"location":"Android/android_source_code/android_launcher/#android-applauncher","text":"\u5728AndroidManifest.xml\u6587\u4ef6\u4e2d\u52a0\u5165\u4ee5\u4e0b\u8bed\u53e5\uff0c\u4f7fApp\u6210\u4e3aLauncher <category android:name=\"android.intent.category.HOME\" /> <category android:name=\"android.intent.category.DEFAULT\" /> \u5c06\u7cfb\u7edf\u9ed8\u8ba4Launcher\u5220\u9664 \u5c06App\uff08.apk\u6587\u4ef6\uff09\u653e\u8fdb/system/app\u76ee\u5f55 \u5c06App\u6240\u4f7f\u7528\u7684.so\u6587\u4ef6\u5168\u90e8\u653e\u8fdb/system/lib\u76ee\u5f55 Note \u201c/system/app\u201d \u76ee\u5f55\u4e0b\u7684\u5e94\u7528\u90fd\u662f\u7cfb\u7edf\u5df2\u7ecf\u9884\u88c5\u5b8c\u6210\u7684\u4e0d\u4f1a\u518d\u6b21\u5b89\u88c5\uff0c\u6240\u4ee5\u4e0d\u80fd\u628aso\u6253\u5305\u5230apk\u91cc\u9762","title":"Android App\u5f00\u673a\u81ea\u542f\u4e4bLauncher"},{"location":"Android/android_source_code/android_mask_permission_dialog/","text":"\u4eceAndroid\u6e90\u7801\u5c4f\u853d\u6743\u9650\u8bf7\u6c42\u5bf9\u8bdd\u6846 # \u6ce8\u610f\uff1a\u4f7f\u7528\u6b64\u65b9\u6cd5\u540e\uff0cAPP\u6bcf\u6b21\u53ea\u80fd\u8bf7\u6c42\u4e00\u4e2a\u6743\u9650 \u6587\u4ef6\uff1apackages/apps/PackageInstaller/src/com/android/packageinstaller/permission/ui/GrantPermissionsActivity.java \u51fd\u6570\uff1ashowNextPermissionGroupGrantRequest()\u51fd\u6570\u4fee\u6539\u5982\u4e0b\uff1a private boolean showNextPermissionGroupGrantRequest() { final int groupCount = mRequestGrantPermissionGroups.size(); int currentIndex = 0; for (GroupState groupState : mRequestGrantPermissionGroups.values()) { if (groupState.mState == GroupState.STATE_UNKNOWN) { CharSequence appLabel = mAppPermissions.getAppLabel(); SpannableString message = new SpannableString(getString( R.string.permission_warning_template, appLabel, groupState.mGroup.getDescription())); // Set the permission message as the title so it can be announced. setTitle(message); // Color the app name. int appLabelStart = message.toString().indexOf(appLabel.toString(), 0); int appLabelLength = appLabel.length(); message.setSpan(new StyleSpan(Typeface.BOLD), appLabelStart, appLabelStart + appLabelLength, 0); // Set the new grant view // TODO: Use a real message for the action. We need group action APIs Resources resources; try { resources = getPackageManager().getResourcesForApplication( groupState.mGroup.getIconPkg()); } catch (NameNotFoundException e) { // Fallback to system. resources = Resources.getSystem(); } int icon = groupState.mGroup.getIconResId(); mViewHandler.updateUi(groupState.mGroup.getName(), groupCount, currentIndex, Icon.createWithResource(resources, icon), message, groupState.mGroup.isUserSet()); /* modified by fhc 2017-11-28 */ GroupState myGroupState = mRequestGrantPermissionGroups.get(groupState.mGroup.getName()); if (myGroupState.mGroup != null) { myGroupState.mGroup.grantRuntimePermissions(false); myGroupState.mState = GroupState.STATE_ALLOWED; updateGrantResults(myGroupState.mGroup); } //return true; return false; /* modified by fhc 2017-11-28 end*/ } currentIndex++; } return false; }","title":"Android\u5c4f\u853d\u6743\u9650\u8bf7\u6c42\u5bf9\u8bdd\u6846"},{"location":"Android/android_source_code/android_mask_permission_dialog/#android","text":"\u6ce8\u610f\uff1a\u4f7f\u7528\u6b64\u65b9\u6cd5\u540e\uff0cAPP\u6bcf\u6b21\u53ea\u80fd\u8bf7\u6c42\u4e00\u4e2a\u6743\u9650 \u6587\u4ef6\uff1apackages/apps/PackageInstaller/src/com/android/packageinstaller/permission/ui/GrantPermissionsActivity.java \u51fd\u6570\uff1ashowNextPermissionGroupGrantRequest()\u51fd\u6570\u4fee\u6539\u5982\u4e0b\uff1a private boolean showNextPermissionGroupGrantRequest() { final int groupCount = mRequestGrantPermissionGroups.size(); int currentIndex = 0; for (GroupState groupState : mRequestGrantPermissionGroups.values()) { if (groupState.mState == GroupState.STATE_UNKNOWN) { CharSequence appLabel = mAppPermissions.getAppLabel(); SpannableString message = new SpannableString(getString( R.string.permission_warning_template, appLabel, groupState.mGroup.getDescription())); // Set the permission message as the title so it can be announced. setTitle(message); // Color the app name. int appLabelStart = message.toString().indexOf(appLabel.toString(), 0); int appLabelLength = appLabel.length(); message.setSpan(new StyleSpan(Typeface.BOLD), appLabelStart, appLabelStart + appLabelLength, 0); // Set the new grant view // TODO: Use a real message for the action. We need group action APIs Resources resources; try { resources = getPackageManager().getResourcesForApplication( groupState.mGroup.getIconPkg()); } catch (NameNotFoundException e) { // Fallback to system. resources = Resources.getSystem(); } int icon = groupState.mGroup.getIconResId(); mViewHandler.updateUi(groupState.mGroup.getName(), groupCount, currentIndex, Icon.createWithResource(resources, icon), message, groupState.mGroup.isUserSet()); /* modified by fhc 2017-11-28 */ GroupState myGroupState = mRequestGrantPermissionGroups.get(groupState.mGroup.getName()); if (myGroupState.mGroup != null) { myGroupState.mGroup.grantRuntimePermissions(false); myGroupState.mState = GroupState.STATE_ALLOWED; updateGrantResults(myGroupState.mGroup); } //return true; return false; /* modified by fhc 2017-11-28 end*/ } currentIndex++; } return false; }","title":"\u4eceAndroid\u6e90\u7801\u5c4f\u853d\u6743\u9650\u8bf7\u6c42\u5bf9\u8bdd\u6846"},{"location":"Android/android_source_code/android_power_logo/","text":"\u5b9a\u5236Android\u542f\u52a8Logo # \u4e00\u3001\u5b9a\u5236Linux kernel\u542f\u52a8Logo # \u5b89\u88c5PPM\u56fe\u7247\u5236\u4f5c\u5de5\u5177 sudo apt-get install netpbm \u7f16\u5199PPM\u56fe\u7247\u5236\u4f5c\u811a\u672c make_ppm.sh pngtopnm logo.png > logo_linux.pnm pnmquant 224 logo_linux.pnm > logo_linux_224.pnm pnmtoplainpnm logo_linux_224.pnm > logo_linux_clut224.ppm rm -f logo_linux.pnm logo_linux_224.pnm \u51c6\u5907Logo\u56fe\u7247\uff0c\u5e76\u547d\u540d\u4e3alogo.png(\u56e0\u4e3appm\u5236\u4f5c\u811a\u672c\u4e2d\u662f\u8fd9\u4e2a\u540d\u5b57) \u5236\u4f5cppm\u683c\u5f0f\u7684Logo ./make_ppm.sh logo.png \u6267\u884c\u4e0a\u9762\u7684\u547d\u4ee4\u540e\uff0c\u4f1a\u5728\u5f53\u524d\u6587\u4ef6\u5939\u751f\u6210 logo_linux_clut224.ppm \u62f7\u8d1d\u5230\u5236\u4f5c\u597d\u7684LOGO\u6587\u4ef6\u5230 /drivers/video/logo \u6587\u4ef6\u5939\uff0c\u66ff\u6362 logo_linux_clut224.ppm \u6587\u4ef6\uff0c\u5220\u9664\u8be5\u6587\u4ef6\u5939\u4e0b\u7684logo_linux_clut224.c \u548c logo_linux_clut224.o Logo\u5c45\u4e2d\u5168\u5c4f\u663e\u793a \u4fee\u6539\u6e90\u7801/drivers/video/fbdev/core/fbmem.c\u4e2d\u7684fb_show_logo_line\u51fd\u6570 //image.dx=0; //image.dy=y; image.width = logo->width; image.heigh = logo->height; //\u589e\u52a0\u5982\u4e0b\u5185\u5bb9 +image.dx = (info->var.xres / 2) - (image.width / 2); +image.dy = (info->var.yres / 2) - (image.height / 2); \u4fee\u6539\u6e90\u7801/drivers/video/console/fbcon.c\u4e2d\u7684fbcon_prepare_logo()\u51fd\u6570 \u5728logo_height = fb_prepare_logo(info, ops->rotate);\u540e\u589e\u52a0\u4e0b\u9762\u4e00\u884c\u4ee3\u7801 +logo_height += (info->var.yres / 2) - (logo_height / 2); \u53bb\u9664\u5f00\u673aLogo\u4e0a\u7684\u5149\u6807 \u5728 drivers/video/console/fbcon.c \u4e2d\u5c06\u51fd\u6570 tatic void fb_flashcursor(void private) \u548c static void fbcon_cursor(struct vc_data vc, int mode) \u4fee\u6539\u4e3a\u7a7a\u51fd\u6570\u65e2\u53ef\u3002 \u4e8c\u3001\u5b9a\u5236Android\u542f\u52a8\u521d\u59cb\u5316Logo # \u5728 /system/core/init/init.cpp\uff08\u5929\u5d4c\u79d1\u6280\u63d0\u4f9b\u7684Android6.0\u7684\u6e90\u7801\uff09\u4e2d\u7684\u51fd\u6570console_init_action(int nargs, char **args)\u8d1f\u8d23\u5411\u63a7\u5236\u53f0\u8f93\u51fa \"Android\"\u5b57\u6837\u3002\u5982\u679c\u4e0d\u5e0c\u671b\u663e\u793a \"Android\" \u5b57\u6837\uff0c\u5c06\u51fd\u6570\u4e2d\u7684\u76f8\u5173\u90e8\u5206\u6ce8\u91ca\u6389\u65e2\u53ef\u3002 \u4e09\u3001\u5b9a\u5236Android\u56fe\u5f62\u7cfb\u7edf\u542f\u52a8\u52a8\u753b # 3.1 \u8fd9\u662fAndroid\u7b2c\u4e09\u4e2a\u5f00\u673a\u753b\u9762\uff0c\u6709\u4e24\u79cd\u9009\u62e9\uff1a # Android \u9ed8\u8ba4\u7684\u5f00\u673a\u753b\u9762\uff08\u95ea\u52a8\u7684ANDROID\u5927\u5b57\uff09 \u7528\u6237\u81ea\u5b9a\u4e49\u7684\u5f00\u673a\u753b\u9762\uff08bootanimation.zip\uff09 3.2 Android\u542f\u52a8\u65f6\u662f\u5982\u4f55\u5224\u65ad\u8be5\u4f7f\u7528\u54ea\u4e00\u4e2a\u5f00\u673a\u753b\u9762\u5462\uff1f # Android\u542f\u52a8\u65f6\u56de\u53bb\u68c0\u6d4b\u662f\u5426\u5b58\u5728 system/media/bootanimation.zip\uff0c\u5982\u679c\u5b58\u5728\u5219\u4f7f\u7528\u8fd9\u4e2a\u5f00\u673a\u753b\u9762\uff0c\u5426\u5219\u4f7f\u7528Android\u9ed8\u8ba4\u5f00\u673a\u753b\u9762\u3002 3.3 \u5b9a\u5236bootanimation.zip # 600 480 24 // \u56fe\u7247\u5927\u5c0f\u4e3a600x480\uff0c\u663e\u793a\u901f\u5ea6\u4e3a24\u5e27\u6bcf\u79d2\uff08\u5fc5\u987b\u6839\u636e\u81ea\u5df1\u7684\u5b9e\u9645\u60c5\u51b5\u5199\uff09 p 1 0 part1 p 0 10 part2 \u7b2c\u4e00\u884c\u7684\u4e09\u4e2a\u6570\u5b57\u5206\u522b\u8868\u793a\u5f00\u673a\u52a8\u753b\u5728\u5c4f\u5e55\u4e2d\u7684\u663e\u793a\u5bbd\u5ea6\u3001\u9ad8\u5ea6\u4ee5\u53ca\u5e27\u901f\uff08fps\uff09\u3002\u5269\u4f59\u7684\u6bcf\u4e00\u884c\u90fd\u7528\u6765\u63cf\u8ff0\u4e00\u4e2a\u52a8\u753b\u7247\u65ad\uff0c\u8fd9\u4e9b\u884c\u5fc5\u987b\u8981\u4ee5\u5b57\u7b26\u201cp\u201d\u6765\u5f00\u5934\uff0c\u540e\u9762\u7d27\u8ddf\u7740\u4e24\u4e2a\u6570\u5b57\u4ee5\u53ca\u4e00\u4e2a\u6587\u4ef6\u76ee\u5f55\u8def\u5f84\u540d\u79f0\u3002\u7b2c\u4e00\u4e2a\u6570\u5b57\u8868\u793a\u4e00\u4e2a\u7247\u65ad\u7684\u5faa\u73af\u663e\u793a\u6b21\u6570\uff0c\u5982\u679c\u5b83\u7684\u503c\u7b49\u4e8e0\uff0c\u90a3\u4e48\u5c31\u8868\u793a\u65e0\u9650\u5faa\u73af\u5730\u663e\u793a\u8be5\u52a8\u753b\u7247\u65ad\u3002\u7b2c\u4e8c\u4e2a\u6570\u5b57\u8868\u793a\u6bcf\u4e00\u4e2a\u7247\u65ad\u5728\u4e24\u6b21\u5faa\u73af\u663e\u793a\u4e4b\u95f4\u7684\u65f6\u95f4\u95f4\u9694\u3002\u8fd9\u4e2a\u65f6\u95f4\u95f4\u9694\u662f\u4ee5\u4e00\u4e2a\u5e27\u7684\u65f6\u95f4\u4e3a\u5355\u4f4d\u7684\u3002\u6587\u4ef6\u76ee\u5f55\u4e0b\u9762\u4fdd\u5b58\u7684\u662f\u4e00\u7cfb\u5217png\u6587\u4ef6\uff0c\u8fd9\u4e9bpng\u6587\u4ef6\u4f1a\u88ab\u4f9d\u6b21\u663e\u793a\u5728\u5c4f\u5e55\u4e2d\u3002 \u4ee5\u4e0a\u9762\u8fd9\u4e2adesct.txt\u6587\u4ef6\u7684\u5185\u5bb9\u4e3a\u4f8b\uff0c\u5b83\u63cf\u8ff0\u4e86\u4e00\u4e2a\u5927\u5c0f\u4e3a600x480\u7684\u5f00\u673a\u52a8\u753b\uff0c\u52a8\u753b\u7684\u663e\u793a\u901f\u5ea6\u4e3a24\u5e27\u6bcf\u79d2\u3002\u8fd9\u4e2a\u5f00\u673a\u52a8\u753b\u5305\u542b\u6709\u4e24\u4e2a\u7247\u65adpart1\u548cpart2\u3002\u7247\u65adpart1\u53ea\u663e\u793a\u4e00\u6b21\uff0c\u5b83\u5bf9\u5e94\u7684png\u56fe\u7247\u4fdd\u5b58\u5728\u76ee\u5f55part1\u4e2d\u3002\u7247\u65adpart2\u65e0\u9650\u5faa\u73af\u5730\u663e\u793a\uff0c\u5176\u4e2d\uff0c\u6bcf\u4e24\u6b21\u5faa\u73af\u663e\u793a\u7684\u65f6\u95f4\u95f4\u9694\u4e3a10 x (1 / 24)\u79d2\uff0c\u5b83\u5bf9\u5e94\u7684png\u56fe\u7247\u4fdd\u5b58\u5728\u76ee\u5f55part2\u4e2d\u3002 \u9700\u8981\u7279\u522b\u6ce8\u610f\u7684\u5730\u65b9 # desc.txt \u6587\u4ef6\u8981\u5728 Linux \u73af\u5883\u4e0b\u751f\u6210\uff0c\u56e0\u4e3a\u6709\u4e9b\u7a7a\u683c\u4e0d\u4e00\u6837 part \u76ee\u5f55\u4e2d\u7684\u56fe\u7247\u7684\u547d\u540d\u8981\u662f\u8fde\u7eed\u7684\uff0c\u6bd4\u5982pic_001, pic_002, pic_003 ...(\u6216\u8005boot_001,boot_002,boot_003 ...) \u6253\u5305\u6210bootanimation.zip\u6587\u4ef6\u7684\u65f6\u5019\uff0c\u8981\u8981\u7528zip\u683c\u5f0f\u7684\u5b58\u50a8\u65b9\u5f0f\u6253\u5305\u3002 3.4 \u5c06\u5b9a\u5236\u7684bootanimation.zip\u653e\u8fdbAndroid\u7cfb\u7edf # sudo mount system.img /mnt sudo cp bootanimation.zip /mnt/media/ sudo chmod 777 /mnt/media/bootanimation.zip sudo umount /mnt \u6700\u540e\u91cd\u65b0\u5c06system.img\u70e7\u5199\u8fdbAndroid\u8bbe\u5907\uff0c\u70e7\u5199\u6210\u529f\u540e\uff0c\u91cd\u542fAndroid\u8bbe\u5907\u5373\u53ef\u770b\u5230\u5b9a\u5236\u7684\u5f00\u673a\u753b\u9762 \u53e6\u4e00\u79cd\u65b9\u6cd5 # adb push bootanimation.zip /sdcard/bootanimation.zip adb shell su // E9V3\u6267\u884c\u8fd9\u6761\u547d\u4ee4\u62a5\u9519\uff1amount: Operation not permitted\uff0c\u7ecf\u5b9e\u9645\u6d4b\u8bd5E9V3\u4e0d\u9700\u8981\u8fd9\u6761\u6307\u4ee4\u4e5f\u53ef\u4ee5 mount -o remount,rw /system( mount -o rw\uff0cremount /system) cp /sdcard/bootanimation.zip /system/media/bootanimation.zip cd /system/media/ chmod 777 bootanimation.zip\uff08\u5f88\u91cd\u8981\uff09 \u56db\u3001\u53c2\u8003\u8d44\u6599 # Android\u542f\u52a8\u753b\u9762\u5206\u6790","title":"Android\u5b9a\u5236\u5f00\u673aLogo"},{"location":"Android/android_source_code/android_power_logo/#androidlogo","text":"","title":"\u5b9a\u5236Android\u542f\u52a8Logo"},{"location":"Android/android_source_code/android_power_logo/#linux-kernellogo","text":"\u5b89\u88c5PPM\u56fe\u7247\u5236\u4f5c\u5de5\u5177 sudo apt-get install netpbm \u7f16\u5199PPM\u56fe\u7247\u5236\u4f5c\u811a\u672c make_ppm.sh pngtopnm logo.png > logo_linux.pnm pnmquant 224 logo_linux.pnm > logo_linux_224.pnm pnmtoplainpnm logo_linux_224.pnm > logo_linux_clut224.ppm rm -f logo_linux.pnm logo_linux_224.pnm \u51c6\u5907Logo\u56fe\u7247\uff0c\u5e76\u547d\u540d\u4e3alogo.png(\u56e0\u4e3appm\u5236\u4f5c\u811a\u672c\u4e2d\u662f\u8fd9\u4e2a\u540d\u5b57) \u5236\u4f5cppm\u683c\u5f0f\u7684Logo ./make_ppm.sh logo.png \u6267\u884c\u4e0a\u9762\u7684\u547d\u4ee4\u540e\uff0c\u4f1a\u5728\u5f53\u524d\u6587\u4ef6\u5939\u751f\u6210 logo_linux_clut224.ppm \u62f7\u8d1d\u5230\u5236\u4f5c\u597d\u7684LOGO\u6587\u4ef6\u5230 /drivers/video/logo \u6587\u4ef6\u5939\uff0c\u66ff\u6362 logo_linux_clut224.ppm \u6587\u4ef6\uff0c\u5220\u9664\u8be5\u6587\u4ef6\u5939\u4e0b\u7684logo_linux_clut224.c \u548c logo_linux_clut224.o Logo\u5c45\u4e2d\u5168\u5c4f\u663e\u793a \u4fee\u6539\u6e90\u7801/drivers/video/fbdev/core/fbmem.c\u4e2d\u7684fb_show_logo_line\u51fd\u6570 //image.dx=0; //image.dy=y; image.width = logo->width; image.heigh = logo->height; //\u589e\u52a0\u5982\u4e0b\u5185\u5bb9 +image.dx = (info->var.xres / 2) - (image.width / 2); +image.dy = (info->var.yres / 2) - (image.height / 2); \u4fee\u6539\u6e90\u7801/drivers/video/console/fbcon.c\u4e2d\u7684fbcon_prepare_logo()\u51fd\u6570 \u5728logo_height = fb_prepare_logo(info, ops->rotate);\u540e\u589e\u52a0\u4e0b\u9762\u4e00\u884c\u4ee3\u7801 +logo_height += (info->var.yres / 2) - (logo_height / 2); \u53bb\u9664\u5f00\u673aLogo\u4e0a\u7684\u5149\u6807 \u5728 drivers/video/console/fbcon.c \u4e2d\u5c06\u51fd\u6570 tatic void fb_flashcursor(void private) \u548c static void fbcon_cursor(struct vc_data vc, int mode) \u4fee\u6539\u4e3a\u7a7a\u51fd\u6570\u65e2\u53ef\u3002","title":"\u4e00\u3001\u5b9a\u5236Linux kernel\u542f\u52a8Logo"},{"location":"Android/android_source_code/android_power_logo/#androidlogo_1","text":"\u5728 /system/core/init/init.cpp\uff08\u5929\u5d4c\u79d1\u6280\u63d0\u4f9b\u7684Android6.0\u7684\u6e90\u7801\uff09\u4e2d\u7684\u51fd\u6570console_init_action(int nargs, char **args)\u8d1f\u8d23\u5411\u63a7\u5236\u53f0\u8f93\u51fa \"Android\"\u5b57\u6837\u3002\u5982\u679c\u4e0d\u5e0c\u671b\u663e\u793a \"Android\" \u5b57\u6837\uff0c\u5c06\u51fd\u6570\u4e2d\u7684\u76f8\u5173\u90e8\u5206\u6ce8\u91ca\u6389\u65e2\u53ef\u3002","title":"\u4e8c\u3001\u5b9a\u5236Android\u542f\u52a8\u521d\u59cb\u5316Logo"},{"location":"Android/android_source_code/android_power_logo/#android","text":"","title":"\u4e09\u3001\u5b9a\u5236Android\u56fe\u5f62\u7cfb\u7edf\u542f\u52a8\u52a8\u753b"},{"location":"Android/android_source_code/android_power_logo/#31-android","text":"Android \u9ed8\u8ba4\u7684\u5f00\u673a\u753b\u9762\uff08\u95ea\u52a8\u7684ANDROID\u5927\u5b57\uff09 \u7528\u6237\u81ea\u5b9a\u4e49\u7684\u5f00\u673a\u753b\u9762\uff08bootanimation.zip\uff09","title":"3.1 \u8fd9\u662fAndroid\u7b2c\u4e09\u4e2a\u5f00\u673a\u753b\u9762\uff0c\u6709\u4e24\u79cd\u9009\u62e9\uff1a"},{"location":"Android/android_source_code/android_power_logo/#32-android","text":"Android\u542f\u52a8\u65f6\u56de\u53bb\u68c0\u6d4b\u662f\u5426\u5b58\u5728 system/media/bootanimation.zip\uff0c\u5982\u679c\u5b58\u5728\u5219\u4f7f\u7528\u8fd9\u4e2a\u5f00\u673a\u753b\u9762\uff0c\u5426\u5219\u4f7f\u7528Android\u9ed8\u8ba4\u5f00\u673a\u753b\u9762\u3002","title":"3.2 Android\u542f\u52a8\u65f6\u662f\u5982\u4f55\u5224\u65ad\u8be5\u4f7f\u7528\u54ea\u4e00\u4e2a\u5f00\u673a\u753b\u9762\u5462\uff1f"},{"location":"Android/android_source_code/android_power_logo/#33-bootanimationzip","text":"600 480 24 // \u56fe\u7247\u5927\u5c0f\u4e3a600x480\uff0c\u663e\u793a\u901f\u5ea6\u4e3a24\u5e27\u6bcf\u79d2\uff08\u5fc5\u987b\u6839\u636e\u81ea\u5df1\u7684\u5b9e\u9645\u60c5\u51b5\u5199\uff09 p 1 0 part1 p 0 10 part2 \u7b2c\u4e00\u884c\u7684\u4e09\u4e2a\u6570\u5b57\u5206\u522b\u8868\u793a\u5f00\u673a\u52a8\u753b\u5728\u5c4f\u5e55\u4e2d\u7684\u663e\u793a\u5bbd\u5ea6\u3001\u9ad8\u5ea6\u4ee5\u53ca\u5e27\u901f\uff08fps\uff09\u3002\u5269\u4f59\u7684\u6bcf\u4e00\u884c\u90fd\u7528\u6765\u63cf\u8ff0\u4e00\u4e2a\u52a8\u753b\u7247\u65ad\uff0c\u8fd9\u4e9b\u884c\u5fc5\u987b\u8981\u4ee5\u5b57\u7b26\u201cp\u201d\u6765\u5f00\u5934\uff0c\u540e\u9762\u7d27\u8ddf\u7740\u4e24\u4e2a\u6570\u5b57\u4ee5\u53ca\u4e00\u4e2a\u6587\u4ef6\u76ee\u5f55\u8def\u5f84\u540d\u79f0\u3002\u7b2c\u4e00\u4e2a\u6570\u5b57\u8868\u793a\u4e00\u4e2a\u7247\u65ad\u7684\u5faa\u73af\u663e\u793a\u6b21\u6570\uff0c\u5982\u679c\u5b83\u7684\u503c\u7b49\u4e8e0\uff0c\u90a3\u4e48\u5c31\u8868\u793a\u65e0\u9650\u5faa\u73af\u5730\u663e\u793a\u8be5\u52a8\u753b\u7247\u65ad\u3002\u7b2c\u4e8c\u4e2a\u6570\u5b57\u8868\u793a\u6bcf\u4e00\u4e2a\u7247\u65ad\u5728\u4e24\u6b21\u5faa\u73af\u663e\u793a\u4e4b\u95f4\u7684\u65f6\u95f4\u95f4\u9694\u3002\u8fd9\u4e2a\u65f6\u95f4\u95f4\u9694\u662f\u4ee5\u4e00\u4e2a\u5e27\u7684\u65f6\u95f4\u4e3a\u5355\u4f4d\u7684\u3002\u6587\u4ef6\u76ee\u5f55\u4e0b\u9762\u4fdd\u5b58\u7684\u662f\u4e00\u7cfb\u5217png\u6587\u4ef6\uff0c\u8fd9\u4e9bpng\u6587\u4ef6\u4f1a\u88ab\u4f9d\u6b21\u663e\u793a\u5728\u5c4f\u5e55\u4e2d\u3002 \u4ee5\u4e0a\u9762\u8fd9\u4e2adesct.txt\u6587\u4ef6\u7684\u5185\u5bb9\u4e3a\u4f8b\uff0c\u5b83\u63cf\u8ff0\u4e86\u4e00\u4e2a\u5927\u5c0f\u4e3a600x480\u7684\u5f00\u673a\u52a8\u753b\uff0c\u52a8\u753b\u7684\u663e\u793a\u901f\u5ea6\u4e3a24\u5e27\u6bcf\u79d2\u3002\u8fd9\u4e2a\u5f00\u673a\u52a8\u753b\u5305\u542b\u6709\u4e24\u4e2a\u7247\u65adpart1\u548cpart2\u3002\u7247\u65adpart1\u53ea\u663e\u793a\u4e00\u6b21\uff0c\u5b83\u5bf9\u5e94\u7684png\u56fe\u7247\u4fdd\u5b58\u5728\u76ee\u5f55part1\u4e2d\u3002\u7247\u65adpart2\u65e0\u9650\u5faa\u73af\u5730\u663e\u793a\uff0c\u5176\u4e2d\uff0c\u6bcf\u4e24\u6b21\u5faa\u73af\u663e\u793a\u7684\u65f6\u95f4\u95f4\u9694\u4e3a10 x (1 / 24)\u79d2\uff0c\u5b83\u5bf9\u5e94\u7684png\u56fe\u7247\u4fdd\u5b58\u5728\u76ee\u5f55part2\u4e2d\u3002","title":"3.3 \u5b9a\u5236bootanimation.zip"},{"location":"Android/android_source_code/android_power_logo/#_1","text":"desc.txt \u6587\u4ef6\u8981\u5728 Linux \u73af\u5883\u4e0b\u751f\u6210\uff0c\u56e0\u4e3a\u6709\u4e9b\u7a7a\u683c\u4e0d\u4e00\u6837 part \u76ee\u5f55\u4e2d\u7684\u56fe\u7247\u7684\u547d\u540d\u8981\u662f\u8fde\u7eed\u7684\uff0c\u6bd4\u5982pic_001, pic_002, pic_003 ...(\u6216\u8005boot_001,boot_002,boot_003 ...) \u6253\u5305\u6210bootanimation.zip\u6587\u4ef6\u7684\u65f6\u5019\uff0c\u8981\u8981\u7528zip\u683c\u5f0f\u7684\u5b58\u50a8\u65b9\u5f0f\u6253\u5305\u3002","title":"\u9700\u8981\u7279\u522b\u6ce8\u610f\u7684\u5730\u65b9"},{"location":"Android/android_source_code/android_power_logo/#34-bootanimationzipandroid","text":"sudo mount system.img /mnt sudo cp bootanimation.zip /mnt/media/ sudo chmod 777 /mnt/media/bootanimation.zip sudo umount /mnt \u6700\u540e\u91cd\u65b0\u5c06system.img\u70e7\u5199\u8fdbAndroid\u8bbe\u5907\uff0c\u70e7\u5199\u6210\u529f\u540e\uff0c\u91cd\u542fAndroid\u8bbe\u5907\u5373\u53ef\u770b\u5230\u5b9a\u5236\u7684\u5f00\u673a\u753b\u9762","title":"3.4 \u5c06\u5b9a\u5236\u7684bootanimation.zip\u653e\u8fdbAndroid\u7cfb\u7edf"},{"location":"Android/android_source_code/android_power_logo/#_2","text":"adb push bootanimation.zip /sdcard/bootanimation.zip adb shell su // E9V3\u6267\u884c\u8fd9\u6761\u547d\u4ee4\u62a5\u9519\uff1amount: Operation not permitted\uff0c\u7ecf\u5b9e\u9645\u6d4b\u8bd5E9V3\u4e0d\u9700\u8981\u8fd9\u6761\u6307\u4ee4\u4e5f\u53ef\u4ee5 mount -o remount,rw /system( mount -o rw\uff0cremount /system) cp /sdcard/bootanimation.zip /system/media/bootanimation.zip cd /system/media/ chmod 777 bootanimation.zip\uff08\u5f88\u91cd\u8981\uff09","title":"\u53e6\u4e00\u79cd\u65b9\u6cd5"},{"location":"Android/android_source_code/android_power_logo/#_3","text":"Android\u542f\u52a8\u753b\u9762\u5206\u6790","title":"\u56db\u3001\u53c2\u8003\u8d44\u6599"},{"location":"Android/android_source_code/android_remove_usb_permission_dialog/","text":"\u53bb\u6389Android USB\u8bbe\u5907\u6743\u9650\u8bf7\u6c42\u5bf9\u8bdd\u6846 # Tip \u6ce8\u610f\uff1a\u8fd8\u662f\u9700\u8981\u7533\u8bf7USB\u8bbe\u5907\u8bbf\u95ee\u6743\u9650\u7684\uff0c\u53ea\u662f\u4e0d\u4f1a\u5f39\u51fa\u5bf9\u8bdd\u6846\u4e86 1. \u6253\u5f00\u6b64\u6587\u4ef6 # /android/frameworks/base/packages/SystemUI/src/com/android/systemui/usb/UsbPermissionActivity.java 2. \u4fee\u6539\u4ee3\u7801 # \u627e\u5230\u8fd9\u884c\u4ee3\u7801\uff0c\u5c06\u5176\u6ce8\u91ca\u6389 //setupAlert(); 3. \u6dfb\u52a0\u4ee5\u4e0b\u4ee3\u7801\uff08\u6839\u636e\u9700\u6c42\u4efb\u9009\u4e00\u4e2a\u65b9\u6848\u5373\u53ef\uff09 # /* \u65b9\u6848\u4e00\uff1a\u4ec5\u4f7f\u81ea\u5df1\u7684App\u4e0d\u5f39\u51fa\u5bf9\u8bdd\u6846 */ if(!mPackageName.equals(\"com.fhc.usbcamera\")){//\u53cc\u5f15\u53f7\u5185\u4e3a\u4f60\u8981\u7ed9\u6743\u9650\u7684\u5305\u540d setupAlert(); }else { mPermissionGranted = true; finish(); } /* \u65b9\u6848\u4e8c\uff1a\u4f7f\u6240\u6709\u7684App\u4e0d\u5f39\u51fa\u5bf9\u8bdd\u6846 */ mPermissionGranted = true; finish(); \u53c2\u8003\u8d44\u6599\uff1a http://blog.csdn.net/hubbybob1/article/details/50263925","title":"\u53bb\u6389USB\u6743\u9650\u7533\u8bf7\u5bf9\u8bdd\u6846"},{"location":"Android/android_source_code/android_remove_usb_permission_dialog/#android-usb","text":"Tip \u6ce8\u610f\uff1a\u8fd8\u662f\u9700\u8981\u7533\u8bf7USB\u8bbe\u5907\u8bbf\u95ee\u6743\u9650\u7684\uff0c\u53ea\u662f\u4e0d\u4f1a\u5f39\u51fa\u5bf9\u8bdd\u6846\u4e86","title":"\u53bb\u6389Android USB\u8bbe\u5907\u6743\u9650\u8bf7\u6c42\u5bf9\u8bdd\u6846"},{"location":"Android/android_source_code/android_remove_usb_permission_dialog/#1","text":"/android/frameworks/base/packages/SystemUI/src/com/android/systemui/usb/UsbPermissionActivity.java","title":"1. \u6253\u5f00\u6b64\u6587\u4ef6"},{"location":"Android/android_source_code/android_remove_usb_permission_dialog/#2","text":"\u627e\u5230\u8fd9\u884c\u4ee3\u7801\uff0c\u5c06\u5176\u6ce8\u91ca\u6389 //setupAlert();","title":"2. \u4fee\u6539\u4ee3\u7801"},{"location":"Android/android_source_code/android_remove_usb_permission_dialog/#3","text":"/* \u65b9\u6848\u4e00\uff1a\u4ec5\u4f7f\u81ea\u5df1\u7684App\u4e0d\u5f39\u51fa\u5bf9\u8bdd\u6846 */ if(!mPackageName.equals(\"com.fhc.usbcamera\")){//\u53cc\u5f15\u53f7\u5185\u4e3a\u4f60\u8981\u7ed9\u6743\u9650\u7684\u5305\u540d setupAlert(); }else { mPermissionGranted = true; finish(); } /* \u65b9\u6848\u4e8c\uff1a\u4f7f\u6240\u6709\u7684App\u4e0d\u5f39\u51fa\u5bf9\u8bdd\u6846 */ mPermissionGranted = true; finish(); \u53c2\u8003\u8d44\u6599\uff1a http://blog.csdn.net/hubbybob1/article/details/50263925","title":"3. \u6dfb\u52a0\u4ee5\u4e0b\u4ee3\u7801\uff08\u6839\u636e\u9700\u6c42\u4efb\u9009\u4e00\u4e2a\u65b9\u6848\u5373\u53ef\uff09"},{"location":"Android/android_source_code/android_screen_brightness/","text":"\u4fee\u6539\u5c4f\u5e55\u9ed8\u8ba4\u4eae\u5ea6 # \u4fee\u6539frameworks/base/packages/SettingsProvider/res/values/defaults.xml\u6587\u4ef6\u4e2d\u7684def_screen_brightness\u503c\uff0c\u5373\u53ef\u8c03\u6574\u5c4f\u5e55\u9ed8\u8ba4\u4eae\u5ea6\u3002 <!-- Default screen brightness, from 0 to 255. 102 is 40%. --> <integer name=\"def_screen_brightness\">102</integer>","title":"\u4fee\u6539\u5c4f\u5e55\u9ed8\u8ba4\u4eae\u5ea6"},{"location":"Android/android_source_code/android_screen_brightness/#_1","text":"\u4fee\u6539frameworks/base/packages/SettingsProvider/res/values/defaults.xml\u6587\u4ef6\u4e2d\u7684def_screen_brightness\u503c\uff0c\u5373\u53ef\u8c03\u6574\u5c4f\u5e55\u9ed8\u8ba4\u4eae\u5ea6\u3002 <!-- Default screen brightness, from 0 to 255. 102 is 40%. --> <integer name=\"def_screen_brightness\">102</integer>","title":"\u4fee\u6539\u5c4f\u5e55\u9ed8\u8ba4\u4eae\u5ea6"},{"location":"Android/gradle/gradle_download_address/","text":"Gradle\u4e0b\u8f7d\u5730\u5740 # \u6709\u65f6\u9700\u8981\u624b\u52a8\u4e0b\u8f7dgradle\u63d2\u4ef6\u3002","title":"Gradle\u4e0b\u8f7d\u5730\u5740"},{"location":"Android/gradle/gradle_download_address/#gradle","text":"\u6709\u65f6\u9700\u8981\u624b\u52a8\u4e0b\u8f7dgradle\u63d2\u4ef6\u3002","title":"Gradle\u4e0b\u8f7d\u5730\u5740"},{"location":"Android/java/interview/","text":"Interview # 1. String, StringBuffer, StringBuilder # String String\u7c7b\u662ffinal\u7c7b\u578b\u7684\uff0c\u4e0d\u80fd\u88ab\u7ee7\u627f\uff0c\u521b\u5efa\u4e4b\u540e\u5176\u503c\u4e0d\u80fd\u88ab\u4fee\u6539\uff08\u53ef\u4ee5\u4f7f\u7528\u5b57\u7b26\u4e32\u64cd\u4f5c\u7c7bStringBuffer\u548cStringBuilder\u7c7b\u4fee\u6539\u5b57\u7b26\u4e32\uff09\u3002 String str = \"abc\"; // \u5b57\u7b26\u4e32abc\u5728\u5e38\u91cf\u533a String str = new String(\"abc\"); //\u5b57\u7b26\u4e32\u5728\u5806\u4e2d StringBuffer StringBuffer\u662ffinal\u7c7b\u578b\u7684\uff0c\u4e0d\u80fd\u88ab\u7ee7\u627f\u3002 StringBuffer\u662f\u7ebf\u7a0b\u5b89\u5168\u7684\uff0c\u5176\u5927\u591a\u6570\u65b9\u6cd5\u90fd\u6709\u540c\u6b65\u5904\u7406\u3002 StringBuffer\u7684toString\u65b9\u6cd5\u4f1a\u5bf9String\u5bf9\u8c61\u8fdb\u884c\u7f13\u5b58\uff0c\u4ee5\u51cf\u5c11\u5143\u7d20\u590d\u5236\u5f00\u9500\u3002 StringBuilder StringBuilder\u53ef\u88ab\u7ee7\u627f\u3002 StringBuilder\u975e\u7ebf\u7a0b\u5b89\u5168\uff0ctoString\u65b9\u6cd5\u4e5f\u6ca1\u6709\u5bf9String\u5bf9\u8c61\u8fdb\u884c\u7f13\u5b58\u3002 \u5176\u4ed6\u7684\u57fa\u672c\u548cStringBuffer\u4e00\u6837\u3002 2. .class\u6587\u4ef6\u662f\u5982\u4f55\u88ab\u52a0\u8f7d\u7684 # 3. ArrayList, LinkedList\uff0cVector # ArrayList ArrayList\u7684\u5e95\u5c42\u662f\u6570\u7ec4\u5b9e\u73b0\u7684\uff0c\u6240\u4ee5\u83b7\u53d6\u5143\u7d20\u7684\u65f6\u5019\u53ef\u4ee5\u901a\u8fc7\u4e0b\u6807\u76f4\u63a5\u83b7\u53d6\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u662fO(1)\uff0c\u4f46\u662f\u5bf9\u5143\u7d20\u7684\u64cd\u4f5c\u6bd4\u8f83\u9ebb\u70e6\uff0c\u6bd4\u5982\u5220\u9664\u64cd\u4f5c\u9700\u8981\u79fb\u52a8\u6570\u7ec4\u7684\u5143\u7d20 \u975e\u7ebf\u7a0b\u5b89\u5168\u7684\uff08\u53ef\u4ee5\u4f7f\u7528Vector\uff0cVector\u662f\u7ebf\u7a0b\u5b89\u5168\u7684\uff09 LinkedList LinkedList\u7684\u5e95\u5c42\u662f\u94fe\u8868\u5b9e\u73b0\u7684\uff0c\u67e5\u627e\u8d39\u65f6\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u662fO(n)\uff0c\u63d2\u5165\u548c\u5220\u9664\u6bd4\u8f83\u9ad8\u6548 \u975e\u7ebf\u7a0b\u5b89\u5168\u7684 \u76f8\u6bd4\u4e8eArrayList\uff0cLinkedList\u5360\u7528\u66f4\u591a\u7684\u5185\u5b58\u7a7a\u95f4 final finally finalize final \u7528\u4e8e\u58f0\u660e\u5c5e\u6027\uff0c\u65b9\u6cd5\u548c\u7c7b\uff0c\u8868\u793a\u5c5e\u6027\u4e0d\u53ef\u4ee5\u88ab\u4fee\u6539\uff0c\u65b9\u6cd5\u4e0d\u53ef\u4ee5\u88ab\u8986\u76d6\uff0c\u7c7b\u4e0d\u80fd\u88ab\u7ee7\u627f finally \u662f\u5f02\u5e38\u5904\u7406\u8bed\u53e5\u7684\u4e00\u90e8\u5206\uff0c\u8868\u793a\u603b\u662f\u6267\u884c finalize()\u65b9\u6cd5 GC\u5c06\u5bf9\u8c61\u4ece\u5185\u5b58\u6e05\u695a\u4e4b\u524d\uff0c\u8c03\u7528\u6b64\u65b9\u6cd5\u505a\u5fc5\u8981\u7684\u6e05\u7406\u5de5\u4f5c\u3002 \u4f46\u662f\u5e76\u4e0d\u4fdd\u8bc1finalize\u65b9\u6cd5\u80fd\u88ab\u53ca\u65f6\u7684\u8c03\u7528\uff08\u5783\u573e\u56de\u6536\u7684\u65f6\u673a\u5e76\u4e0d\u786e\u5b9a\uff09\uff0c\u4e5f\u4e0d\u4fdd\u8bc1finalize\u65b9\u6cd5\u4e00\u5b9a\u4f1a\u88ab\u6267\u884c\uff08\u7a0b\u52cb\u53ef\u80fd\u4e0d\u4f1a\u89e6\u53d1GC\uff09 \u4e00\u822c\u662f\u7528\u4e8e\u91ca\u653e\u975ejava\u8d44\u6e90\uff08\u6587\u4ef6\uff0cnative\u65b9\u6cd5\uff08malloc\uff09\u7b49\uff09 Vector Hashtable java\u53cd\u5c04 *","title":"Interview"},{"location":"Android/java/interview/#interview","text":"","title":"Interview"},{"location":"Android/java/interview/#1-string-stringbuffer-stringbuilder","text":"String String\u7c7b\u662ffinal\u7c7b\u578b\u7684\uff0c\u4e0d\u80fd\u88ab\u7ee7\u627f\uff0c\u521b\u5efa\u4e4b\u540e\u5176\u503c\u4e0d\u80fd\u88ab\u4fee\u6539\uff08\u53ef\u4ee5\u4f7f\u7528\u5b57\u7b26\u4e32\u64cd\u4f5c\u7c7bStringBuffer\u548cStringBuilder\u7c7b\u4fee\u6539\u5b57\u7b26\u4e32\uff09\u3002 String str = \"abc\"; // \u5b57\u7b26\u4e32abc\u5728\u5e38\u91cf\u533a String str = new String(\"abc\"); //\u5b57\u7b26\u4e32\u5728\u5806\u4e2d StringBuffer StringBuffer\u662ffinal\u7c7b\u578b\u7684\uff0c\u4e0d\u80fd\u88ab\u7ee7\u627f\u3002 StringBuffer\u662f\u7ebf\u7a0b\u5b89\u5168\u7684\uff0c\u5176\u5927\u591a\u6570\u65b9\u6cd5\u90fd\u6709\u540c\u6b65\u5904\u7406\u3002 StringBuffer\u7684toString\u65b9\u6cd5\u4f1a\u5bf9String\u5bf9\u8c61\u8fdb\u884c\u7f13\u5b58\uff0c\u4ee5\u51cf\u5c11\u5143\u7d20\u590d\u5236\u5f00\u9500\u3002 StringBuilder StringBuilder\u53ef\u88ab\u7ee7\u627f\u3002 StringBuilder\u975e\u7ebf\u7a0b\u5b89\u5168\uff0ctoString\u65b9\u6cd5\u4e5f\u6ca1\u6709\u5bf9String\u5bf9\u8c61\u8fdb\u884c\u7f13\u5b58\u3002 \u5176\u4ed6\u7684\u57fa\u672c\u548cStringBuffer\u4e00\u6837\u3002","title":"1. String, StringBuffer, StringBuilder"},{"location":"Android/java/interview/#2-class","text":"","title":"2. .class\u6587\u4ef6\u662f\u5982\u4f55\u88ab\u52a0\u8f7d\u7684"},{"location":"Android/java/interview/#3-arraylist-linkedlistvector","text":"ArrayList ArrayList\u7684\u5e95\u5c42\u662f\u6570\u7ec4\u5b9e\u73b0\u7684\uff0c\u6240\u4ee5\u83b7\u53d6\u5143\u7d20\u7684\u65f6\u5019\u53ef\u4ee5\u901a\u8fc7\u4e0b\u6807\u76f4\u63a5\u83b7\u53d6\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u662fO(1)\uff0c\u4f46\u662f\u5bf9\u5143\u7d20\u7684\u64cd\u4f5c\u6bd4\u8f83\u9ebb\u70e6\uff0c\u6bd4\u5982\u5220\u9664\u64cd\u4f5c\u9700\u8981\u79fb\u52a8\u6570\u7ec4\u7684\u5143\u7d20 \u975e\u7ebf\u7a0b\u5b89\u5168\u7684\uff08\u53ef\u4ee5\u4f7f\u7528Vector\uff0cVector\u662f\u7ebf\u7a0b\u5b89\u5168\u7684\uff09 LinkedList LinkedList\u7684\u5e95\u5c42\u662f\u94fe\u8868\u5b9e\u73b0\u7684\uff0c\u67e5\u627e\u8d39\u65f6\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u662fO(n)\uff0c\u63d2\u5165\u548c\u5220\u9664\u6bd4\u8f83\u9ad8\u6548 \u975e\u7ebf\u7a0b\u5b89\u5168\u7684 \u76f8\u6bd4\u4e8eArrayList\uff0cLinkedList\u5360\u7528\u66f4\u591a\u7684\u5185\u5b58\u7a7a\u95f4 final finally finalize final \u7528\u4e8e\u58f0\u660e\u5c5e\u6027\uff0c\u65b9\u6cd5\u548c\u7c7b\uff0c\u8868\u793a\u5c5e\u6027\u4e0d\u53ef\u4ee5\u88ab\u4fee\u6539\uff0c\u65b9\u6cd5\u4e0d\u53ef\u4ee5\u88ab\u8986\u76d6\uff0c\u7c7b\u4e0d\u80fd\u88ab\u7ee7\u627f finally \u662f\u5f02\u5e38\u5904\u7406\u8bed\u53e5\u7684\u4e00\u90e8\u5206\uff0c\u8868\u793a\u603b\u662f\u6267\u884c finalize()\u65b9\u6cd5 GC\u5c06\u5bf9\u8c61\u4ece\u5185\u5b58\u6e05\u695a\u4e4b\u524d\uff0c\u8c03\u7528\u6b64\u65b9\u6cd5\u505a\u5fc5\u8981\u7684\u6e05\u7406\u5de5\u4f5c\u3002 \u4f46\u662f\u5e76\u4e0d\u4fdd\u8bc1finalize\u65b9\u6cd5\u80fd\u88ab\u53ca\u65f6\u7684\u8c03\u7528\uff08\u5783\u573e\u56de\u6536\u7684\u65f6\u673a\u5e76\u4e0d\u786e\u5b9a\uff09\uff0c\u4e5f\u4e0d\u4fdd\u8bc1finalize\u65b9\u6cd5\u4e00\u5b9a\u4f1a\u88ab\u6267\u884c\uff08\u7a0b\u52cb\u53ef\u80fd\u4e0d\u4f1a\u89e6\u53d1GC\uff09 \u4e00\u822c\u662f\u7528\u4e8e\u91ca\u653e\u975ejava\u8d44\u6e90\uff08\u6587\u4ef6\uff0cnative\u65b9\u6cd5\uff08malloc\uff09\u7b49\uff09 Vector Hashtable java\u53cd\u5c04 *","title":"3. ArrayList, LinkedList\uff0cVector"},{"location":"Android/java/java_compile_command_line/","text":"\u5728\u547d\u4ee4\u884c\u7f16\u8bd1java\u7a0b\u5e8f # 1. \u57fa\u7840\u77e5\u8bc6 # CLASSPATH classpath\u662fJVM\u7528\u5230\u7684\u4e00\u4e2a\u73af\u5883\u53d8\u91cf\uff0c\u5b83\u7528\u6765\u6307\u793aJVM\u5982\u4f55\u641c\u7d22class\u3002\u7c7b\u4f3c\u4e8eC\u8bed\u8a00\u7684\u5934\u6587\u4ef6\u8def\u5f84\uff0c\u662f\u4e00\u4e2a\u76ee\u5f55\u7684\u96c6\u5408\u3002 \u7f51\u4e0a\u6709\u4e2a\u5199\u7684\u5f88\u6e05\u6670\u7684\u6587\u7ae0\uff1a CLASSPATH\u548cJAR\u5305 Package Name \u5305\u5176\u5b9e\u5c31\u76f8\u5f53\u4e8eC++\u4e2d\u7684\u547d\u540d\u7a7a\u95f4\uff0c\u5305\u7684\u672c\u8d28\u5c31\u662f\u6587\u4ef6\u5939\u3002 \u4e0b\u9762\u91cd\u70b9\u8bf4\u4e0b\u6ca1\u6709\u5305\u540d\u7684\u5305\u3002 A class that is not in a named package is in an unnamed package. Thus the full class name is Main. Such classes cannot be used from a named package, except via reflection. You can't import classes from the default package. You should avoid using the default package except for very small example programs. From the Java language specification: It is a compile time error to import a type from the unnamed package. Java does not have namespaces, it has packages. And yes, classes with no package declarations are implicitly part of an \"unnamed package\", often also called \"default package\". However, since it's not possible to import classes from an unnamed package and since the language spec explicitly allows implementations to have different rules about whether and how classes in unnamed packages are visible to each other, it's generally a good idea to put all classes in named packages except for experimental code. \u6ca1\u6709\u5305\u540d\u7684\u5305\uff1a Java\u4e4b\u6240\u4ee5\u4fdd\u7559\u652f\u6301\u8fd9\u4e2a\u7279\u6027\uff0c\u4ec5\u4ec5\u662f\u4e3a\u4e86\u65b9\u4fbf\u4e00\u4e9b\u8d85\u7ea7\u7b80\u5355\u7684\u793a\u4f8b\u7a0b\u5e8f\uff0c\u9664\u6b64\u4e4b\u5916\u4f60\u5e94\u5f53\u907f\u514d\u4f7f\u7528\u6ca1\u6709\u5305\u540d\u7684java\u7a0b\u5e8f\u3002 \u6ca1\u6709\u5305\u540d\u7684\u5305\uff0c\u5176\u5b9e\u6709\u4e00\u4e2a\u9ed8\u8ba4\u7684\u5305\u540d\u201c.\u201d\uff0c\u5728Eclipse\u4e2d\u79f0\u4e3a\u201c\uff08default package\uff09\u201d \u4e0d\u9f13\u52b1\u5c06\u7c7b\u653e\u5728 \u201cdefault package\u201d \u5305\u4e2d\u3002 \u4e0d\u80fd\u4ece\u672a\u547d\u540d\u7684\u5305\u4e2d\u5bfc\u5165class\u7c7b\uff0c\u4e5f\u5c31\u662f\u8bf4\u5982\u679c\u4e00\u4e2a\u7c7b\u6ca1\u6709\u58f0\u660e\u5305\u540d\uff0c\u5982\u4e0b\u6240\u793a\uff0c\u90a3\u4e48\u5176\u4ed6java\u662f\u65e0\u6cd5\u5f15\u7528\u8fd9\u4e2a\u7c7b\u7684\u3002\u6240\u4ee5\u8fd9\u662f\u4e0d\u88ab\u9f13\u52b1\u7684\u3002 //\u6ca1\u6709\u5305\u540d\uff0c\u5176\u4ed6\u7684\u7c7b\u5c06\u65e0\u6cd5\u5f15\u7528\u8fd9\u4e2a\u7c7b // package com.abc public class Node{ } \u6240\u4ee5\u5728\u7f16\u5199Java\u7a0b\u5e8f\u7684\u65f6\u5019\uff0c\u8981\u5c06\u6bcf\u4e00\u4e2a\u7c7b\u90fd\u653e\u5230\u5408\u9002\u7684\u5305\u4e2d\u3002\u56e0\u4e3aJava\u4e2d\u6ca1\u6709C++\u4e2d\u547d\u540d\u7a7a\u95f4\u8fd9\u4e2a\u7279\u6027\uff0c\u53d6\u800c\u4ee3\u4e4b\u7684\u5c31\u662f\u5305\uff0c\u4e5f\u5c31\u662f\u4e0d\u540c\u7684\u6587\u4ef6\u5939\u3002 1.1 \u7f16\u8bd1\u6307\u4ee4\uff1a # javac -d <\u6307\u5b9a\u751f\u6210\u7684.class\u6587\u4ef6\u7684\u5b58\u653e\u8def\u5f84> <\u6e90\u6587\u4ef6.java> // \u7f16\u8bd1Test.java\uff0c\u5e76\u5c06\u751f\u6210\u7684Test.class\u5b58\u653e\u5728\u5f53\u524d\u76ee\u5f55 javac Test.java 1.2 JVM\u52a0\u8f7d.class\u6587\u4ef6\u6267\u884c\u547d\u4ee4\uff1a # // cp\u5373classpath\uff0c\u9ed8\u8ba4\u662f\u5f53\u524d\u8def\u5f84 java -cp <\u8981\u6267\u884c\u7684.class\u6587\u4ef6\u6240\u5728\u7684\u76ee\u5f55> <\u8981\u6267\u884c\u653e\u5165.class\u6587\u4ef6\uff0c\u4e0d\u5e26.class\u540e\u7f00> \u52a0\u8f7d\u65e0\u5305\u540d\u7684.class\u6587\u4ef6 // \u52a0\u8f7d\u5e76\u6267\u884c\u5f53\u524d\u76ee\u5f55\u4e0b\u7684Test.class\u6587\u4ef6 java Test \u52a0\u8f7d\u6709\u5305\u540d\u7684.class\u6587\u4ef6 // \u5728\u5f53\u524d\u76ee\u4e0b\u5bfb\u627e com/a/Test.class\u6587\u4ef6 // \u627e\u5230\u540e\u52a0\u8f7d\u6267\u884c java com.a.Test 1. \u547d\u4ee4\u884c\u7f16\u8bd1\u5355\u4e2aJava\u6587\u4ef6 # \u53ef\u4ee5\u6ca1\u6709\u5305\u540d\uff0c\u56e0\u4e3a\u53ea\u6709\u4e00\u4e2a\u6587\u4ef6\uff0c\u4e0d\u9700\u8981\u88ab\u5176\u4ed6\u7c7b\u5f15\u7528\u3002 \u6e90\u6587\u4ef6 // Test.java public class Test{ public static void main(String[] args){ System.out.println(\"Hello\"); } } \u7f16\u8bd1 javac Test.java \u7f16\u8bd1\u540e\u5c06\u4f1a\u5728\u540c\u76ee\u5f55\u4e0b\u751f\u6210Test.class\u6587\u4ef6\u3002 \u6267\u884c \u4e0d\u9700\u8981\u5199.class\u540e\u7f00\u3002 \u4e0d\u9700\u8981\u6307\u5b9aCLASSPATH\uff0c\u56e0\u4e3aJVM\u9ed8\u8ba4\u7684CLASSPATH\u5c31\u662f\u5f53\u524d\u76ee\u5f55 . \u3002 java Test 2.\u547d\u4ee4\u884c\u7f16\u8bd1\u591a\u4e2a\u6587\u4ef6 # \u5fc5\u987b\u8981\u6709\u5305\u540d\uff0c\u56e0\u4e3a\u4e0d\u80fd\u4ece\u65e0\u540d\u5305\u4e2d\u5bfc\u5165\u7c7b\u3002\u6b63\u786e\u7684\u505a\u6cd5\u662f\uff0c\u5c06\u6bcf\u4e2a\u7c7b\u653e\u5165\u6b63\u786e\u7684\u5305\u4e2d\u3002","title":"\u547d\u4ee4\u884c\u7f16\u8bd1Java\u7a0b\u5e8f"},{"location":"Android/java/java_compile_command_line/#java","text":"","title":"\u5728\u547d\u4ee4\u884c\u7f16\u8bd1java\u7a0b\u5e8f"},{"location":"Android/java/java_compile_command_line/#1","text":"CLASSPATH classpath\u662fJVM\u7528\u5230\u7684\u4e00\u4e2a\u73af\u5883\u53d8\u91cf\uff0c\u5b83\u7528\u6765\u6307\u793aJVM\u5982\u4f55\u641c\u7d22class\u3002\u7c7b\u4f3c\u4e8eC\u8bed\u8a00\u7684\u5934\u6587\u4ef6\u8def\u5f84\uff0c\u662f\u4e00\u4e2a\u76ee\u5f55\u7684\u96c6\u5408\u3002 \u7f51\u4e0a\u6709\u4e2a\u5199\u7684\u5f88\u6e05\u6670\u7684\u6587\u7ae0\uff1a CLASSPATH\u548cJAR\u5305 Package Name \u5305\u5176\u5b9e\u5c31\u76f8\u5f53\u4e8eC++\u4e2d\u7684\u547d\u540d\u7a7a\u95f4\uff0c\u5305\u7684\u672c\u8d28\u5c31\u662f\u6587\u4ef6\u5939\u3002 \u4e0b\u9762\u91cd\u70b9\u8bf4\u4e0b\u6ca1\u6709\u5305\u540d\u7684\u5305\u3002 A class that is not in a named package is in an unnamed package. Thus the full class name is Main. Such classes cannot be used from a named package, except via reflection. You can't import classes from the default package. You should avoid using the default package except for very small example programs. From the Java language specification: It is a compile time error to import a type from the unnamed package. Java does not have namespaces, it has packages. And yes, classes with no package declarations are implicitly part of an \"unnamed package\", often also called \"default package\". However, since it's not possible to import classes from an unnamed package and since the language spec explicitly allows implementations to have different rules about whether and how classes in unnamed packages are visible to each other, it's generally a good idea to put all classes in named packages except for experimental code. \u6ca1\u6709\u5305\u540d\u7684\u5305\uff1a Java\u4e4b\u6240\u4ee5\u4fdd\u7559\u652f\u6301\u8fd9\u4e2a\u7279\u6027\uff0c\u4ec5\u4ec5\u662f\u4e3a\u4e86\u65b9\u4fbf\u4e00\u4e9b\u8d85\u7ea7\u7b80\u5355\u7684\u793a\u4f8b\u7a0b\u5e8f\uff0c\u9664\u6b64\u4e4b\u5916\u4f60\u5e94\u5f53\u907f\u514d\u4f7f\u7528\u6ca1\u6709\u5305\u540d\u7684java\u7a0b\u5e8f\u3002 \u6ca1\u6709\u5305\u540d\u7684\u5305\uff0c\u5176\u5b9e\u6709\u4e00\u4e2a\u9ed8\u8ba4\u7684\u5305\u540d\u201c.\u201d\uff0c\u5728Eclipse\u4e2d\u79f0\u4e3a\u201c\uff08default package\uff09\u201d \u4e0d\u9f13\u52b1\u5c06\u7c7b\u653e\u5728 \u201cdefault package\u201d \u5305\u4e2d\u3002 \u4e0d\u80fd\u4ece\u672a\u547d\u540d\u7684\u5305\u4e2d\u5bfc\u5165class\u7c7b\uff0c\u4e5f\u5c31\u662f\u8bf4\u5982\u679c\u4e00\u4e2a\u7c7b\u6ca1\u6709\u58f0\u660e\u5305\u540d\uff0c\u5982\u4e0b\u6240\u793a\uff0c\u90a3\u4e48\u5176\u4ed6java\u662f\u65e0\u6cd5\u5f15\u7528\u8fd9\u4e2a\u7c7b\u7684\u3002\u6240\u4ee5\u8fd9\u662f\u4e0d\u88ab\u9f13\u52b1\u7684\u3002 //\u6ca1\u6709\u5305\u540d\uff0c\u5176\u4ed6\u7684\u7c7b\u5c06\u65e0\u6cd5\u5f15\u7528\u8fd9\u4e2a\u7c7b // package com.abc public class Node{ } \u6240\u4ee5\u5728\u7f16\u5199Java\u7a0b\u5e8f\u7684\u65f6\u5019\uff0c\u8981\u5c06\u6bcf\u4e00\u4e2a\u7c7b\u90fd\u653e\u5230\u5408\u9002\u7684\u5305\u4e2d\u3002\u56e0\u4e3aJava\u4e2d\u6ca1\u6709C++\u4e2d\u547d\u540d\u7a7a\u95f4\u8fd9\u4e2a\u7279\u6027\uff0c\u53d6\u800c\u4ee3\u4e4b\u7684\u5c31\u662f\u5305\uff0c\u4e5f\u5c31\u662f\u4e0d\u540c\u7684\u6587\u4ef6\u5939\u3002","title":"1. \u57fa\u7840\u77e5\u8bc6"},{"location":"Android/java/java_compile_command_line/#11","text":"javac -d <\u6307\u5b9a\u751f\u6210\u7684.class\u6587\u4ef6\u7684\u5b58\u653e\u8def\u5f84> <\u6e90\u6587\u4ef6.java> // \u7f16\u8bd1Test.java\uff0c\u5e76\u5c06\u751f\u6210\u7684Test.class\u5b58\u653e\u5728\u5f53\u524d\u76ee\u5f55 javac Test.java","title":"1.1 \u7f16\u8bd1\u6307\u4ee4\uff1a"},{"location":"Android/java/java_compile_command_line/#12-jvmclass","text":"// cp\u5373classpath\uff0c\u9ed8\u8ba4\u662f\u5f53\u524d\u8def\u5f84 java -cp <\u8981\u6267\u884c\u7684.class\u6587\u4ef6\u6240\u5728\u7684\u76ee\u5f55> <\u8981\u6267\u884c\u653e\u5165.class\u6587\u4ef6\uff0c\u4e0d\u5e26.class\u540e\u7f00> \u52a0\u8f7d\u65e0\u5305\u540d\u7684.class\u6587\u4ef6 // \u52a0\u8f7d\u5e76\u6267\u884c\u5f53\u524d\u76ee\u5f55\u4e0b\u7684Test.class\u6587\u4ef6 java Test \u52a0\u8f7d\u6709\u5305\u540d\u7684.class\u6587\u4ef6 // \u5728\u5f53\u524d\u76ee\u4e0b\u5bfb\u627e com/a/Test.class\u6587\u4ef6 // \u627e\u5230\u540e\u52a0\u8f7d\u6267\u884c java com.a.Test","title":"1.2 JVM\u52a0\u8f7d.class\u6587\u4ef6\u6267\u884c\u547d\u4ee4\uff1a"},{"location":"Android/java/java_compile_command_line/#1-java","text":"\u53ef\u4ee5\u6ca1\u6709\u5305\u540d\uff0c\u56e0\u4e3a\u53ea\u6709\u4e00\u4e2a\u6587\u4ef6\uff0c\u4e0d\u9700\u8981\u88ab\u5176\u4ed6\u7c7b\u5f15\u7528\u3002 \u6e90\u6587\u4ef6 // Test.java public class Test{ public static void main(String[] args){ System.out.println(\"Hello\"); } } \u7f16\u8bd1 javac Test.java \u7f16\u8bd1\u540e\u5c06\u4f1a\u5728\u540c\u76ee\u5f55\u4e0b\u751f\u6210Test.class\u6587\u4ef6\u3002 \u6267\u884c \u4e0d\u9700\u8981\u5199.class\u540e\u7f00\u3002 \u4e0d\u9700\u8981\u6307\u5b9aCLASSPATH\uff0c\u56e0\u4e3aJVM\u9ed8\u8ba4\u7684CLASSPATH\u5c31\u662f\u5f53\u524d\u76ee\u5f55 . \u3002 java Test","title":"1. \u547d\u4ee4\u884c\u7f16\u8bd1\u5355\u4e2aJava\u6587\u4ef6"},{"location":"Android/java/java_compile_command_line/#2","text":"\u5fc5\u987b\u8981\u6709\u5305\u540d\uff0c\u56e0\u4e3a\u4e0d\u80fd\u4ece\u65e0\u540d\u5305\u4e2d\u5bfc\u5165\u7c7b\u3002\u6b63\u786e\u7684\u505a\u6cd5\u662f\uff0c\u5c06\u6bcf\u4e2a\u7c7b\u653e\u5165\u6b63\u786e\u7684\u5305\u4e2d\u3002","title":"2.\u547d\u4ee4\u884c\u7f16\u8bd1\u591a\u4e2a\u6587\u4ef6"},{"location":"Android/java/java_ui_swing/","text":"Java UI # 1. \u521b\u5efa\u4e00\u4e2aJava\u7c7b # package fhc; import javax.swing.JFrame; import javax.swing.SwingUtilities; public class Main { public static void main(String[] args) { // TODO Auto-generated method stub SwingUtilities.invokeLater(new Runnable() { @Override public void run() { // TODO Auto-generated method stub JFrame jFrame = new MainFrame(\"Hello\"); jFrame.setSize(640, 480); jFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); jFrame.setVisible(true); } }); } } 2.\u521b\u5efa\u4e00\u4e2aUI\u7c7b\u7ee7\u627f\u81eaJFrame # package fhc; import javax.swing.JFrame; import javax.swing.JButton; import java.awt.BorderLayout; import java.awt.event.MouseAdapter; import java.awt.event.MouseEvent; public class MainFrame extends JFrame { /** * */ private static final long serialVersionUID = -4989400973301541581L; public MainFrame(String title){ super(title); JButton btnNewButton = new JButton(\"Start\"); btnNewButton.setBounds(79, 107, 63, 65); btnNewButton.addMouseListener(new MouseAdapter() { @Override public void mouseClicked(MouseEvent e) { System.out.println(\"Start\"); } }); getContentPane().setLayout(null); getContentPane().add(btnNewButton); JButton btnStop = new JButton(\"Stop\"); btnStop.setBounds(188, 107, 57, 65); btnStop.addMouseListener(new MouseAdapter() { @Override public void mouseClicked(MouseEvent e) { System.out.println(\"Stop\"); } }); getContentPane().add(btnStop); } } 3. \u7ed3\u679c\u5982\u4e0b #","title":"Swing"},{"location":"Android/java/java_ui_swing/#java-ui","text":"","title":"Java UI"},{"location":"Android/java/java_ui_swing/#1-java","text":"package fhc; import javax.swing.JFrame; import javax.swing.SwingUtilities; public class Main { public static void main(String[] args) { // TODO Auto-generated method stub SwingUtilities.invokeLater(new Runnable() { @Override public void run() { // TODO Auto-generated method stub JFrame jFrame = new MainFrame(\"Hello\"); jFrame.setSize(640, 480); jFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); jFrame.setVisible(true); } }); } }","title":"1. \u521b\u5efa\u4e00\u4e2aJava\u7c7b"},{"location":"Android/java/java_ui_swing/#2uijframe","text":"package fhc; import javax.swing.JFrame; import javax.swing.JButton; import java.awt.BorderLayout; import java.awt.event.MouseAdapter; import java.awt.event.MouseEvent; public class MainFrame extends JFrame { /** * */ private static final long serialVersionUID = -4989400973301541581L; public MainFrame(String title){ super(title); JButton btnNewButton = new JButton(\"Start\"); btnNewButton.setBounds(79, 107, 63, 65); btnNewButton.addMouseListener(new MouseAdapter() { @Override public void mouseClicked(MouseEvent e) { System.out.println(\"Start\"); } }); getContentPane().setLayout(null); getContentPane().add(btnNewButton); JButton btnStop = new JButton(\"Stop\"); btnStop.setBounds(188, 107, 57, 65); btnStop.addMouseListener(new MouseAdapter() { @Override public void mouseClicked(MouseEvent e) { System.out.println(\"Stop\"); } }); getContentPane().add(btnStop); } }","title":"2.\u521b\u5efa\u4e00\u4e2aUI\u7c7b\u7ee7\u627f\u81eaJFrame"},{"location":"Android/java/java_ui_swing/#3","text":"","title":"3. \u7ed3\u679c\u5982\u4e0b"},{"location":"Android/java/ubuntu_config_java/","text":"Ubuntu\u4e2d\u914d\u7f6eJava\u5f00\u53d1\u73af\u5883 # 1.\u5b89\u88c5Java # OpenJDK # \u70b9\u51fbTab\u952e\u7cfb\u7edf\u4f1a\u5217\u51fa\u6240\u6709\u53ef\u7528\u7248\u672c\u7684OpenJDK $ sudo apt install openjdk[-Tab key-] 2.\u8bbe\u7f6eJava\u73af\u5883\u53d8\u91cf # $ vim /etc/profile JAVA_HOME= JRE_HOME= 3.\u8bbe\u7f6e\u7cfb\u7edf\u9ed8\u8ba4Java\u7248\u672c # $ update-alternatives --config java","title":"Ubuntu\u4e2d\u914d\u7f6eJava"},{"location":"Android/java/ubuntu_config_java/#ubuntujava","text":"","title":"Ubuntu\u4e2d\u914d\u7f6eJava\u5f00\u53d1\u73af\u5883"},{"location":"Android/java/ubuntu_config_java/#1java","text":"OpenJDK # \u70b9\u51fbTab\u952e\u7cfb\u7edf\u4f1a\u5217\u51fa\u6240\u6709\u53ef\u7528\u7248\u672c\u7684OpenJDK $ sudo apt install openjdk[-Tab key-]","title":"1.\u5b89\u88c5Java"},{"location":"Android/java/ubuntu_config_java/#2java","text":"$ vim /etc/profile JAVA_HOME= JRE_HOME=","title":"2.\u8bbe\u7f6eJava\u73af\u5883\u53d8\u91cf"},{"location":"Android/java/ubuntu_config_java/#3java","text":"$ update-alternatives --config java","title":"3.\u8bbe\u7f6e\u7cfb\u7edf\u9ed8\u8ba4Java\u7248\u672c"},{"location":"Android/java/Tools/intelliJ_add_library/","text":"\u6dfb\u52a0\u4f9d\u8d56\u5e93\uff08jar\u6587\u4ef6\uff09 # Java\u5de5\u7a0b\u6709\u591a\u79cd\u6784\u5efa\u5f62\u5f0f\uff0cAnt\uff0cMaven\uff0cGradle\u7b49\uff0c\u5176\u4e2dMaven\uff0cGradle\u662f\u73b0\u5728\u7684\u4e3b\u6d41\u3002 1. \u4ee5IDE\u81ea\u5df1\u7684\u65b9\u5f0f\u6784\u5efaJava\u9879\u76ee # \u5728Eclipse\u4e2d\u6dfb\u52a0jar\u6587\u4ef6\u7684\u65b9\u5f0f\u5982\u4e0b\uff1a IntelliJ IDEA\u4e2d\u4ee5\u4e0b\u9762\u7684\u65b9\u5f0f\u521b\u5efa\u65b0\u9879\u76ee\uff1a \u56e0\u4e3a\u662f\u5b89\u88c5IDE\u81ea\u5df1\u7684\u65b9\u5f0f\u6765\u6784\u5efaJava\u9879\u76ee\u7684\uff0c\u6240\u4ee5\u6dfb\u52a0\u4f9d\u8d56\u5e93\u7684\u65b9\u5f0f\u8981\u6839\u636eIDE\u7684\u914d\u7f6e\u6765\u505a\uff0c\u5177\u4f53\u5982\u4e0b\uff1a 2. \u4ee5Gradle\u6765\u6784\u5efaJava\u9879\u76ee # \u5c06jar\u6587\u4ef6\u90fd\u653e\u5230libs\u76ee\u5f55\u4e0b \u5728build.gradle\u6587\u4ef6\u4e2d\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9\uff1a compile fileTree(include: ['*.jar'], dir: 'libs')","title":"IntelliJ\u6dfb\u52a0jar\u6587\u4ef6"},{"location":"Android/java/Tools/intelliJ_add_library/#jar","text":"Java\u5de5\u7a0b\u6709\u591a\u79cd\u6784\u5efa\u5f62\u5f0f\uff0cAnt\uff0cMaven\uff0cGradle\u7b49\uff0c\u5176\u4e2dMaven\uff0cGradle\u662f\u73b0\u5728\u7684\u4e3b\u6d41\u3002","title":"\u6dfb\u52a0\u4f9d\u8d56\u5e93\uff08jar\u6587\u4ef6\uff09"},{"location":"Android/java/Tools/intelliJ_add_library/#1-idejava","text":"\u5728Eclipse\u4e2d\u6dfb\u52a0jar\u6587\u4ef6\u7684\u65b9\u5f0f\u5982\u4e0b\uff1a IntelliJ IDEA\u4e2d\u4ee5\u4e0b\u9762\u7684\u65b9\u5f0f\u521b\u5efa\u65b0\u9879\u76ee\uff1a \u56e0\u4e3a\u662f\u5b89\u88c5IDE\u81ea\u5df1\u7684\u65b9\u5f0f\u6765\u6784\u5efaJava\u9879\u76ee\u7684\uff0c\u6240\u4ee5\u6dfb\u52a0\u4f9d\u8d56\u5e93\u7684\u65b9\u5f0f\u8981\u6839\u636eIDE\u7684\u914d\u7f6e\u6765\u505a\uff0c\u5177\u4f53\u5982\u4e0b\uff1a","title":"1. \u4ee5IDE\u81ea\u5df1\u7684\u65b9\u5f0f\u6784\u5efaJava\u9879\u76ee"},{"location":"Android/java/Tools/intelliJ_add_library/#2-gradlejava","text":"\u5c06jar\u6587\u4ef6\u90fd\u653e\u5230libs\u76ee\u5f55\u4e0b \u5728build.gradle\u6587\u4ef6\u4e2d\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9\uff1a compile fileTree(include: ['*.jar'], dir: 'libs')","title":"2. \u4ee5Gradle\u6765\u6784\u5efaJava\u9879\u76ee"},{"location":"Android/java/Tools/intelliJ_set_java_code_source/","text":"Intellj IDEA \u8bbe\u7f6eJava\u6e90\u7801 # \u8bbe\u7f6ejava\u6e90\u7801 File -> Project Structure \u9009\u62e9\u6b63\u786e\u7684JDK Home Path\u540e\uff0cClassPath\u4e2d\u7684\u5185\u5bb9\u4f1a\u81ea\u52a8\u66f4\u65b0 SourcePath\u9700\u8981\u624b\u52a8\u6dfb\u52a0\uff0c\u4e00\u822c\u662fJDK_HOME/lib/src.zip \u6ce8\u610f\u8981\u786e\u4fddJDK\u7684\u7248\u672c\u548csrc\u7684\u7248\u672c\u4e00\u81f4","title":"IntelliJ\u8bbe\u7f6eJava\u6e90\u7801"},{"location":"Android/java/Tools/intelliJ_set_java_code_source/#intellj-idea-java","text":"\u8bbe\u7f6ejava\u6e90\u7801 File -> Project Structure \u9009\u62e9\u6b63\u786e\u7684JDK Home Path\u540e\uff0cClassPath\u4e2d\u7684\u5185\u5bb9\u4f1a\u81ea\u52a8\u66f4\u65b0 SourcePath\u9700\u8981\u624b\u52a8\u6dfb\u52a0\uff0c\u4e00\u822c\u662fJDK_HOME/lib/src.zip \u6ce8\u610f\u8981\u786e\u4fddJDK\u7684\u7248\u672c\u548csrc\u7684\u7248\u672c\u4e00\u81f4","title":"Intellj IDEA \u8bbe\u7f6eJava\u6e90\u7801"},{"location":"Computer Vision/OpenCV4Android_001/","text":"OpenCV for Android # 1.\u4e0b\u8f7d\u5e76\u89e3\u538bSDK # OpenCVForAndroid SDK\u4e0b\u8f7d\u94fe\u63a5 2. \u65b0\u5efa\u4e00\u4e2aAndroid Studio\u9879\u76ee(opencv_test) # Menu -> \"File\" -> \"New Project\" -> \"Empty Activity\" 3.\u5c06OpenCV SDK\u5bfc\u5165opencv_test\u9879\u76ee # Menu -> \"File\" -> \"New\" -> \"Import Module\" Source directory: select this \"sdk\" directory Module name: \":opencv\" 4.\u5728APP\u6a21\u5757\u7684build.gradle\u6587\u4ef6\u4e2d\u6dfb\u52a0Opencv\u4f9d\u8d56 # dependencies { implementation fileTree(dir: 'libs', include: ['*.jar']) ... implementation project(':opencv') } 5.Android Camera Preview\u793a\u4f8b\u6d4b\u8bd5 # \u5c06OpenCV-android-sdk\\samples\\tutorial-1-camerapreview\u9879\u76ee\u79fb\u690d\u5230APP\u4e2d\uff08\u590d\u5236MainActivity.java\u6587\u4ef6\u3001layout\u6587\u4ef6\uff0c\u5728AndroidManifest.xml\u6dfb\u52a0\u8bbf\u95ee\u6444\u50cf\u5934\u7684\u6743\u9650\uff09","title":"OpenCV4Android"},{"location":"Computer Vision/OpenCV4Android_001/#opencv-for-android","text":"","title":"OpenCV for Android"},{"location":"Computer Vision/OpenCV4Android_001/#1sdk","text":"OpenCVForAndroid SDK\u4e0b\u8f7d\u94fe\u63a5","title":"1.\u4e0b\u8f7d\u5e76\u89e3\u538bSDK"},{"location":"Computer Vision/OpenCV4Android_001/#2-android-studioopencv_test","text":"Menu -> \"File\" -> \"New Project\" -> \"Empty Activity\"","title":"2. \u65b0\u5efa\u4e00\u4e2aAndroid Studio\u9879\u76ee(opencv_test)"},{"location":"Computer Vision/OpenCV4Android_001/#3opencv-sdkopencv_test","text":"Menu -> \"File\" -> \"New\" -> \"Import Module\" Source directory: select this \"sdk\" directory Module name: \":opencv\"","title":"3.\u5c06OpenCV SDK\u5bfc\u5165opencv_test\u9879\u76ee"},{"location":"Computer Vision/OpenCV4Android_001/#4appbuildgradleopencv","text":"dependencies { implementation fileTree(dir: 'libs', include: ['*.jar']) ... implementation project(':opencv') }","title":"4.\u5728APP\u6a21\u5757\u7684build.gradle\u6587\u4ef6\u4e2d\u6dfb\u52a0Opencv\u4f9d\u8d56"},{"location":"Computer Vision/OpenCV4Android_001/#5android-camera-preview","text":"\u5c06OpenCV-android-sdk\\samples\\tutorial-1-camerapreview\u9879\u76ee\u79fb\u690d\u5230APP\u4e2d\uff08\u590d\u5236MainActivity.java\u6587\u4ef6\u3001layout\u6587\u4ef6\uff0c\u5728AndroidManifest.xml\u6dfb\u52a0\u8bbf\u95ee\u6444\u50cf\u5934\u7684\u6743\u9650\uff09","title":"5.Android Camera Preview\u793a\u4f8b\u6d4b\u8bd5"},{"location":"Computer Vision/caffe/","text":"Installing Caffe from source # Caffe\u5b98\u7f51\u5b89\u88c5\u8bf4\u660e \u4e0b\u9762\u4ee5\u5c0f\u7f16\u81ea\u5df1\u7684\u7406\u89e3\uff0c\u5728Ubuntu18.04\u4e2d\u8fdb\u884cCaffe\u5b89\u88c5\u3002 Caffe\u5b98\u7f51\u4ecb\u7ecd 1.\u5b89\u88c5\u4f9d\u8d56 # sudo apt-get install libprotobuf-dev libleveldb-dev libsnappy-dev libopencv-dev libhdf5-serial-dev protobuf-compiler sudo apt-get install --no-install-recommends libboost-all-dev sudo apt-get install libatlas-base-dev sudo apt-get install libgflags-dev libgoogle-glog-dev liblmdb-dev 2.\u914d\u7f6e\u6587\u4ef6 # \u5c06caffe\u6e90\u7801\u6839\u76ee\u5f55\u4e0b\u7684Makefile.config.example\u6587\u4ef6\u590d\u5236\u4e00\u4efd\uff0c\u5e76\u547d\u540d\u4e3a Makefile.config cp Makefile.config.example Makefile.config \u4fee\u6539Makefile.config\u6587\u4ef6 CPU\u7248\u672c CPU_ONLY := 1 OpenCV\u7248\u672c \u67e5\u770b\u7cfb\u7edf\u4e2d\u5b89\u88c5\u7684OpenCV\u7248\u672c pkg-config --modversion opencv \u5982\u679c\u4e0a\u9762\u6307\u4ee4\u7684\u6253\u5370\u7ed3\u679c\u662f\uff1a3.x.x(Ubuntu18.04 \u9ed8\u8ba4\u662f3.2.0) \u8bf7\u53bb\u6389OPENCV_VERSION\u7684\u6ce8\u91ca # Uncomment if you're using OpenCV 3 OPENCV_VERSION := 3 \u5c06HDF5\u7684\u5934\u6587\u4ef6\u548c\u5e93\u8def\u5f84\u6dfb\u52a0\u8fdb\u6765 INCLUDE_DIRS := $(PYTHON_INCLUDE) /usr/local/include /usr/include/hdf5/serial LIBRARY_DIRS := $(PYTHON_LIB) /usr/local/lib /usr/lib /usr/lib/x86_64-linux-gnu/hdf5/serial \u5982\u679c\u4f60\u4f7f\u7528\u7684\u662fOpenBLAS # \u5c06BLAS\u7684\u503c\u4fee\u6539\u4e3aopen\uff0c\u56e0\u4e3a\u6211\u4eec\u5c06\u4f7f\u7528openBLAS BLAS := open # \u5982\u679c\u4f60\u4f7f\u7528\u7684OpenBLAS\u6ca1\u6709\u5b89\u88c5\u5728\u81ea\u5b9a\u4e49\u76ee\u5f55\uff0c\u8bf7\u6dfb\u52a0\u5934\u6587\u4ef6\u8def\u5f84\u548c\u5e93\u6587\u4ef6\u8def\u5f84 # Whatever else you find you need goes here. INCLUDE_DIRS := $(PYTHON_INCLUDE) /usr/local/include /home/fhc/caffe/openblas_install/include LIBRARY_DIRS := $(PYTHON_LIB) /usr/local/lib /usr/lib /home/fhc/caffe/openblas_install/lib Install OpenBLAS(Base Linear Algebra Subprograms) modify the BLAS := open in the Makefile.config git clone https://github.com/xianyi/OpenBLAS.git make make install modify the BLAS_INCLUDE & BLAS_LIB BLAS_INCLUDE := /opt/OpenBLAS/include BLAS_LIB := /opt/OpenBLAS/lib 3.\u7f16\u8bd1 # cd $caffe_root make all \u5982\u679c\u9700\u8981\u5728python\u4e2d\u4f7f\u7528\uff0c\u9996\u5148\u5b89\u88c5numpy\u5e93 sudo pip install numpy \u7136\u540e\u5728make all\u7ed3\u675f\u540e\uff0c\u6267\u884c\u5982\u4e0b\u6307\u4ee4\uff1a make pycaffe \u6700\u540e\u5c06pycaffe\u7684\u8def\u5f84\u6dfb\u52a0\u5230PYTHONPATH # \u8fd9\u79cd\u65b9\u5f0f\u662f\u4e34\u65f6\u6dfb\u52a0\uff0c\u518d\u6b21\u542f\u52a8\u7ec8\u7aef\u9700\u8981\u91cd\u65b0\u6dfb\u52a0 export PYTHONPATH=/path/to/caffe/python:$PYTHONPATH 4. \u53ef\u80fd\u4f1a\u9047\u5230\u7684\u9519\u8bef # # \u9519\u8bef\u4fe1\u606f undefined reference to `cv::imread(cv::String const&, int)' # \u89e3\u51b3\u65b9\u6cd5 \u4fee\u6539Makefile.config,\u5c06OPENCV_VERSION := 3 # \u9519\u8bef\u4fe1\u5fc3 ImportError: No module named _caffe # \u89e3\u51b3\u65b9\u6cd5 make pycaffe # \u5e76\u5c06pycaffe\u8def\u5f84\u6dfb\u52a0\u5230PYTHONPATH export PYTHONPATH=/path/to/caffe/python:$PYTHONPATH # \u9519\u8bef\u4fe1\u606f ImportError: No module named skimage.io # \u89e3\u51b3\u65b9\u6cd5 pip install scikit-image # \u9519\u8bef\u4fe1\u606f python/caffe/_caffe.cpp:10:10: fatal error: numpy/arrayobject.h: No such file or directory #include <numpy/arrayobject.h> ^~~~~~~~~~~~~~~~~~~~~ compilation terminated. # \u89e3\u51b3\u65b9\u6cd5 \u4f7f\u7528help('numpy')\u53ef\u4ee5\u67e5\u770b\u5230numpy\u7684\u5b9e\u9645\u5b89\u88c5\u4f4d\u7f6e\uff0c\u7136\u540e\u5728Makefile.config\u4e2d\u914d\u7f6enumpy\u7684\u771f\u5b9e\u8def\u5f84 PYTHON_INCLUDE := ... /home/your_name/.local/lib/python2.7/site-packages/numpy/core/include # \u5f15\u8d77\u9519\u8bef\u7684\u539f\u56e0 caffe\u7f16\u8bd1\u7cfb\u7edf\u6ca1\u6709\u627e\u5230\u4f60\u5b89\u88c5\u7684numpy\uff0c\u901a\u5e38\u662f\u56e0\u4e3a\u4f60\u5b89\u88c5numpy\u7684\u65b9\u6cd5\u662f\uff1a pip install numpy pip\u524d\u4e0d\u52a0sudo\u7684\u8bdd\uff0cpython\u5e93\u4f1a\u88ab\u5b89\u88c5\u5230/home/your_name/.local/lib/python2.7/site-packages/\u4e2d ImportError: No module named google.protobuf.internal pip install protobuf","title":"caffe"},{"location":"Computer Vision/caffe/#installing-caffe-from-source","text":"Caffe\u5b98\u7f51\u5b89\u88c5\u8bf4\u660e \u4e0b\u9762\u4ee5\u5c0f\u7f16\u81ea\u5df1\u7684\u7406\u89e3\uff0c\u5728Ubuntu18.04\u4e2d\u8fdb\u884cCaffe\u5b89\u88c5\u3002 Caffe\u5b98\u7f51\u4ecb\u7ecd","title":"Installing Caffe from source"},{"location":"Computer Vision/caffe/#1","text":"sudo apt-get install libprotobuf-dev libleveldb-dev libsnappy-dev libopencv-dev libhdf5-serial-dev protobuf-compiler sudo apt-get install --no-install-recommends libboost-all-dev sudo apt-get install libatlas-base-dev sudo apt-get install libgflags-dev libgoogle-glog-dev liblmdb-dev","title":"1.\u5b89\u88c5\u4f9d\u8d56"},{"location":"Computer Vision/caffe/#2","text":"\u5c06caffe\u6e90\u7801\u6839\u76ee\u5f55\u4e0b\u7684Makefile.config.example\u6587\u4ef6\u590d\u5236\u4e00\u4efd\uff0c\u5e76\u547d\u540d\u4e3a Makefile.config cp Makefile.config.example Makefile.config \u4fee\u6539Makefile.config\u6587\u4ef6 CPU\u7248\u672c CPU_ONLY := 1 OpenCV\u7248\u672c \u67e5\u770b\u7cfb\u7edf\u4e2d\u5b89\u88c5\u7684OpenCV\u7248\u672c pkg-config --modversion opencv \u5982\u679c\u4e0a\u9762\u6307\u4ee4\u7684\u6253\u5370\u7ed3\u679c\u662f\uff1a3.x.x(Ubuntu18.04 \u9ed8\u8ba4\u662f3.2.0) \u8bf7\u53bb\u6389OPENCV_VERSION\u7684\u6ce8\u91ca # Uncomment if you're using OpenCV 3 OPENCV_VERSION := 3 \u5c06HDF5\u7684\u5934\u6587\u4ef6\u548c\u5e93\u8def\u5f84\u6dfb\u52a0\u8fdb\u6765 INCLUDE_DIRS := $(PYTHON_INCLUDE) /usr/local/include /usr/include/hdf5/serial LIBRARY_DIRS := $(PYTHON_LIB) /usr/local/lib /usr/lib /usr/lib/x86_64-linux-gnu/hdf5/serial \u5982\u679c\u4f60\u4f7f\u7528\u7684\u662fOpenBLAS # \u5c06BLAS\u7684\u503c\u4fee\u6539\u4e3aopen\uff0c\u56e0\u4e3a\u6211\u4eec\u5c06\u4f7f\u7528openBLAS BLAS := open # \u5982\u679c\u4f60\u4f7f\u7528\u7684OpenBLAS\u6ca1\u6709\u5b89\u88c5\u5728\u81ea\u5b9a\u4e49\u76ee\u5f55\uff0c\u8bf7\u6dfb\u52a0\u5934\u6587\u4ef6\u8def\u5f84\u548c\u5e93\u6587\u4ef6\u8def\u5f84 # Whatever else you find you need goes here. INCLUDE_DIRS := $(PYTHON_INCLUDE) /usr/local/include /home/fhc/caffe/openblas_install/include LIBRARY_DIRS := $(PYTHON_LIB) /usr/local/lib /usr/lib /home/fhc/caffe/openblas_install/lib Install OpenBLAS(Base Linear Algebra Subprograms) modify the BLAS := open in the Makefile.config git clone https://github.com/xianyi/OpenBLAS.git make make install modify the BLAS_INCLUDE & BLAS_LIB BLAS_INCLUDE := /opt/OpenBLAS/include BLAS_LIB := /opt/OpenBLAS/lib","title":"2.\u914d\u7f6e\u6587\u4ef6"},{"location":"Computer Vision/caffe/#3","text":"cd $caffe_root make all \u5982\u679c\u9700\u8981\u5728python\u4e2d\u4f7f\u7528\uff0c\u9996\u5148\u5b89\u88c5numpy\u5e93 sudo pip install numpy \u7136\u540e\u5728make all\u7ed3\u675f\u540e\uff0c\u6267\u884c\u5982\u4e0b\u6307\u4ee4\uff1a make pycaffe \u6700\u540e\u5c06pycaffe\u7684\u8def\u5f84\u6dfb\u52a0\u5230PYTHONPATH # \u8fd9\u79cd\u65b9\u5f0f\u662f\u4e34\u65f6\u6dfb\u52a0\uff0c\u518d\u6b21\u542f\u52a8\u7ec8\u7aef\u9700\u8981\u91cd\u65b0\u6dfb\u52a0 export PYTHONPATH=/path/to/caffe/python:$PYTHONPATH","title":"3.\u7f16\u8bd1"},{"location":"Computer Vision/caffe/#4","text":"# \u9519\u8bef\u4fe1\u606f undefined reference to `cv::imread(cv::String const&, int)' # \u89e3\u51b3\u65b9\u6cd5 \u4fee\u6539Makefile.config,\u5c06OPENCV_VERSION := 3 # \u9519\u8bef\u4fe1\u5fc3 ImportError: No module named _caffe # \u89e3\u51b3\u65b9\u6cd5 make pycaffe # \u5e76\u5c06pycaffe\u8def\u5f84\u6dfb\u52a0\u5230PYTHONPATH export PYTHONPATH=/path/to/caffe/python:$PYTHONPATH # \u9519\u8bef\u4fe1\u606f ImportError: No module named skimage.io # \u89e3\u51b3\u65b9\u6cd5 pip install scikit-image # \u9519\u8bef\u4fe1\u606f python/caffe/_caffe.cpp:10:10: fatal error: numpy/arrayobject.h: No such file or directory #include <numpy/arrayobject.h> ^~~~~~~~~~~~~~~~~~~~~ compilation terminated. # \u89e3\u51b3\u65b9\u6cd5 \u4f7f\u7528help('numpy')\u53ef\u4ee5\u67e5\u770b\u5230numpy\u7684\u5b9e\u9645\u5b89\u88c5\u4f4d\u7f6e\uff0c\u7136\u540e\u5728Makefile.config\u4e2d\u914d\u7f6enumpy\u7684\u771f\u5b9e\u8def\u5f84 PYTHON_INCLUDE := ... /home/your_name/.local/lib/python2.7/site-packages/numpy/core/include # \u5f15\u8d77\u9519\u8bef\u7684\u539f\u56e0 caffe\u7f16\u8bd1\u7cfb\u7edf\u6ca1\u6709\u627e\u5230\u4f60\u5b89\u88c5\u7684numpy\uff0c\u901a\u5e38\u662f\u56e0\u4e3a\u4f60\u5b89\u88c5numpy\u7684\u65b9\u6cd5\u662f\uff1a pip install numpy pip\u524d\u4e0d\u52a0sudo\u7684\u8bdd\uff0cpython\u5e93\u4f1a\u88ab\u5b89\u88c5\u5230/home/your_name/.local/lib/python2.7/site-packages/\u4e2d ImportError: No module named google.protobuf.internal pip install protobuf","title":"4. \u53ef\u80fd\u4f1a\u9047\u5230\u7684\u9519\u8bef"},{"location":"Computer Vision/cv_library/","text":"open source computer vision librarys # 1.OpenCV # OpenCV\uff08\u5f00\u6e90\u8ba1\u7b97\u673a\u89c6\u89c9\u5e93\uff09\u662f\u5728BSD\u8bb8\u53ef\u4e0b\u53d1\u5e03\u7684\uff0c\u56e0\u6b64\u5b83\u53ef\u4ee5\u514d\u8d39\u7528\u4e8e\u5b66\u672f\u548c\u5546\u4e1a\u7528\u9014\u3002 \u5b83\u5177\u6709C ++\uff0cPython\u548cJava\u63a5\u53e3\uff0c\u652f\u6301Windows\uff0cLinux\uff0cMac OS\uff0ciOS\u548cAndroid\u3002 OpenCV\u4e13\u4e3a\u63d0\u9ad8\u8ba1\u7b97\u6548\u7387\u800c\u8bbe\u8ba1\uff0c\u4e13\u6ce8\u4e8e\u5b9e\u65f6\u5e94\u7528\u3002\u8be5\u5e93\u4ee5\u4f18\u5316\u7684C / C ++\u7f16\u5199\uff0c\u53ef\u4ee5\u5229\u7528\u591a\u6838\u5904\u7406\u3002 \u901a\u8fc7OpenCL\u542f\u7528\uff0c\u5b83\u53ef\u4ee5\u5229\u7528\u5e95\u5c42\u5f02\u6784\u8ba1\u7b97\u5e73\u53f0\u7684\u786c\u4ef6\u52a0\u901f\u3002 OpenCV 2.Dlib # 3.SimpleCV # http://simplecv.org/ 4.CCV # http://libccv.org/ 5.SOD # https://sod.pixlab.io/ 6.VXL # https://vxl.github.io/ 7. # http://cimg.eu/ 8. # http://pointclouds.org/ 9. # http://boofcv.org 10. # https://www.openhub.net/p/ltilib 11 # https://www.mathworks.com/products/computer-vision.html OpenMv 10. # http://www.vlfeat.org/","title":"cv_library"},{"location":"Computer Vision/cv_library/#open-source-computer-vision-librarys","text":"","title":"open source computer vision librarys"},{"location":"Computer Vision/cv_library/#1opencv","text":"OpenCV\uff08\u5f00\u6e90\u8ba1\u7b97\u673a\u89c6\u89c9\u5e93\uff09\u662f\u5728BSD\u8bb8\u53ef\u4e0b\u53d1\u5e03\u7684\uff0c\u56e0\u6b64\u5b83\u53ef\u4ee5\u514d\u8d39\u7528\u4e8e\u5b66\u672f\u548c\u5546\u4e1a\u7528\u9014\u3002 \u5b83\u5177\u6709C ++\uff0cPython\u548cJava\u63a5\u53e3\uff0c\u652f\u6301Windows\uff0cLinux\uff0cMac OS\uff0ciOS\u548cAndroid\u3002 OpenCV\u4e13\u4e3a\u63d0\u9ad8\u8ba1\u7b97\u6548\u7387\u800c\u8bbe\u8ba1\uff0c\u4e13\u6ce8\u4e8e\u5b9e\u65f6\u5e94\u7528\u3002\u8be5\u5e93\u4ee5\u4f18\u5316\u7684C / C ++\u7f16\u5199\uff0c\u53ef\u4ee5\u5229\u7528\u591a\u6838\u5904\u7406\u3002 \u901a\u8fc7OpenCL\u542f\u7528\uff0c\u5b83\u53ef\u4ee5\u5229\u7528\u5e95\u5c42\u5f02\u6784\u8ba1\u7b97\u5e73\u53f0\u7684\u786c\u4ef6\u52a0\u901f\u3002 OpenCV","title":"1.OpenCV"},{"location":"Computer Vision/cv_library/#2dlib","text":"","title":"2.Dlib"},{"location":"Computer Vision/cv_library/#3simplecv","text":"http://simplecv.org/","title":"3.SimpleCV"},{"location":"Computer Vision/cv_library/#4ccv","text":"http://libccv.org/","title":"4.CCV"},{"location":"Computer Vision/cv_library/#5sod","text":"https://sod.pixlab.io/","title":"5.SOD"},{"location":"Computer Vision/cv_library/#6vxl","text":"https://vxl.github.io/","title":"6.VXL"},{"location":"Computer Vision/cv_library/#7","text":"http://cimg.eu/","title":"7."},{"location":"Computer Vision/cv_library/#8","text":"http://pointclouds.org/","title":"8."},{"location":"Computer Vision/cv_library/#9","text":"http://boofcv.org","title":"9."},{"location":"Computer Vision/cv_library/#10","text":"https://www.openhub.net/p/ltilib","title":"10."},{"location":"Computer Vision/cv_library/#11","text":"https://www.mathworks.com/products/computer-vision.html OpenMv","title":"11"},{"location":"Computer Vision/cv_library/#10_1","text":"http://www.vlfeat.org/","title":"10."},{"location":"Computer Vision/opencv_something/","text":"1.\u67e5\u770b\u7535\u8111\u4e0a\u5df2\u5b89\u88c5\u7684OpenCV\u7684\u7248\u672c # pkg-config --modversion opencv","title":"Opencv something"},{"location":"Computer Vision/opencv_something/#1opencv","text":"pkg-config --modversion opencv","title":"1.\u67e5\u770b\u7535\u8111\u4e0a\u5df2\u5b89\u88c5\u7684OpenCV\u7684\u7248\u672c"},{"location":"Design Patterns/Design Patterns/","text":"","title":"Design Patterns"},{"location":"Embedded System/ESP8266/","text":"ESP8266\u5f00\u53d1\u73af\u5883\u642d\u5efa # \u5230espressif\u5b98\u7f51\u4e0b\u8f7d2a-esp8266-sdk_getting_started_guide_en.pdf \u6839\u636e\u6587\u6863\u4e2d\u7684\u6307\u5f15\uff0c\u4e0b\u8f7despressif\u505a\u597d\u7684\u865a\u62df\u673a\uff08\u4e0b\u8f7d\u5305\u4e2d\u7684VirtualBox\u5728\u6211\u7535\u8111\u4e0a\uff09\u8fd9\u662f\u4e00\u4e2a32\u4f4d\u7684\u64cd\u4f5c\u7cfb\u7edf \u4e00\u5b9a\u8981\u4ecegithub\u5b98\u7f51\u4e0b\u8f7despressif\u6e90\u7801 mkdir /mnt/myshare mount -t vboxsf shared /mnt/Share sudo apt-get install libncurses5-dev libncursesw5-dev gperf bison flex // Warn \u4e0d\u8981\u5b89\u88c5python-serial\uff0c\u8981\u5b89\u88c5pysreial ttyUSB0\u7684\u6743\u9650 \u5728.bashrc\u4e2dexport\u73af\u5883\u53d8\u91cf \u7cfb\u7edf\u7f16\u8bd1 # RTOS\u7248\u672c\u7f16\u8bd1\uff0cmake menuconfig -> make all / make flash NONOS\u7248\u672c\u7f16\u8bd1\uff0c\u5de5\u7a0b\u8981\u5728\u7cfb\u7edf\u6e90\u7801\u6839\u76ee\u5f55\u4e0b,\u6bd4\u5982\u6e90\u7801\u76ee\u5f55\u662f\uff1a~/ESP_NONOS_SDK\uff0c\u5de5\u7a0b\u76ee\u5f55\u5fc5\u987b\u662f\uff1a~/ESP_NONOS_SDK/xxx_project","title":"ESP8266"},{"location":"Embedded System/ESP8266/#esp8266","text":"\u5230espressif\u5b98\u7f51\u4e0b\u8f7d2a-esp8266-sdk_getting_started_guide_en.pdf \u6839\u636e\u6587\u6863\u4e2d\u7684\u6307\u5f15\uff0c\u4e0b\u8f7despressif\u505a\u597d\u7684\u865a\u62df\u673a\uff08\u4e0b\u8f7d\u5305\u4e2d\u7684VirtualBox\u5728\u6211\u7535\u8111\u4e0a\uff09\u8fd9\u662f\u4e00\u4e2a32\u4f4d\u7684\u64cd\u4f5c\u7cfb\u7edf \u4e00\u5b9a\u8981\u4ecegithub\u5b98\u7f51\u4e0b\u8f7despressif\u6e90\u7801 mkdir /mnt/myshare mount -t vboxsf shared /mnt/Share sudo apt-get install libncurses5-dev libncursesw5-dev gperf bison flex // Warn \u4e0d\u8981\u5b89\u88c5python-serial\uff0c\u8981\u5b89\u88c5pysreial ttyUSB0\u7684\u6743\u9650 \u5728.bashrc\u4e2dexport\u73af\u5883\u53d8\u91cf","title":"ESP8266\u5f00\u53d1\u73af\u5883\u642d\u5efa"},{"location":"Embedded System/ESP8266/#_1","text":"RTOS\u7248\u672c\u7f16\u8bd1\uff0cmake menuconfig -> make all / make flash NONOS\u7248\u672c\u7f16\u8bd1\uff0c\u5de5\u7a0b\u8981\u5728\u7cfb\u7edf\u6e90\u7801\u6839\u76ee\u5f55\u4e0b,\u6bd4\u5982\u6e90\u7801\u76ee\u5f55\u662f\uff1a~/ESP_NONOS_SDK\uff0c\u5de5\u7a0b\u76ee\u5f55\u5fc5\u987b\u662f\uff1a~/ESP_NONOS_SDK/xxx_project","title":"\u7cfb\u7edf\u7f16\u8bd1"},{"location":"Embedded System/dron_open_source/","text":"\u65e0\u4eba\u673a\u5f00\u6e90\u8d44\u6e90\u6c47\u603b # 1.\u98de\u63a7\u8f6f\u4ef6 # ArduPilot PX4 2.\u98de\u63a7\u786c\u4ef6 # \u98de\u63a7\u786c\u4ef6 3.\u5730\u9762\u7ad9 # \u5730\u9762\u7ad9 Android\u5730\u9762\u7ad9 \u589e\u7a33\u4e91\u53f0 # SimpleBGC32 Storm32BGC","title":"\u65e0\u4eba\u673a\u5f00\u6e90\u8d44\u6e90\u6c47\u603b"},{"location":"Embedded System/dron_open_source/#_1","text":"","title":"\u65e0\u4eba\u673a\u5f00\u6e90\u8d44\u6e90\u6c47\u603b"},{"location":"Embedded System/dron_open_source/#1","text":"ArduPilot PX4","title":"1.\u98de\u63a7\u8f6f\u4ef6"},{"location":"Embedded System/dron_open_source/#2","text":"\u98de\u63a7\u786c\u4ef6","title":"2.\u98de\u63a7\u786c\u4ef6"},{"location":"Embedded System/dron_open_source/#3","text":"\u5730\u9762\u7ad9 Android\u5730\u9762\u7ad9","title":"3.\u5730\u9762\u7ad9"},{"location":"Embedded System/dron_open_source/#_2","text":"SimpleBGC32 Storm32BGC","title":"\u589e\u7a33\u4e91\u53f0"},{"location":"Embedded System/gcc_clang_llvm/","text":"GCC\u3001Clang\u3001LLVM #","title":"GCC&Clang&LLVM\u7684\u5173\u7cfb"},{"location":"Embedded System/gcc_clang_llvm/#gccclangllvm","text":"","title":"GCC\u3001Clang\u3001LLVM"},{"location":"Embedded System/gcc_dynamic_linking_library/","text":"GCC\u7f16\u8bd1\u52a8\u6001\u94fe\u63a5\u5e93\u7b80\u4ecb # 1. \u7f16\u5199\u6d4b\u8bd5\u6587\u4ef6 # hello.c #include <stdio.h> void print_hello(void) { printf(\"Hello Linux!\\n\"); } test.c void print_hello(void); int main() { print_hello(); return 0; } \u9a8c\u8bc1\u7a0b\u5e8f\u662f\u5426\u80fd\u88ab\u6b63\u786e\u7f16\u8bd1\u6267\u884c gcc test.c hello.c -o test ./test 2.\u7f16\u8bd1\u52a8\u6001\u94fe\u63a5\u5e93\u5e76\u6d4b\u8bd5 # \u5c06hello.c\u7f16\u8bd1\u4e3a\u52a8\u6001\u94fe\u63a5\u5e93 gcc -fpic -shared hello.c -o libhello.so \u6ce8\u610f\uff1a\u52a8\u6001\u94fe\u63a5\u5e93\u7684\u547d\u540d\u89c4\u5219\u5fc5\u987b\u662flibxxx.so\uff0c\u5176\u4e2dxxx\u662f\u4f60\u7684\u5e93\u540d \u53c2\u6570 \u542b\u4e49 -fpic \u6307\u660e\u7f16\u8bd1\u4e3a\u4f4d\u7f6e\u65e0\u5173\u7801 -shared \u6307\u660e\u7f16\u8bd1\u4e3a\u52a8\u6001\u94fe\u63a5\u5e93 \u5f15\u7528\u52a8\u6001\u94fe\u63a5\u5e93libhello.so # \u9996\u5148\u5c06libhello.so\u6dfb\u52a0\u5230\u7cfb\u7edf\u9ed8\u8ba4\u5e93\u641c\u7d22\u76ee\u5f55 sudo cp libhello.so /usr/lib/ # \u6216\u8005 sudo cp libhello.so /lib/ # \u7f16\u8bd1test.c gcc test.c -L. -lhello -o test # \u6267\u884c ./test \u6ce8\u610f\uff1atest.c\u7684\u4f4d\u7f6e\u5fc5\u987b\u5728\u53c2\u6570 -L. -lhello \u4e4b\u524d \u53c2\u6570 \u542b\u4e49 -L. \u544a\u8bc9\u94fe\u63a5\u5668\u8981\u94fe\u63a5\u7684\u5e93\u6587\u4ef6\u5728\u5f53\u524d\u76ee\u5f55\u4e0b -lhello \u544a\u8bc9\u94fe\u63a5\u5668\u8981\u94fe\u63a5\u7684\u5e93\u7684\u540d\u5b57\u662flibhello.so \u6709\u65f6\u6211\u4eec\u5e76\u4e0d\u60f3\u4f7f\u7528\u7cfb\u7edf\u9ed8\u8ba4\u7684\u5e93\u641c\u7d22\u8def\u5f84\uff0c\u90a3\u4e48\u6307\u5b9a\u6dfb\u52a0\u81ea\u5df1\u7684\u52a8\u6001\u94fe\u63a5\u5e93\u8def\u5f84\uff0c\u53ef\u4ee5\u8fd9\u4e48\u505a\uff1a # \u6253\u5f00\u6587\u4ef6 sudo vim /etc/ld.so.conf # \u7136\u540e\u5728\u5176\u672b\u5c3e\u6dfb\u52a0\u4f60\u7684\u52a8\u6001\u94fe\u63a5\u5e93\u8def\u5f84\uff0ceg: /home/pi/mydata # \u4f7f\u914d\u7f6e\u751f\u6548 sudo ldconfig 3.\u67e5\u770b\u7a0b\u5e8f\u7684\u4f9d\u8d56\u5e93 # $ ldd test linux-vdso.so.1 (0x0000007fa0ffb000) libhello.so => /home/pi/mydata/libhello.so (0x0000007fa0f80000) libc.so.6 => /lib/aarch64-linux-gnu/libc.so.6 (0x0000007fa0e27000) /lib/ld-linux-aarch64.so.1 (0x0000007fa0fd0000)","title":"GCC\u7f16\u8bd1\u52a8\u6001\u94fe\u63a5\u5e93"},{"location":"Embedded System/gcc_dynamic_linking_library/#gcc","text":"","title":"GCC\u7f16\u8bd1\u52a8\u6001\u94fe\u63a5\u5e93\u7b80\u4ecb"},{"location":"Embedded System/gcc_dynamic_linking_library/#1","text":"hello.c #include <stdio.h> void print_hello(void) { printf(\"Hello Linux!\\n\"); } test.c void print_hello(void); int main() { print_hello(); return 0; } \u9a8c\u8bc1\u7a0b\u5e8f\u662f\u5426\u80fd\u88ab\u6b63\u786e\u7f16\u8bd1\u6267\u884c gcc test.c hello.c -o test ./test","title":"1. \u7f16\u5199\u6d4b\u8bd5\u6587\u4ef6"},{"location":"Embedded System/gcc_dynamic_linking_library/#2","text":"\u5c06hello.c\u7f16\u8bd1\u4e3a\u52a8\u6001\u94fe\u63a5\u5e93 gcc -fpic -shared hello.c -o libhello.so \u6ce8\u610f\uff1a\u52a8\u6001\u94fe\u63a5\u5e93\u7684\u547d\u540d\u89c4\u5219\u5fc5\u987b\u662flibxxx.so\uff0c\u5176\u4e2dxxx\u662f\u4f60\u7684\u5e93\u540d \u53c2\u6570 \u542b\u4e49 -fpic \u6307\u660e\u7f16\u8bd1\u4e3a\u4f4d\u7f6e\u65e0\u5173\u7801 -shared \u6307\u660e\u7f16\u8bd1\u4e3a\u52a8\u6001\u94fe\u63a5\u5e93 \u5f15\u7528\u52a8\u6001\u94fe\u63a5\u5e93libhello.so # \u9996\u5148\u5c06libhello.so\u6dfb\u52a0\u5230\u7cfb\u7edf\u9ed8\u8ba4\u5e93\u641c\u7d22\u76ee\u5f55 sudo cp libhello.so /usr/lib/ # \u6216\u8005 sudo cp libhello.so /lib/ # \u7f16\u8bd1test.c gcc test.c -L. -lhello -o test # \u6267\u884c ./test \u6ce8\u610f\uff1atest.c\u7684\u4f4d\u7f6e\u5fc5\u987b\u5728\u53c2\u6570 -L. -lhello \u4e4b\u524d \u53c2\u6570 \u542b\u4e49 -L. \u544a\u8bc9\u94fe\u63a5\u5668\u8981\u94fe\u63a5\u7684\u5e93\u6587\u4ef6\u5728\u5f53\u524d\u76ee\u5f55\u4e0b -lhello \u544a\u8bc9\u94fe\u63a5\u5668\u8981\u94fe\u63a5\u7684\u5e93\u7684\u540d\u5b57\u662flibhello.so \u6709\u65f6\u6211\u4eec\u5e76\u4e0d\u60f3\u4f7f\u7528\u7cfb\u7edf\u9ed8\u8ba4\u7684\u5e93\u641c\u7d22\u8def\u5f84\uff0c\u90a3\u4e48\u6307\u5b9a\u6dfb\u52a0\u81ea\u5df1\u7684\u52a8\u6001\u94fe\u63a5\u5e93\u8def\u5f84\uff0c\u53ef\u4ee5\u8fd9\u4e48\u505a\uff1a # \u6253\u5f00\u6587\u4ef6 sudo vim /etc/ld.so.conf # \u7136\u540e\u5728\u5176\u672b\u5c3e\u6dfb\u52a0\u4f60\u7684\u52a8\u6001\u94fe\u63a5\u5e93\u8def\u5f84\uff0ceg: /home/pi/mydata # \u4f7f\u914d\u7f6e\u751f\u6548 sudo ldconfig","title":"2.\u7f16\u8bd1\u52a8\u6001\u94fe\u63a5\u5e93\u5e76\u6d4b\u8bd5"},{"location":"Embedded System/gcc_dynamic_linking_library/#3","text":"$ ldd test linux-vdso.so.1 (0x0000007fa0ffb000) libhello.so => /home/pi/mydata/libhello.so (0x0000007fa0f80000) libc.so.6 => /lib/aarch64-linux-gnu/libc.so.6 (0x0000007fa0e27000) /lib/ld-linux-aarch64.so.1 (0x0000007fa0fd0000)","title":"3.\u67e5\u770b\u7a0b\u5e8f\u7684\u4f9d\u8d56\u5e93"},{"location":"Embedded System/linux_shell_cmd/","text":"Linux Shell CMD # 1. dd # sudo dd if=/xx/xx/xx.img of=/dev/sdc bs=512M if -- input file of -- output file 2. rm # # \u9664file\u4e4b\u5916\u7684\u6587\u4ef6\u5168\u90e8\u5220\u9664 rm -f !(file) # \u9664file1,file2,...\u4e4b\u5916\u7684\u6587\u4ef6\u5168\u90e8\u5220\u9664 rm -f !(file1|file2|...) 3. \u786c\u76d8\u76f8\u5173 # \u786c\u76d8\u5206\u533a\u683c\u5f0f\u5316 # \u5206\u533a sudo fdisk /dev/sdx # \u683c\u5f0f\u5316 sudo mkfs.vfat /dev/sdx \u67e5\u770b\u786c\u76d8\u5bb9\u91cf\u4f7f\u7528\u60c5\u51b5 # \u67e5\u770b\u786c\u76d8\u5bb9\u91cf\u4f7f\u7528\u60c5\u51b5 -h --human-readable df -hl /dev/sda1 # \u67e5\u770b\u6587\u4ef6\u6216\u8005\u6587\u4ef6\u5939\u7684\u5927\u5c0f du -hl xxx 4. \u7f51\u7edc\u4f20\u8f93\u76f8\u5173\u547d\u4ee4 # wget wget https://ftp.gnu.org/gnu/wget/wget-latest.tar.gz # \u533f\u540d\u767b\u5f55FTP\u670d\u52a1\u5668\u5e76\u4e0b\u8f7d\u6587\u4ef6 wget ftp://192.168.10.100/fhc/wuhuanWiki/site.zip # \u4f7f\u7528\u7528\u6237\u540d\u5bc6\u7801\u767b\u5f55\u5e76\u4e0b\u8f7d\u6587\u4ef6 wget ftp://username:paswword@192.168.10.100/fhc/wuhuanWiki/site.zip scp scp source_file username@host:/path 5.\u7f51\u7edc\u7ba1\u7406 # wifi\u8fde\u63a5\u76f8\u5173\u64cd\u4f5c # \u5b89\u88c5nmcli\u7f51\u7edc\u7ba1\u7406\u5de5\u5177 sudo apt-get install nmcli # \u6253\u5f00\u6216\u8005\u5173\u95edwifi sudo nmcli r wifi on/off # \u626b\u63cf\u9644\u8fd1wifi\u70ed\u70b9 sudo nmcli dev wifi # \u8fde\u63a5\u5230\u6307\u5b9a\u7684wifi\u70ed\u70b9 sudo nmcli dev wifi connect \"SSID\" password \"PASSWORD\" ifname wlan0","title":"\u5e38\u7528shell\u547d\u4ee4"},{"location":"Embedded System/linux_shell_cmd/#linux-shell-cmd","text":"","title":"Linux Shell CMD"},{"location":"Embedded System/linux_shell_cmd/#1-dd","text":"sudo dd if=/xx/xx/xx.img of=/dev/sdc bs=512M if -- input file of -- output file","title":"1. dd"},{"location":"Embedded System/linux_shell_cmd/#2-rm","text":"# \u9664file\u4e4b\u5916\u7684\u6587\u4ef6\u5168\u90e8\u5220\u9664 rm -f !(file) # \u9664file1,file2,...\u4e4b\u5916\u7684\u6587\u4ef6\u5168\u90e8\u5220\u9664 rm -f !(file1|file2|...)","title":"2. rm"},{"location":"Embedded System/linux_shell_cmd/#3","text":"\u786c\u76d8\u5206\u533a\u683c\u5f0f\u5316 # \u5206\u533a sudo fdisk /dev/sdx # \u683c\u5f0f\u5316 sudo mkfs.vfat /dev/sdx \u67e5\u770b\u786c\u76d8\u5bb9\u91cf\u4f7f\u7528\u60c5\u51b5 # \u67e5\u770b\u786c\u76d8\u5bb9\u91cf\u4f7f\u7528\u60c5\u51b5 -h --human-readable df -hl /dev/sda1 # \u67e5\u770b\u6587\u4ef6\u6216\u8005\u6587\u4ef6\u5939\u7684\u5927\u5c0f du -hl xxx","title":"3. \u786c\u76d8\u76f8\u5173"},{"location":"Embedded System/linux_shell_cmd/#4","text":"wget wget https://ftp.gnu.org/gnu/wget/wget-latest.tar.gz # \u533f\u540d\u767b\u5f55FTP\u670d\u52a1\u5668\u5e76\u4e0b\u8f7d\u6587\u4ef6 wget ftp://192.168.10.100/fhc/wuhuanWiki/site.zip # \u4f7f\u7528\u7528\u6237\u540d\u5bc6\u7801\u767b\u5f55\u5e76\u4e0b\u8f7d\u6587\u4ef6 wget ftp://username:paswword@192.168.10.100/fhc/wuhuanWiki/site.zip scp scp source_file username@host:/path","title":"4. \u7f51\u7edc\u4f20\u8f93\u76f8\u5173\u547d\u4ee4"},{"location":"Embedded System/linux_shell_cmd/#5","text":"wifi\u8fde\u63a5\u76f8\u5173\u64cd\u4f5c # \u5b89\u88c5nmcli\u7f51\u7edc\u7ba1\u7406\u5de5\u5177 sudo apt-get install nmcli # \u6253\u5f00\u6216\u8005\u5173\u95edwifi sudo nmcli r wifi on/off # \u626b\u63cf\u9644\u8fd1wifi\u70ed\u70b9 sudo nmcli dev wifi # \u8fde\u63a5\u5230\u6307\u5b9a\u7684wifi\u70ed\u70b9 sudo nmcli dev wifi connect \"SSID\" password \"PASSWORD\" ifname wlan0","title":"5.\u7f51\u7edc\u7ba1\u7406"},{"location":"Embedded System/linux_shell_program/","text":"Linux Shell Script Program # \u5206\u652f\u8bed\u53e5 # dir=/home/fhc/dir # dir\u548c=\u4e4b\u95f4\u4e0d\u80fd\u6709\u7a7a\u683c if [ -d \"$dir\" ] # if\u548c[\u4e4b\u95f4\u5fc5\u987b\u6709\u4e00\u4e2a\u7a7a\u683c\uff0c[\u548c-d\u4e4b\u95f4\u5fc5\u987b\u6709\u4e00\u4e2a\u7a7a\u683c\uff0c \"$dir\"\u548c]\u4e4b\u95f4\u5fc5\u987b\u6709\u4e00\u4e2a\u7a7a\u683c then # then\u5fc5\u987b\u53e6\u8d77\u4e00\u884c\uff08\u6216\u8005 f [ -d \"$dir\" ];then \uff09 echo \"dir is existed!\" else echo \"dir isn't existed!\" fi -d \u5224\u65ad\u4e00\u4e2a\u6587\u4ef6\u5939\u662f\u5426\u5b58\u5728 \u987a\u5e8f\u6267\u884c\u6307\u4ee4 # \u4e0a\u4e00\u6761\u6307\u4ee4\u6267\u884c\u5b8c\u6bd5\u624d\u6267\u884c\u4e0b\u4e00\u6761\u6307\u4ee4 # \u5c06\u6307\u4ee4\u7684\u8fd4\u56de\u503c\u8d4b\u7ed9\u4e00\u4e2a\u53d8\u91cf\uff0c\u8fd9\u6837\u672c\u6761\u6307\u4ee4\u6267\u884c\u5b8c\u6bd5\uff0c\u624d\u4f1a\u7ee7\u7eed\u5411\u4e0b\u6267\u884c rm_ok=`sudo rm /var/www/html/*` cp_ok=`sudo cp xxx xxx`","title":"Linux Shell\u811a\u672c\u7f16\u7a0b"},{"location":"Embedded System/linux_shell_program/#linux-shell-script-program","text":"","title":"Linux Shell Script Program"},{"location":"Embedded System/linux_shell_program/#_1","text":"dir=/home/fhc/dir # dir\u548c=\u4e4b\u95f4\u4e0d\u80fd\u6709\u7a7a\u683c if [ -d \"$dir\" ] # if\u548c[\u4e4b\u95f4\u5fc5\u987b\u6709\u4e00\u4e2a\u7a7a\u683c\uff0c[\u548c-d\u4e4b\u95f4\u5fc5\u987b\u6709\u4e00\u4e2a\u7a7a\u683c\uff0c \"$dir\"\u548c]\u4e4b\u95f4\u5fc5\u987b\u6709\u4e00\u4e2a\u7a7a\u683c then # then\u5fc5\u987b\u53e6\u8d77\u4e00\u884c\uff08\u6216\u8005 f [ -d \"$dir\" ];then \uff09 echo \"dir is existed!\" else echo \"dir isn't existed!\" fi -d \u5224\u65ad\u4e00\u4e2a\u6587\u4ef6\u5939\u662f\u5426\u5b58\u5728","title":"\u5206\u652f\u8bed\u53e5"},{"location":"Embedded System/linux_shell_program/#_2","text":"\u4e0a\u4e00\u6761\u6307\u4ee4\u6267\u884c\u5b8c\u6bd5\u624d\u6267\u884c\u4e0b\u4e00\u6761\u6307\u4ee4 # \u5c06\u6307\u4ee4\u7684\u8fd4\u56de\u503c\u8d4b\u7ed9\u4e00\u4e2a\u53d8\u91cf\uff0c\u8fd9\u6837\u672c\u6761\u6307\u4ee4\u6267\u884c\u5b8c\u6bd5\uff0c\u624d\u4f1a\u7ee7\u7eed\u5411\u4e0b\u6267\u884c rm_ok=`sudo rm /var/www/html/*` cp_ok=`sudo cp xxx xxx`","title":"\u987a\u5e8f\u6267\u884c\u6307\u4ee4"},{"location":"Embedded System/rk3399_cli_connect_wifi/","text":"NanoPC RK3399 # 1. \u547d\u4ee4\u884c\u8fde\u63a5WiFi # \u5207\u6362\u5230root\u8d26\u6237 $ su root \u67e5\u770b\u7f51\u7edc\u8bbe\u5907\u5217\u8868 $ nmcli dev \u6ce8\u610f\uff0c\u5982\u679c\u5217\u51fa\u7684\u8bbe\u5907\u72b6\u6001\u662f unmanaged \u7684\uff0c\u8bf4\u660e\u7f51\u7edc\u8bbe\u5907\u4e0d\u53d7NetworkManager\u7ba1\u7406\uff0c\u4f60\u9700\u8981\u6e05\u7a7a /etc/network/interfaces\u4e0b\u7684\u7f51\u7edc\u8bbe\u7f6e,\u7136\u540e\u91cd\u542f. \u5f00\u542fWiFi $ nmcli r wifi on \u626b\u63cf\u9644\u8fd1\u7684 WiFi \u70ed\u70b9 $ nmcli dev wifi \u8fde\u63a5\u5230\u6307\u5b9a\u7684 WiFi \u70ed\u70b9 $ nmcli dev wifi connect \"SSID\" password \"PASSWORD\" ifname wlan0 \u8bf7\u5c06 SSID\u548c PASSWORD \u66ff\u6362\u6210\u5b9e\u9645\u7684 WiFi\u540d\u79f0\u548c\u5bc6\u7801\u3002 \u8fde\u63a5\u6210\u529f\u540e\uff0c\u4e0b\u6b21\u5f00\u673a\uff0cWiFi \u4e5f\u4f1a\u81ea\u52a8\u8fde\u63a5\u3002","title":"\u547d\u4ee4\u884c\u8fde\u63a5WiFi\u70ed\u70b9"},{"location":"Embedded System/rk3399_cli_connect_wifi/#nanopc-rk3399","text":"","title":"NanoPC RK3399"},{"location":"Embedded System/rk3399_cli_connect_wifi/#1-wifi","text":"\u5207\u6362\u5230root\u8d26\u6237 $ su root \u67e5\u770b\u7f51\u7edc\u8bbe\u5907\u5217\u8868 $ nmcli dev \u6ce8\u610f\uff0c\u5982\u679c\u5217\u51fa\u7684\u8bbe\u5907\u72b6\u6001\u662f unmanaged \u7684\uff0c\u8bf4\u660e\u7f51\u7edc\u8bbe\u5907\u4e0d\u53d7NetworkManager\u7ba1\u7406\uff0c\u4f60\u9700\u8981\u6e05\u7a7a /etc/network/interfaces\u4e0b\u7684\u7f51\u7edc\u8bbe\u7f6e,\u7136\u540e\u91cd\u542f. \u5f00\u542fWiFi $ nmcli r wifi on \u626b\u63cf\u9644\u8fd1\u7684 WiFi \u70ed\u70b9 $ nmcli dev wifi \u8fde\u63a5\u5230\u6307\u5b9a\u7684 WiFi \u70ed\u70b9 $ nmcli dev wifi connect \"SSID\" password \"PASSWORD\" ifname wlan0 \u8bf7\u5c06 SSID\u548c PASSWORD \u66ff\u6362\u6210\u5b9e\u9645\u7684 WiFi\u540d\u79f0\u548c\u5bc6\u7801\u3002 \u8fde\u63a5\u6210\u529f\u540e\uff0c\u4e0b\u6b21\u5f00\u673a\uff0cWiFi \u4e5f\u4f1a\u81ea\u52a8\u8fde\u63a5\u3002","title":"1. \u547d\u4ee4\u884c\u8fde\u63a5WiFi"},{"location":"Embedded System/spi_bus/","text":"SPI\u603b\u7ebf\u7b80\u4ecb # 1. SPI\u603b\u7ebf\u7684\u5de5\u4f5c\u6a21\u5f0f # \u6a21\u5f0f CPOL CPHA Mode 0 CPOL=0 CPHA=0 Mode 1 CPOL=0 CPHA=1 Mode 2 CPOL=1 CPHA=0 Mode 3 CPOL=1 CPHA=1 \u65f6\u949f\u6781\u6027CPOL: \u5373SPI\u7a7a\u95f2\u65f6\uff0c\u65f6\u949f\u4fe1\u53f7SCLK\u7684\u7535\u5e73\uff080:\u7a7a\u95f2\u65f6\u4f4e\u7535\u5e73\uff1b1:\u7a7a\u95f2\u65f6\u9ad8\u7535\u5e73\uff09 \u65f6\u949f\u76f8\u4f4dCPHA: \u5373SPI\u5728SCLK\u7b2c\u51e0\u4e2a\u8fb9\u6cbf\u5f00\u59cb\u91c7\u6837\uff080:\u7b2c\u4e00\u4e2a\u8fb9\u6cbf\u5f00\u59cb; 1:\u7b2c\u4e8c\u4e2a\u8fb9\u6cbf\u5f00\u59cb\uff09 CPOL( Clock Polarity) CPHA\uff08Clock Phase\uff09 2. SPI \u65f6\u5e8f # CPOL=0 CPHA=0 CPOL=0 CPHA=1 CPOL=1 CPHA=0 CPOL=1 CPHA=1 3. \u5b9e\u4f8b\u5206\u6790 # \u56fe: MCP3202\u7684SPI\u901a\u4fe1\u65f6\u5e8f\u56fe \u4ece\u56fe\u4e2d\u53ef\u4ee5\u770b\u51faSPI\u7a7a\u95f2\u65f6SCLK\u4e3a\u4f4e\u7535\u5e73\uff0c\u6240\u4ee5CPOL=0 \u5728\u4e0a\u5347\u6cbf\u91c7\u6837\uff0c\u53c8\u56e0\u4e3aCPU\u7a7a\u95f2\u65f6SCLK\u4e3a\u4f4e\u7535\u5e73\uff0c\u6240\u4ee5\u4e0a\u5347\u6cbf\u662f\u7b2c\u4e00\u4e2a\u8fb9\u6cbf\uff0c\u6240\u4ee5CPHA=0 \u6240\u4ee5\u6b64\u65f6\u5e8f\u56fe\u8868\u660eSPI\u5de5\u4f5c\u5728Mode 0","title":"SPI\u603b\u7ebf"},{"location":"Embedded System/spi_bus/#spi","text":"","title":"SPI\u603b\u7ebf\u7b80\u4ecb"},{"location":"Embedded System/spi_bus/#1-spi","text":"\u6a21\u5f0f CPOL CPHA Mode 0 CPOL=0 CPHA=0 Mode 1 CPOL=0 CPHA=1 Mode 2 CPOL=1 CPHA=0 Mode 3 CPOL=1 CPHA=1 \u65f6\u949f\u6781\u6027CPOL: \u5373SPI\u7a7a\u95f2\u65f6\uff0c\u65f6\u949f\u4fe1\u53f7SCLK\u7684\u7535\u5e73\uff080:\u7a7a\u95f2\u65f6\u4f4e\u7535\u5e73\uff1b1:\u7a7a\u95f2\u65f6\u9ad8\u7535\u5e73\uff09 \u65f6\u949f\u76f8\u4f4dCPHA: \u5373SPI\u5728SCLK\u7b2c\u51e0\u4e2a\u8fb9\u6cbf\u5f00\u59cb\u91c7\u6837\uff080:\u7b2c\u4e00\u4e2a\u8fb9\u6cbf\u5f00\u59cb; 1:\u7b2c\u4e8c\u4e2a\u8fb9\u6cbf\u5f00\u59cb\uff09 CPOL( Clock Polarity) CPHA\uff08Clock Phase\uff09","title":"1. SPI\u603b\u7ebf\u7684\u5de5\u4f5c\u6a21\u5f0f"},{"location":"Embedded System/spi_bus/#2-spi","text":"CPOL=0 CPHA=0 CPOL=0 CPHA=1 CPOL=1 CPHA=0 CPOL=1 CPHA=1","title":"2. SPI \u65f6\u5e8f"},{"location":"Embedded System/spi_bus/#3","text":"\u56fe: MCP3202\u7684SPI\u901a\u4fe1\u65f6\u5e8f\u56fe \u4ece\u56fe\u4e2d\u53ef\u4ee5\u770b\u51faSPI\u7a7a\u95f2\u65f6SCLK\u4e3a\u4f4e\u7535\u5e73\uff0c\u6240\u4ee5CPOL=0 \u5728\u4e0a\u5347\u6cbf\u91c7\u6837\uff0c\u53c8\u56e0\u4e3aCPU\u7a7a\u95f2\u65f6SCLK\u4e3a\u4f4e\u7535\u5e73\uff0c\u6240\u4ee5\u4e0a\u5347\u6cbf\u662f\u7b2c\u4e00\u4e2a\u8fb9\u6cbf\uff0c\u6240\u4ee5CPHA=0 \u6240\u4ee5\u6b64\u65f6\u5e8f\u56fe\u8868\u660eSPI\u5de5\u4f5c\u5728Mode 0","title":"3. \u5b9e\u4f8b\u5206\u6790"},{"location":"Embedded System/STM32/arm_assembly/","text":"ARM\u6c47\u7f16 # \u4e0d\u540c\u4f9b\u5e94\u5546\u7684\u6c47\u7f16\u5de5\u5177\uff0c\u6bd4\u5982ARM\u6c47\u7f16\u5668\u548cGNU\u6c47\u7f16\u5668\u5177\u6709\u4e0d\u540c\u7684\u8bed\u6cd5\uff0c\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u52a9\u8bb0\u7b26\u548c\u6c47\u7f16\u6307\u4ee4\u90fd\u662f\u76f8\u540c\u7684\uff0c\u4f46\u662f\u6c47\u7f16\u4f2a\u6307\u4ee4\u3001\u5b9a\u4e49\u3001\u6807\u53f7\u548c\u6ce8\u91ca\u7684\u8bed\u6cd5\u53ef\u80fd\u4f1a\u6709\u5dee\u5f02\u3002","title":"ARM\u6c47\u7f16"},{"location":"Embedded System/STM32/arm_assembly/#arm","text":"\u4e0d\u540c\u4f9b\u5e94\u5546\u7684\u6c47\u7f16\u5de5\u5177\uff0c\u6bd4\u5982ARM\u6c47\u7f16\u5668\u548cGNU\u6c47\u7f16\u5668\u5177\u6709\u4e0d\u540c\u7684\u8bed\u6cd5\uff0c\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u52a9\u8bb0\u7b26\u548c\u6c47\u7f16\u6307\u4ee4\u90fd\u662f\u76f8\u540c\u7684\uff0c\u4f46\u662f\u6c47\u7f16\u4f2a\u6307\u4ee4\u3001\u5b9a\u4e49\u3001\u6807\u53f7\u548c\u6ce8\u91ca\u7684\u8bed\u6cd5\u53ef\u80fd\u4f1a\u6709\u5dee\u5f02\u3002","title":"ARM\u6c47\u7f16"},{"location":"Embedded System/STM32/debuger_flash_programming/","text":"\u8c03\u8bd5\u5668Flash\u7f16\u7a0b\u539f\u7406 # \u8c03\u8bd5\u5668\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95eeSRAM\uff08\u901a\u8fc7Cortex-M\u5185\u6838\u5185\u90e8\u7684\u8c03\u8bd5\u90e8\u4ef6\uff09\uff0c\u4f46\u662f\u65e0\u6cd5\u76f4\u63a5\u8bbf\u95eeFlash\u3002 \u6240\u4ee5\u4e0b\u8f7d\u7a0b\u5e8f\u65f6\uff0c\u8c03\u8bd5\u5668\u4f1a\u5148\u5c06Flash\u7f16\u7a0b\u7b97\u6cd5\uff08\u9a71\u52a8\u7a0b\u5e8f\uff09\u548c\u5e94\u7528\u7a0b\u5e8f\u4e0b\u8f7d\u5230SRAM\u4e2d\uff0c\u7136\u540e\u8c03\u8bd5\u5668\u8c03\u7528\u8be5Flash\u7f16\u7a0b\u7b97\u6cd5\u5c31\u53ef\u4ee5\u5c06\u5e94\u7528\u7a0b\u5e8f\u5199\u8fdbFlash\uff08\u5176\u5b9e\u5c31\u76f8\u5f53\u4e8eMCU\u81ea\u5df1\u8fdb\u884cFlash\u7f16\u7a0b\u64cd\u4f5c\uff09\u3002 \u6240\u4ee5\u4e0d\u96be\u63a8\u65ad\u51fa\uff1a\u8be5Flash\u7f16\u7a0b\u7b97\u6cd5\u5c31\u662f\u4e00\u4e2aSTM32\u7a0b\u5e8f\u3002 \u6709\u65f6\u5e94\u7528\u7a0b\u5e8f\u6bd4\u8f83\u5927\uff0c\u4e0d\u80fd\u4e00\u6b21\u6027\u5168\u90e8\u4e0b\u8f7d\u5230SRAM\uff0c\u6240\u4ee5\u8981\u5c06\u6574\u4e2a\u5e94\u7528\u7a0b\u5e8f\u5199\u5230Flash\u4e2d\u9700\u8981\u591a\u6b21\u91cd\u590d\u8fd9\u4e2a\u8fc7\u7a0b\u3002 \u53c2\u8003\u300aCortex-M3 & M4\u6743\u5a01\u6307\u5357\u300b14.7.2\u8282 \u4e0b\u8f7d\u5730\u5740 \u53c2\u8003JLinkLog.txt\u6587\u4ef6\uff08Keil\u5de5\u7a0b\u6839\u76ee\u5f55\u4e0b\uff09 1. Keil\u4e2dFlash\u7f16\u7a0b\u914d\u7f6e # \u6211\u4eec\u4ee5Keil\u4e3a\u4f8b\uff0c\u5206\u6790\u4e00\u4e0b\u6574\u4e2a\u8fc7\u7a0b\u3002 \u5982\u4e0b\u56fe\u6240\u793a\uff0cKeil\u4e2dFlash Download\u7684\u914d\u7f6e\u5206\u4e3a\u4e09\u4e2a\u90e8\u5206\u3002 Download Function\uff1a\u4e3b\u8981\u662f\u4e00\u4e9bFlash\u64cd\u4f5c\uff0c\u52fe\u9009\u540e\u8c03\u8bd5\u65f6\u8c03\u8bd5\u5668\u5c31\u884c\u6267\u884c\u76f8\u5e94\u7684\u52a8\u4f5c\u3002\u8c03\u8bd5\u7a0b\u5e8f\u65f6\uff0c\u5148\u5c06Flash\u7f16\u7a0b\u7b97\u6cd5\u4e0b\u8f7d\u5230SRAM\uff0c\u7136\u540e\u8c03\u8bd5\u5668\u6839\u636e\u6b64\u5904\u52fe\u9009\u60c5\u51b5\uff0c\u8c03\u7528\u76f8\u5e94\u7684Flash\u64cd\u4f5c\u51fd\u6570\u5b8c\u6210\u64cd\u4f5c\u3002 RAM for Algorithm\uff1a\u6307\u5b9aFlash\u7f16\u7a0b\u7b97\u6cd5\u5728\u5185\u5b58\u4e2d\u7684\u8fd0\u884c\u5730\u5740\u548c\u6240\u9700\u7684\u5185\u5b58\u7a7a\u95f4\u5927\u5c0f\u3002\u8fd0\u884c\u5730\u5740\u53ef\u4ee5\u662fSRAM\u7684\u4efb\u610f\u5730\u5740\uff08\u4f46\u662f\u8fd0\u884c\u5730\u5740+Size\u4e0d\u80fd\u8d85\u51faSRAM\u6700\u9ad8\u5730\u5740\uff09\uff0c\u5185\u5b58\u7a7a\u95f4\u5927\u5c0f\u89c6\u7b97\u6cd5\u7684\u5b9e\u9645\u5927\u5c0f\u800c\u5b9a\uff0c\u53ef\u5927\u4e0d\u53ef\u5c0f\u3002 Program Algorithm\uff1aFlash\u7f16\u7a0b\u7b97\u6cd5\u5217\u8868\uff0c\u56e0\u4e3a\u4e0d\u540c\u7684\u82af\u7247\u6709\u4e0d\u540c\u7684Flash\u7f16\u7a0b\u7b97\u6cd5\u3002\u4e00\u4e2aFlash\u7f16\u7a0b\u7b97\u6cd5\u80fd\u9002\u7528\u4e8e\u591a\u4e2aMCU\uff0c\u56e0\u4e3a\u5b83\u4eec\u53ea\u662fFlash\u7684\u5927\u5c0f\u4e0d\u4e00\u6837\uff08STM32F10x\u7cfb\u5217Flash\u7684\u8d77\u59cb\u5730\u5740\u90fd\u662f0x0800 0000\uff09\u3002\u4ee5STM32F103C8T6\u6765\u8bf4\uff0c\u5176Flash\u5927\u5c0f\u4e3a64KB\uff080x10000\uff09,\u800c\u6211\u4eec\u4f7f\u7528\u7684Flash\u7f16\u7a0b\u7b97\u6cd5\u662f128Kb\uff080x20000\uff09,\u6240\u4ee5\u6211\u4eec\u5c06Size\u9009\u9879\u7684\u503c\u4fee\u6539\u4e3a0x10000\u3002 2. Flash\u7f16\u7a0b\u7b97\u6cd5 # \u4e0a\u6587\u6211\u4eec\u63a8\u65ad\u51fa\uff1a\u8be5Flash\u7f16\u7a0b\u7b97\u6cd5\u5c31\u662f\u4e00\u4e2aSTM32\u7a0b\u5e8f\u3002\u90a3\u4e48\u8fd9\u4e2aFlash\u7f16\u7a0b\u7b97\u6cd5\u662f\u600e\u4e48\u6837\u7684\u5462\uff1f\u4e0b\u9762\u6211\u4eec\u4e00\u8d77\u6765\u770b\u3002 \u6309\u7167\u4e0b\u56fe\u6240\u793a\u7684\u65b9\u6cd5\uff0c\u5c31\u53ef\u4ee5\u627e\u5230Keil\u4e2d\u81ea\u5e26\u7684Flash\u7f16\u7a0b\u7b97\u6cd5\u5de5\u7a0b\u8def\u5f84\u3002 \u6309\u7167\u4e0a\u9762\u627e\u5230\u7684\u8def\u5f84\u6253\u5f00\uff0c\u53ef\u4ee5\u770b\u5230\u5982\u4e0b\u76ee\u5f55\u7ed3\u6784\uff1a STM32F10x\u6587\u4ef6\u5939\u4e2d\u662fFlash\u7f16\u7a0b\u7b97\u6cd5Keil\u9879\u76ee\u3002 /*.FLM \u9884\u5148\u7f16\u8bd1\u597d\u7684EFL\u6587\u4ef6\uff0c\u540e\u7f00FLM\u53ea\u662f\u91cd\u547d\u540d\u800c\u5df2\u3002 \u53ef\u4ee5\u770b\u5230\u8be5Flash\u7f16\u7a0b\u7b97\u6cd5\u4e00\u5171\u67093\u4e2a\u6e90\u6587\u4ef6\uff08*.c\uff09\u548c\u4e00\u4e2a\u94fe\u63a5\u811a\u672c\uff08Target.lin\uff09\uff1a FlashOS.h \u4e2d\u662fFlashDevice\u6570\u636e\u7ed3\u6784\u548cFlash\u64cd\u4f5c\u51fd\u6570\u7684\u58f0\u660e\uff0c\u8fd9\u4e9b\u51fd\u6570\u662f\u5fc5\u987b\u8981\u5b9e\u73b0\u7684\uff08\u4e2a\u522b\u662f\u53ef\u4ee5\u9009\u7684\uff09\uff0c\u76f8\u5f53\u4e8e\u4e00\u4e2a\u89c4\u8303\u3002 struct FlashDevice { unsigned short Vers; // Version Number and Architecture char DevName[128]; // Device Name and Description unsigned short DevType; // Device Type: ONCHIP, EXT8BIT, EXT16BIT, ... unsigned long DevAdr; // Default Device Start Address unsigned long szDev; // Total Size of Device unsigned long szPage; // Programming Page Size ... }; // Flash Programming Functions (Called by FlashOS) extern int Init (unsigned long adr, // Initialize Flash unsigned long clk, unsigned long fnc); extern int UnInit (unsigned long fnc); // De-initialize Flash extern int BlankCheck (unsigned long adr, // Blank Check unsigned long sz, unsigned char pat); extern int EraseChip (void); // Erase complete Device extern int EraseSector (unsigned long adr); // Erase Sector Function extern int ProgramPage (unsigned long adr, // Program Page Function unsigned long sz, unsigned char *buf); extern unsigned long Verify (unsigned long adr, // Verify Function unsigned long sz, unsigned char *buf); FlashDev.c \u4e2d\u662fFlash\u8bbe\u5907\u7684\u63cf\u8ff0\u4fe1\u606f\uff0c\u5982\u4e0b\u6240\u793a\uff1a #ifdef STM32F10x_128 struct FlashDevice const FlashDevice = { FLASH_DRV_VERS, // Driver Version, do not modify! \"STM32F10x Med-density Flash\", // Device Name (128kB/64kB/32kB) ONCHIP, // Device Type 0x08000000, // Device Start Address 0x00020000, // Device Size in Bytes (128kB) 1024, // Programming Page Size 0, // Reserved, must be 0 0xFF, // Initial Content of Erased Memory 100, // Program Page Timeout 100 mSec 500, // Erase Sector Timeout 500 mSec // Specify Size and Address of Sectors 0x0400, 0x000000, // Sector Size 1kB (128 Sectors) SECTOR_END }; #endif FlashPrg.c \u4e2d\u662f\u5404\u79cdFlash\u64cd\u4f5c\u7684\u51fd\u6570\u7684\u5b9e\u73b0\uff08Flash\u521d\u59cb\u5316\uff0c\u64e6\u9664\uff0c\u8bfb\u5199\uff09 Target.lin \u662f\u8be5\u9879\u76ee\u7684\u94fe\u63a5\u811a\u672c ; Linker Control File (scatter-loading) ; PRG 0 PI ; Flash\u7f16\u7a0b\u7b97\u6cd5\u533a\uff0c PI-\u4f4d\u7f6e\u65e0\u5173 { PrgCode +0 ; Code { * (+RO) } PrgData +0 ; Data { * (+RW,+ZI) } } DSCR +0 ; Flash\u8bbe\u5907\u63cf\u8ff0\u533a\uff0c+0\u8868\u793a\u7d27\u6328\u7740PRG\u533a\u57df\u5c3e\u90e8\u5b58\u653e { DevDscr +0 { FlashDev.o } } \u8be5Flash\u7f16\u7a0b\u7b97\u6cd5\uff0c\u6700\u7ec8\u5728SRAM\u4e2d\u7684\u5e03\u5c40\u5982\u4e0b\u6240\u793a\uff1a \u4ece\u94fe\u63a5\u811a\u672c\u4e2d\u53ef\u4ee5\u770b\u51fa\uff0c \u8be5\u9879\u76ee\u6700\u7ec8\u7f16\u8bd1\u51fa\u7684\u7a0b\u5e8f\u662f\u4f4d\u7f6e\u65e0\u5173\u7684\uff08PI\uff09 \uff0c\u6240\u4ee5\u5176\u8d77\u59cb\u5730\u5740\u53ef\u4ee5\u88ab\u4efb\u610f\u6539\u53d8\uff0c\u4f46\u662f\u8d77\u59cb\u5730\u5740+Size\u4e0d\u80fd\u8d85\u51faSRAM\u6700\u9ad8\u5730\u5740\u3002 3. \u4e3a\u65b0\u7684Flash\u8bbe\u5907\u521b\u5efa\u7f16\u7a0b\u7b97\u6cd5 # \u8bf7\u53c2\u8003ARM\u5b98\u65b9\u6587\u6863\uff1a Creating a new Algorithm 4. \u53c2\u8003\u94fe\u63a5 # Open Flashloader","title":"\u8c03\u8bd5\u5668\u80cc\u540e\u7684\u79d8\u5bc6"},{"location":"Embedded System/STM32/debuger_flash_programming/#flash","text":"\u8c03\u8bd5\u5668\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95eeSRAM\uff08\u901a\u8fc7Cortex-M\u5185\u6838\u5185\u90e8\u7684\u8c03\u8bd5\u90e8\u4ef6\uff09\uff0c\u4f46\u662f\u65e0\u6cd5\u76f4\u63a5\u8bbf\u95eeFlash\u3002 \u6240\u4ee5\u4e0b\u8f7d\u7a0b\u5e8f\u65f6\uff0c\u8c03\u8bd5\u5668\u4f1a\u5148\u5c06Flash\u7f16\u7a0b\u7b97\u6cd5\uff08\u9a71\u52a8\u7a0b\u5e8f\uff09\u548c\u5e94\u7528\u7a0b\u5e8f\u4e0b\u8f7d\u5230SRAM\u4e2d\uff0c\u7136\u540e\u8c03\u8bd5\u5668\u8c03\u7528\u8be5Flash\u7f16\u7a0b\u7b97\u6cd5\u5c31\u53ef\u4ee5\u5c06\u5e94\u7528\u7a0b\u5e8f\u5199\u8fdbFlash\uff08\u5176\u5b9e\u5c31\u76f8\u5f53\u4e8eMCU\u81ea\u5df1\u8fdb\u884cFlash\u7f16\u7a0b\u64cd\u4f5c\uff09\u3002 \u6240\u4ee5\u4e0d\u96be\u63a8\u65ad\u51fa\uff1a\u8be5Flash\u7f16\u7a0b\u7b97\u6cd5\u5c31\u662f\u4e00\u4e2aSTM32\u7a0b\u5e8f\u3002 \u6709\u65f6\u5e94\u7528\u7a0b\u5e8f\u6bd4\u8f83\u5927\uff0c\u4e0d\u80fd\u4e00\u6b21\u6027\u5168\u90e8\u4e0b\u8f7d\u5230SRAM\uff0c\u6240\u4ee5\u8981\u5c06\u6574\u4e2a\u5e94\u7528\u7a0b\u5e8f\u5199\u5230Flash\u4e2d\u9700\u8981\u591a\u6b21\u91cd\u590d\u8fd9\u4e2a\u8fc7\u7a0b\u3002 \u53c2\u8003\u300aCortex-M3 & M4\u6743\u5a01\u6307\u5357\u300b14.7.2\u8282 \u4e0b\u8f7d\u5730\u5740 \u53c2\u8003JLinkLog.txt\u6587\u4ef6\uff08Keil\u5de5\u7a0b\u6839\u76ee\u5f55\u4e0b\uff09","title":"\u8c03\u8bd5\u5668Flash\u7f16\u7a0b\u539f\u7406"},{"location":"Embedded System/STM32/debuger_flash_programming/#1-keilflash","text":"\u6211\u4eec\u4ee5Keil\u4e3a\u4f8b\uff0c\u5206\u6790\u4e00\u4e0b\u6574\u4e2a\u8fc7\u7a0b\u3002 \u5982\u4e0b\u56fe\u6240\u793a\uff0cKeil\u4e2dFlash Download\u7684\u914d\u7f6e\u5206\u4e3a\u4e09\u4e2a\u90e8\u5206\u3002 Download Function\uff1a\u4e3b\u8981\u662f\u4e00\u4e9bFlash\u64cd\u4f5c\uff0c\u52fe\u9009\u540e\u8c03\u8bd5\u65f6\u8c03\u8bd5\u5668\u5c31\u884c\u6267\u884c\u76f8\u5e94\u7684\u52a8\u4f5c\u3002\u8c03\u8bd5\u7a0b\u5e8f\u65f6\uff0c\u5148\u5c06Flash\u7f16\u7a0b\u7b97\u6cd5\u4e0b\u8f7d\u5230SRAM\uff0c\u7136\u540e\u8c03\u8bd5\u5668\u6839\u636e\u6b64\u5904\u52fe\u9009\u60c5\u51b5\uff0c\u8c03\u7528\u76f8\u5e94\u7684Flash\u64cd\u4f5c\u51fd\u6570\u5b8c\u6210\u64cd\u4f5c\u3002 RAM for Algorithm\uff1a\u6307\u5b9aFlash\u7f16\u7a0b\u7b97\u6cd5\u5728\u5185\u5b58\u4e2d\u7684\u8fd0\u884c\u5730\u5740\u548c\u6240\u9700\u7684\u5185\u5b58\u7a7a\u95f4\u5927\u5c0f\u3002\u8fd0\u884c\u5730\u5740\u53ef\u4ee5\u662fSRAM\u7684\u4efb\u610f\u5730\u5740\uff08\u4f46\u662f\u8fd0\u884c\u5730\u5740+Size\u4e0d\u80fd\u8d85\u51faSRAM\u6700\u9ad8\u5730\u5740\uff09\uff0c\u5185\u5b58\u7a7a\u95f4\u5927\u5c0f\u89c6\u7b97\u6cd5\u7684\u5b9e\u9645\u5927\u5c0f\u800c\u5b9a\uff0c\u53ef\u5927\u4e0d\u53ef\u5c0f\u3002 Program Algorithm\uff1aFlash\u7f16\u7a0b\u7b97\u6cd5\u5217\u8868\uff0c\u56e0\u4e3a\u4e0d\u540c\u7684\u82af\u7247\u6709\u4e0d\u540c\u7684Flash\u7f16\u7a0b\u7b97\u6cd5\u3002\u4e00\u4e2aFlash\u7f16\u7a0b\u7b97\u6cd5\u80fd\u9002\u7528\u4e8e\u591a\u4e2aMCU\uff0c\u56e0\u4e3a\u5b83\u4eec\u53ea\u662fFlash\u7684\u5927\u5c0f\u4e0d\u4e00\u6837\uff08STM32F10x\u7cfb\u5217Flash\u7684\u8d77\u59cb\u5730\u5740\u90fd\u662f0x0800 0000\uff09\u3002\u4ee5STM32F103C8T6\u6765\u8bf4\uff0c\u5176Flash\u5927\u5c0f\u4e3a64KB\uff080x10000\uff09,\u800c\u6211\u4eec\u4f7f\u7528\u7684Flash\u7f16\u7a0b\u7b97\u6cd5\u662f128Kb\uff080x20000\uff09,\u6240\u4ee5\u6211\u4eec\u5c06Size\u9009\u9879\u7684\u503c\u4fee\u6539\u4e3a0x10000\u3002","title":"1. Keil\u4e2dFlash\u7f16\u7a0b\u914d\u7f6e"},{"location":"Embedded System/STM32/debuger_flash_programming/#2-flash","text":"\u4e0a\u6587\u6211\u4eec\u63a8\u65ad\u51fa\uff1a\u8be5Flash\u7f16\u7a0b\u7b97\u6cd5\u5c31\u662f\u4e00\u4e2aSTM32\u7a0b\u5e8f\u3002\u90a3\u4e48\u8fd9\u4e2aFlash\u7f16\u7a0b\u7b97\u6cd5\u662f\u600e\u4e48\u6837\u7684\u5462\uff1f\u4e0b\u9762\u6211\u4eec\u4e00\u8d77\u6765\u770b\u3002 \u6309\u7167\u4e0b\u56fe\u6240\u793a\u7684\u65b9\u6cd5\uff0c\u5c31\u53ef\u4ee5\u627e\u5230Keil\u4e2d\u81ea\u5e26\u7684Flash\u7f16\u7a0b\u7b97\u6cd5\u5de5\u7a0b\u8def\u5f84\u3002 \u6309\u7167\u4e0a\u9762\u627e\u5230\u7684\u8def\u5f84\u6253\u5f00\uff0c\u53ef\u4ee5\u770b\u5230\u5982\u4e0b\u76ee\u5f55\u7ed3\u6784\uff1a STM32F10x\u6587\u4ef6\u5939\u4e2d\u662fFlash\u7f16\u7a0b\u7b97\u6cd5Keil\u9879\u76ee\u3002 /*.FLM \u9884\u5148\u7f16\u8bd1\u597d\u7684EFL\u6587\u4ef6\uff0c\u540e\u7f00FLM\u53ea\u662f\u91cd\u547d\u540d\u800c\u5df2\u3002 \u53ef\u4ee5\u770b\u5230\u8be5Flash\u7f16\u7a0b\u7b97\u6cd5\u4e00\u5171\u67093\u4e2a\u6e90\u6587\u4ef6\uff08*.c\uff09\u548c\u4e00\u4e2a\u94fe\u63a5\u811a\u672c\uff08Target.lin\uff09\uff1a FlashOS.h \u4e2d\u662fFlashDevice\u6570\u636e\u7ed3\u6784\u548cFlash\u64cd\u4f5c\u51fd\u6570\u7684\u58f0\u660e\uff0c\u8fd9\u4e9b\u51fd\u6570\u662f\u5fc5\u987b\u8981\u5b9e\u73b0\u7684\uff08\u4e2a\u522b\u662f\u53ef\u4ee5\u9009\u7684\uff09\uff0c\u76f8\u5f53\u4e8e\u4e00\u4e2a\u89c4\u8303\u3002 struct FlashDevice { unsigned short Vers; // Version Number and Architecture char DevName[128]; // Device Name and Description unsigned short DevType; // Device Type: ONCHIP, EXT8BIT, EXT16BIT, ... unsigned long DevAdr; // Default Device Start Address unsigned long szDev; // Total Size of Device unsigned long szPage; // Programming Page Size ... }; // Flash Programming Functions (Called by FlashOS) extern int Init (unsigned long adr, // Initialize Flash unsigned long clk, unsigned long fnc); extern int UnInit (unsigned long fnc); // De-initialize Flash extern int BlankCheck (unsigned long adr, // Blank Check unsigned long sz, unsigned char pat); extern int EraseChip (void); // Erase complete Device extern int EraseSector (unsigned long adr); // Erase Sector Function extern int ProgramPage (unsigned long adr, // Program Page Function unsigned long sz, unsigned char *buf); extern unsigned long Verify (unsigned long adr, // Verify Function unsigned long sz, unsigned char *buf); FlashDev.c \u4e2d\u662fFlash\u8bbe\u5907\u7684\u63cf\u8ff0\u4fe1\u606f\uff0c\u5982\u4e0b\u6240\u793a\uff1a #ifdef STM32F10x_128 struct FlashDevice const FlashDevice = { FLASH_DRV_VERS, // Driver Version, do not modify! \"STM32F10x Med-density Flash\", // Device Name (128kB/64kB/32kB) ONCHIP, // Device Type 0x08000000, // Device Start Address 0x00020000, // Device Size in Bytes (128kB) 1024, // Programming Page Size 0, // Reserved, must be 0 0xFF, // Initial Content of Erased Memory 100, // Program Page Timeout 100 mSec 500, // Erase Sector Timeout 500 mSec // Specify Size and Address of Sectors 0x0400, 0x000000, // Sector Size 1kB (128 Sectors) SECTOR_END }; #endif FlashPrg.c \u4e2d\u662f\u5404\u79cdFlash\u64cd\u4f5c\u7684\u51fd\u6570\u7684\u5b9e\u73b0\uff08Flash\u521d\u59cb\u5316\uff0c\u64e6\u9664\uff0c\u8bfb\u5199\uff09 Target.lin \u662f\u8be5\u9879\u76ee\u7684\u94fe\u63a5\u811a\u672c ; Linker Control File (scatter-loading) ; PRG 0 PI ; Flash\u7f16\u7a0b\u7b97\u6cd5\u533a\uff0c PI-\u4f4d\u7f6e\u65e0\u5173 { PrgCode +0 ; Code { * (+RO) } PrgData +0 ; Data { * (+RW,+ZI) } } DSCR +0 ; Flash\u8bbe\u5907\u63cf\u8ff0\u533a\uff0c+0\u8868\u793a\u7d27\u6328\u7740PRG\u533a\u57df\u5c3e\u90e8\u5b58\u653e { DevDscr +0 { FlashDev.o } } \u8be5Flash\u7f16\u7a0b\u7b97\u6cd5\uff0c\u6700\u7ec8\u5728SRAM\u4e2d\u7684\u5e03\u5c40\u5982\u4e0b\u6240\u793a\uff1a \u4ece\u94fe\u63a5\u811a\u672c\u4e2d\u53ef\u4ee5\u770b\u51fa\uff0c \u8be5\u9879\u76ee\u6700\u7ec8\u7f16\u8bd1\u51fa\u7684\u7a0b\u5e8f\u662f\u4f4d\u7f6e\u65e0\u5173\u7684\uff08PI\uff09 \uff0c\u6240\u4ee5\u5176\u8d77\u59cb\u5730\u5740\u53ef\u4ee5\u88ab\u4efb\u610f\u6539\u53d8\uff0c\u4f46\u662f\u8d77\u59cb\u5730\u5740+Size\u4e0d\u80fd\u8d85\u51faSRAM\u6700\u9ad8\u5730\u5740\u3002","title":"2. Flash\u7f16\u7a0b\u7b97\u6cd5"},{"location":"Embedded System/STM32/debuger_flash_programming/#3-flash","text":"\u8bf7\u53c2\u8003ARM\u5b98\u65b9\u6587\u6863\uff1a Creating a new Algorithm","title":"3. \u4e3a\u65b0\u7684Flash\u8bbe\u5907\u521b\u5efa\u7f16\u7a0b\u7b97\u6cd5"},{"location":"Embedded System/STM32/debuger_flash_programming/#4","text":"Open Flashloader","title":"4. \u53c2\u8003\u94fe\u63a5"},{"location":"Embedded System/STM32/gnu_assembly/","text":"GNU\u6c47\u7f16 for ARM # \u4e0d\u540c\u4f9b\u5e94\u5546\u7684\u6c47\u7f16\u5de5\u5177\uff0c\u6bd4\u5982ARM\u6c47\u7f16\u5668\u548cGNU\u6c47\u7f16\u5668\u5177\u6709\u4e0d\u540c\u7684\u8bed\u6cd5\uff0c\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u52a9\u8bb0\u7b26\u548c\u6c47\u7f16\u6307\u4ee4\u90fd\u662f\u76f8\u540c\u7684\uff0c\u4f46\u662f\u6c47\u7f16\u4f2a\u6307\u4ee4\u3001\u5b9a\u4e49\u3001\u6807\u53f7\u548c\u6ce8\u91ca\u7684\u8bed\u6cd5\u53ef\u80fd\u4f1a\u6709\u5dee\u5f02\u3002 .section name[, \"flags\"[, @type]] The optional flags argument is a quoted string which may contain any combintion of the following characters: a section is allocatable w section is writable x section is executable The optional type argument may contain one of the following constants: @progbits section contains data @nobits section does not contain data (i.e., section only occupies space)","title":"GNU\u6c47\u7f16 for ARM"},{"location":"Embedded System/STM32/gnu_assembly/#gnu-for-arm","text":"\u4e0d\u540c\u4f9b\u5e94\u5546\u7684\u6c47\u7f16\u5de5\u5177\uff0c\u6bd4\u5982ARM\u6c47\u7f16\u5668\u548cGNU\u6c47\u7f16\u5668\u5177\u6709\u4e0d\u540c\u7684\u8bed\u6cd5\uff0c\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u52a9\u8bb0\u7b26\u548c\u6c47\u7f16\u6307\u4ee4\u90fd\u662f\u76f8\u540c\u7684\uff0c\u4f46\u662f\u6c47\u7f16\u4f2a\u6307\u4ee4\u3001\u5b9a\u4e49\u3001\u6807\u53f7\u548c\u6ce8\u91ca\u7684\u8bed\u6cd5\u53ef\u80fd\u4f1a\u6709\u5dee\u5f02\u3002 .section name[, \"flags\"[, @type]] The optional flags argument is a quoted string which may contain any combintion of the following characters: a section is allocatable w section is writable x section is executable The optional type argument may contain one of the following constants: @progbits section contains data @nobits section does not contain data (i.e., section only occupies space)","title":"GNU\u6c47\u7f16 for ARM"},{"location":"Embedded System/STM32/os_feature/","text":"OS \u7279\u6027 # SVC\u548cPendSV \u6c47\u7f16\u6307\u4ee4CLZ","title":"OS\u7279\u6027"},{"location":"Embedded System/STM32/os_feature/#os","text":"SVC\u548cPendSV \u6c47\u7f16\u6307\u4ee4CLZ","title":"OS \u7279\u6027"},{"location":"Embedded System/STM32/stm32_adc/","text":"STM32 ADC # 1. AWD # \u6bcf\u4e2aADC\u90fd\u6709\u4e00\u4e2aAWD AWD\u5fc5\u987b\u7ed1\u5b9a\u5728\u6307\u5b9a\u7684ADC\u901a\u9053\u4e0a 2. \u8f6c\u6362\u65f6\u95f4 #","title":"STM32 ADC"},{"location":"Embedded System/STM32/stm32_adc/#stm32-adc","text":"","title":"STM32 ADC"},{"location":"Embedded System/STM32/stm32_adc/#1-awd","text":"\u6bcf\u4e2aADC\u90fd\u6709\u4e00\u4e2aAWD AWD\u5fc5\u987b\u7ed1\u5b9a\u5728\u6307\u5b9a\u7684ADC\u901a\u9053\u4e0a","title":"1. AWD"},{"location":"Embedded System/STM32/stm32_adc/#2","text":"","title":"2. \u8f6c\u6362\u65f6\u95f4"},{"location":"Embedded System/STM32/stm32_books/","text":"STM32\u7ecf\u5178\u4e66\u7c4d # \u626b\u7801\u5173\u6ce8\u201c \u8fb9\u7f18\u667a\u80fd\u5b9e\u9a8c\u5ba4 \u201d\uff0c\u540e\u53f0\u56de\u590d\u201cSTM32\u201d\u83b7\u53d6\u4e66\u7c4d\u4e0b\u8f7d\u94fe\u63a5\uff01 1. \u300aARM Cortex-M3\u4e0eCortex-M4\u6743\u5a01\u6307\u5357\u300b # \u82f1\u6587\u539f\u7248 \u4e2d\u6587\u8bd1\u7248 2. \u300aARM Cortex-M3\u4f53\u7cfb\u7ed3\u6784\u4e0e\u7f16\u7a0b\u300b #","title":"STM32\u7ecf\u5178\u4e66\u7c4d"},{"location":"Embedded System/STM32/stm32_books/#stm32","text":"\u626b\u7801\u5173\u6ce8\u201c \u8fb9\u7f18\u667a\u80fd\u5b9e\u9a8c\u5ba4 \u201d\uff0c\u540e\u53f0\u56de\u590d\u201cSTM32\u201d\u83b7\u53d6\u4e66\u7c4d\u4e0b\u8f7d\u94fe\u63a5\uff01","title":"STM32\u7ecf\u5178\u4e66\u7c4d"},{"location":"Embedded System/STM32/stm32_books/#1-arm-cortex-m3cortex-m4","text":"\u82f1\u6587\u539f\u7248 \u4e2d\u6587\u8bd1\u7248","title":"1. \u300aARM Cortex-M3\u4e0eCortex-M4\u6743\u5a01\u6307\u5357\u300b"},{"location":"Embedded System/STM32/stm32_books/#2-arm-cortex-m3","text":"","title":"2. \u300aARM Cortex-M3\u4f53\u7cfb\u7ed3\u6784\u4e0e\u7f16\u7a0b\u300b"},{"location":"Embedded System/STM32/stm32_boot/","text":"STM32\u542f\u52a8\u8fc7\u7a0b-Keil # \u8ba9\u6211\u4eec\u4ece\u7f16\u8bd1\u540e\u8bf4\u8d77\u3002 1. ELF\u6587\u4ef6 # \u5728Keil\u4e2d\u4e00\u4e2aSTM32\u9879\u76ee\u88ab\u7f16\u8bd1\u540e\uff0c\u4f1a\u751f\u6210\u4e00\u4e2aELF\u683c\u5f0f\u7684.axf\u6587\u4ef6\uff08\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u7684Objects\u6587\u4ef6\u5939\u4e2d\uff09\uff0c\u8be5\u6587\u4ef6\u4e2d\u5305\u542b\u6709\u6570\u636e\u6bb5\u3001\u4ee3\u7801\u6bb5\u3001\u8c03\u8bd5\u6bb5\u7b49\u5404\u79cd\u4fe1\u606f\uff0c\u8c03\u8bd5\u7a0b\u5e8f\u4f7f\u7528\u7684\u5c31\u662fELF\u6587\u4ef6\uff0cELF\u6587\u4ef6\u7684\u683c\u5f0f\u5982\u4e0b\uff1a 2. BIN\u6587\u4ef6 # \u4f46\u662f\u6700\u7ec8\u901a\u8fc7JLink\u4e0b\u8f7d\u5230STM32\u5185\u90e8Flash\u7684\u4e0d\u662fELF\u6587\u4ef6\u800c\u662fBIN\u6587\u4ef6\uff0cBIN\u6587\u4ef6\u4e2d\u662f\u7eaf\u7cb9\u7684\u6307\u4ee4\u4ee3\u7801\u548c\u6570\u636e\uff0c\u6ca1\u6709\u5176\u4ed6\u5197\u4f59\u7684\u6570\u636e\u3002 \u5c06ELF\u6587\u4ef6\u4e2d\u5197\u4f59\u7684\u6570\u636e\u53bb\u6389\uff0c\u5c31\u662fBIN\u6587\u4ef6\u7684\u5185\u5bb9\u3002\u5982\u4e0b\u56fe\u6240\u793a\uff1a 3. BSS\u6bb5 # BSS\u6bb5(Block Started by Symbol)\u4e2d\u5b58\u653e\u7684\u662f\u521d\u59cb\u503c\u4e3a\u96f6\u7684\u5168\u533a\u548c\u9759\u6001\u53d8\u91cf\u3002 \u4f46\u662f\u56e0\u4e3aBSS\u6bb5\u5185\u5bb9\u5168\u4e3a\u96f6\uff0c\u6240\u4ee5 \u5728ELF\u6587\u4ef6\u548cBIN\u6587\u4ef6\u4e2d\u5747\u4e0d\u5305\u542bBSS\u6bb5\u7684\u5185\u5bb9\uff0c\u53ea\u4fdd\u5b58\u6709BSS\u6bb5\u7684\u5730\u5740\u548c\u5927\u5c0f\u4fe1\u606f \u3002 \u7a0b\u5e8f\u4f1a\u5728\u8fd0\u884c\u7684\u65f6\u5019\u6839\u636eBSS\u6bb5\u5730\u5740\u548c\u5927\u5c0f\u4fe1\u606f\uff0c\u5728\u76f8\u5e94\u7684\u5185\u5b58\u7a7a\u95f4\u4e2d\u521d\u59cb\u5316BSS\u6bb5\u3002\u5728Keil\u4e2d\u8fd9\u4e2a\u4efb\u52a1\u662f\u7531ARM C\u5e93\u5b8c\u6210\u7684\u3002 4. \u5806\u548c\u6808 # \u6b64\u5904\u8ba8\u8bba\u7684\u662fSTM32\u7cfb\u7edf\u7684\u5806\u548c\u6808\u3002 \u6808 \u6808\u662f\u4e00\u5757\u7531\u7cfb\u7edf\u4e13\u7528\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u5728\u53d1\u751f\u51fd\u6570\u8c03\u7528\u65f6\u5b58\u50a8\u51fd\u6570\u7684\u5c40\u90e8\u53d8\u91cf\u548c\u53c2\u6570\uff0c \u5728Keil\u4e2d\u6808\u7684\u521d\u59cb\u5316\u662f\u7531ARM C\u5e93\u5b8c\u6210\u7684\u3002\u6808\u7684\u64cd\u4f5c\u7531CPU\u81ea\u52a8\u5b8c\u6210 \uff08C\u8bed\u8a00\u4e2d\u7684\u51fd\u6570\u8c03\u7528\u88ab\u7f16\u8bd1\u4e3a\u6c47\u7f16\u65f6\uff0c\u5c31\u4f1a\u6709\u76f8\u5e94\u7684\u51fa\u5165\u6808\u64cd\u4f5c\u6307\u4ee4\uff09\u3002 \u5982\u4e0b\u56fe\u6240\u793a\uff0c\u51fd\u6570\u5f00\u59cb\u8c03\u7528\u65f6\u4f1a\u6709\u5165\u6808\u64cd\u4f5c\u6307\u4ee4\uff08\u5f53\u7136\u51fd\u6570\u8c03\u7528\u7ed3\u675f\u65f6\u4f1a\u6709\u51fa\u6808\u64cd\u4f5c\uff09\uff1a \u5806 \u5806\u662f\u4e00\u5757\u53ef\u4ee5\u7531\u7a0b\u5e8f\u5458\u81ea\u7531\u4f7f\u7528\u7684\u5185\u5b58\u7a7a\u95f4\uff0c \u5728Keil\u4e2d\u5806\u7684\u521d\u59cb\u5316\u548c\u7ba1\u7406\u90fd\u662f\u7531ARM C\u5e93\u5b8c\u6210\u7684 \u3002\u5806\u7684\u4f7f\u7528\u662f\u7a0b\u5e8f\u5458\u901a\u8fc7\u8c03\u7528 malloc(),free() \u7b49ARM C\u5e93\u51fd\u6570\u5b8c\u6210\u7684\u3002 \u4e8b\u5b9e\u4e0a\uff0c\u5806\u548c\u6808\u90fd\u662f\u4e00\u5757\u9884\u7559\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u5728\u7a0b\u5e8f\u8fd0\u884c\u524d\u5176\u5185\u5bb9\u662f\u6ca1\u6709\u610f\u4e49\u7684\uff0c\u6240\u4ee5 \u5728ELF\u6587\u4ef6\u548cBIN\u6587\u4ef6\u4e2d\u5747\u6ca1\u6709\u5806\u548c\u6808\u7684\u5185\u5bb9\uff0c\u53ea\u6709\u5806\u6808\u7684\u5730\u5740\u548c\u5927\u5c0f\u4fe1\u606f \u3002 STM32\u5728\u4e0a\u7535\u542f\u52a8\u65f6\uff0cARM C\u5e93\u4f1a\u6839\u636eBIN\u6587\u4ef6\u4e2d\u5806\u6808\u7684\u5730\u5740\u548c\u5927\u5c0f\u4fe1\u606f\uff0c\u5728\u76f8\u5e94\u7684\u5185\u5b58\u7a7a\u95f4\u521d\u59cb\u5316\u5806\u548c\u6808\u3002 5. ELF\u6587\u4ef6\u89c6\u56fe\uff0c\u88c5\u8f7d\u89c6\u56fe\u548c\u8fd0\u884c\u89c6\u56fe # LR_IROM1 0x08000000 0x00010000 { ER_IROM1 0x08000000 0x00010000 { ; load address = execution address *.o (RESET, +First) *(InRoot$$Sections) .ANY (+RO) .ANY (+XO) } RW_IRAM1 0x20000000 0x00005000 { .ANY (+RW +ZI) } } ELF\u6587\u4ef6\u89c6\u56fe\uff1aSTM32\u9879\u76ee\u7f16\u8bd1\u540e\uff0c\u9996\u5148\u4f1a\u751f\u6210ELF\u6587\u4ef6\uff0cELF\u6587\u4ef6\u4e2d\u5305\u542b\u5927\u91cf\u7684\u8c03\u8bd5\u4fe1\u606f\uff0c\u8fd9\u662f\u7a0b\u5e8f\u771f\u6b63\u8fd0\u884c\u65f6\u6240\u4e0d\u9700\u8981\u7684\u3002 BIN\u6587\u4ef6\u89c6\u56fe\uff1a\u6240\u4ee5\u4e0b\u8f7d\u7a0b\u5e8f\u65f6\uff0c\u8981\u5148\u5c06ELF\u6587\u4ef6\u8f6c\u6362\u6210BIN\u6587\u4ef6\uff0c\u7136\u540e\u518d\u70e7\u5199\u5230STM32\u7684Flash\u4e2d\u3002 \u8fd0\u884c\u89c6\u56fe\uff1aSTM32\u4e0a\u7535\u540e\uff0c\u7a0b\u5e8f\u5f00\u59cb\u8fd0\u884c\uff0c\u9996\u5148\u4f1a\u5c06Flash\u6587\u4ef6\u4e2d\u7684 .data\u6bb5\u590d\u5236\u5230SRAM\u4e2d\uff0c\u5e76\u5728SRAM\u4e2d\u76f8\u5e94\u7684\u4f4d\u7f6e\u521d\u59cb\u5316\u5806\u6808\u548c.bss\u6bb5\u3002\u6700\u597d\u8fd9\u4e9b\u5de5\u4f5c\u540e\u8df3\u8f6c\u5230\u7528\u6237\u7684main\u51fd\u6570\uff0c\u6267\u884c\u7528\u6237\u7f16\u5199\u7684\u4e1a\u52a1\u903b\u8f91\u3002 ELF\u6587\u4ef6\u8f6cBIN\u6587\u4ef6\u7684\u65b9\u6cd5\uff1a # keil_installed_root/ARM/ARMCC/bin/fromelf.exe fromelf.exe --bin --output test.bin test.axf \u4e0b\u8f7d\u5668\u4e0ekeil\u914d\u5408\u4f7f\u7528\u65f6\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528ELF\u6587\u4ef6\u70e7\u5199Flash\uff0c\u8fd9\u662f\u56e0\u4e3a\u4eceELF\u6587\u4ef6\u5230BIN\u6587\u4ef6\u7684\u8fc7\u7a0b\u662f\u7531Keil\u81ea\u52a8\u5b8c\u6210\u7684\u3002 5.1 \u88c5\u8f7d\uff08BIN\u6587\u4ef6\uff09\u89c6\u56fe # \u6700\u7ec8\u70e7\u5199\u5230STM32\u5185\u90e8FLash\u4e2d\u7684\u5185\u5bb9\u5982\u4e0b\u56fe\u6240\u793a\uff1a \u4f46\u662f\u4ee3\u7801\u6bb5(.text)\u4e2d\u4e3a\u4ec0\u4e48\u4f1a\u5305\u542b\u8fd9\u4e9b\u4e1c\u897f\u5462\uff1f 5.2 \u8fd0\u884c\u89c6\u56fe # \u8bbe\u7f6eSTM32\u4eceFLASH\u542f\u52a8\uff0c\u7cfb\u7edf\u4f1a\u5c060x00\u5730\u5740\u6620\u5c04\u5230Flash\u7684\u9996\u5730\u57400x08000000\u3002 STM32\u4e0a\u7535\u540e\uff0c \u53c8\u6839\u636e\u300acortex-m3\u7f16\u7a0b\u624b\u518c\u300b\uff0c\u590d\u4f4d\u65f6\uff0cCPU\u4ece0x00000000\u5904\u83b7\u53d6\u6808\u9876\u6307\u9488MSP\uff08\u9ed8\u8ba4\u4f7f\u7528\u4e3b\u5806\u6808\uff09\uff0c\u4ece0x00000004\u5904\u83b7\u53d6\u7a0b\u5e8f\u8ba1\u6570\u5668PC\uff08\u590d\u4f4d\u5411\u91cf\uff09\u3002\u5219\u5370\u8bc1\u4e86\u4e0a\u8ff0\u8bf4\u6cd5\u3002 STM32\u7a0b\u5e8f\u7f16\u8bd1\u540e\u751f\u6210\u7684\u662fELF\u6587\u4ef6 -> bin\u6587\u4ef6\uff08FLASH\uff09 -> \u8fd0\u884c\u65f6 ELF\u6587\u4ef6\u683c\u5f0f \u4e0b\u8f7d\u5230Flash\u4e2d\u7684\u662fbin\u6587\u4ef6\uff08\u6ca1\u6709ELF\u5934\u7b49\u591a\u4f59\u7684\uff09 STM32\u4e0a\u7535\u540e 1.\u542f\u52a8\u4ee3\u7801\u7684\u4f5c\u7528 # 2.ARM \u6c47\u7f16 \u8bed\u6cd5\u7b80\u4ecb My_Fun PROC ADDS R0, R0, R1 ENDP 3.\u542f\u52a8\u4ee3\u7801\u5206\u6790 SPACE","title":"STM32\u7684\u542f\u52a8\u6d41\u7a0b"},{"location":"Embedded System/STM32/stm32_boot/#stm32-keil","text":"\u8ba9\u6211\u4eec\u4ece\u7f16\u8bd1\u540e\u8bf4\u8d77\u3002","title":"STM32\u542f\u52a8\u8fc7\u7a0b-Keil"},{"location":"Embedded System/STM32/stm32_boot/#1-elf","text":"\u5728Keil\u4e2d\u4e00\u4e2aSTM32\u9879\u76ee\u88ab\u7f16\u8bd1\u540e\uff0c\u4f1a\u751f\u6210\u4e00\u4e2aELF\u683c\u5f0f\u7684.axf\u6587\u4ef6\uff08\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u7684Objects\u6587\u4ef6\u5939\u4e2d\uff09\uff0c\u8be5\u6587\u4ef6\u4e2d\u5305\u542b\u6709\u6570\u636e\u6bb5\u3001\u4ee3\u7801\u6bb5\u3001\u8c03\u8bd5\u6bb5\u7b49\u5404\u79cd\u4fe1\u606f\uff0c\u8c03\u8bd5\u7a0b\u5e8f\u4f7f\u7528\u7684\u5c31\u662fELF\u6587\u4ef6\uff0cELF\u6587\u4ef6\u7684\u683c\u5f0f\u5982\u4e0b\uff1a","title":"1. ELF\u6587\u4ef6"},{"location":"Embedded System/STM32/stm32_boot/#2-bin","text":"\u4f46\u662f\u6700\u7ec8\u901a\u8fc7JLink\u4e0b\u8f7d\u5230STM32\u5185\u90e8Flash\u7684\u4e0d\u662fELF\u6587\u4ef6\u800c\u662fBIN\u6587\u4ef6\uff0cBIN\u6587\u4ef6\u4e2d\u662f\u7eaf\u7cb9\u7684\u6307\u4ee4\u4ee3\u7801\u548c\u6570\u636e\uff0c\u6ca1\u6709\u5176\u4ed6\u5197\u4f59\u7684\u6570\u636e\u3002 \u5c06ELF\u6587\u4ef6\u4e2d\u5197\u4f59\u7684\u6570\u636e\u53bb\u6389\uff0c\u5c31\u662fBIN\u6587\u4ef6\u7684\u5185\u5bb9\u3002\u5982\u4e0b\u56fe\u6240\u793a\uff1a","title":"2. BIN\u6587\u4ef6"},{"location":"Embedded System/STM32/stm32_boot/#3-bss","text":"BSS\u6bb5(Block Started by Symbol)\u4e2d\u5b58\u653e\u7684\u662f\u521d\u59cb\u503c\u4e3a\u96f6\u7684\u5168\u533a\u548c\u9759\u6001\u53d8\u91cf\u3002 \u4f46\u662f\u56e0\u4e3aBSS\u6bb5\u5185\u5bb9\u5168\u4e3a\u96f6\uff0c\u6240\u4ee5 \u5728ELF\u6587\u4ef6\u548cBIN\u6587\u4ef6\u4e2d\u5747\u4e0d\u5305\u542bBSS\u6bb5\u7684\u5185\u5bb9\uff0c\u53ea\u4fdd\u5b58\u6709BSS\u6bb5\u7684\u5730\u5740\u548c\u5927\u5c0f\u4fe1\u606f \u3002 \u7a0b\u5e8f\u4f1a\u5728\u8fd0\u884c\u7684\u65f6\u5019\u6839\u636eBSS\u6bb5\u5730\u5740\u548c\u5927\u5c0f\u4fe1\u606f\uff0c\u5728\u76f8\u5e94\u7684\u5185\u5b58\u7a7a\u95f4\u4e2d\u521d\u59cb\u5316BSS\u6bb5\u3002\u5728Keil\u4e2d\u8fd9\u4e2a\u4efb\u52a1\u662f\u7531ARM C\u5e93\u5b8c\u6210\u7684\u3002","title":"3. BSS\u6bb5"},{"location":"Embedded System/STM32/stm32_boot/#4","text":"\u6b64\u5904\u8ba8\u8bba\u7684\u662fSTM32\u7cfb\u7edf\u7684\u5806\u548c\u6808\u3002 \u6808 \u6808\u662f\u4e00\u5757\u7531\u7cfb\u7edf\u4e13\u7528\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u5728\u53d1\u751f\u51fd\u6570\u8c03\u7528\u65f6\u5b58\u50a8\u51fd\u6570\u7684\u5c40\u90e8\u53d8\u91cf\u548c\u53c2\u6570\uff0c \u5728Keil\u4e2d\u6808\u7684\u521d\u59cb\u5316\u662f\u7531ARM C\u5e93\u5b8c\u6210\u7684\u3002\u6808\u7684\u64cd\u4f5c\u7531CPU\u81ea\u52a8\u5b8c\u6210 \uff08C\u8bed\u8a00\u4e2d\u7684\u51fd\u6570\u8c03\u7528\u88ab\u7f16\u8bd1\u4e3a\u6c47\u7f16\u65f6\uff0c\u5c31\u4f1a\u6709\u76f8\u5e94\u7684\u51fa\u5165\u6808\u64cd\u4f5c\u6307\u4ee4\uff09\u3002 \u5982\u4e0b\u56fe\u6240\u793a\uff0c\u51fd\u6570\u5f00\u59cb\u8c03\u7528\u65f6\u4f1a\u6709\u5165\u6808\u64cd\u4f5c\u6307\u4ee4\uff08\u5f53\u7136\u51fd\u6570\u8c03\u7528\u7ed3\u675f\u65f6\u4f1a\u6709\u51fa\u6808\u64cd\u4f5c\uff09\uff1a \u5806 \u5806\u662f\u4e00\u5757\u53ef\u4ee5\u7531\u7a0b\u5e8f\u5458\u81ea\u7531\u4f7f\u7528\u7684\u5185\u5b58\u7a7a\u95f4\uff0c \u5728Keil\u4e2d\u5806\u7684\u521d\u59cb\u5316\u548c\u7ba1\u7406\u90fd\u662f\u7531ARM C\u5e93\u5b8c\u6210\u7684 \u3002\u5806\u7684\u4f7f\u7528\u662f\u7a0b\u5e8f\u5458\u901a\u8fc7\u8c03\u7528 malloc(),free() \u7b49ARM C\u5e93\u51fd\u6570\u5b8c\u6210\u7684\u3002 \u4e8b\u5b9e\u4e0a\uff0c\u5806\u548c\u6808\u90fd\u662f\u4e00\u5757\u9884\u7559\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u5728\u7a0b\u5e8f\u8fd0\u884c\u524d\u5176\u5185\u5bb9\u662f\u6ca1\u6709\u610f\u4e49\u7684\uff0c\u6240\u4ee5 \u5728ELF\u6587\u4ef6\u548cBIN\u6587\u4ef6\u4e2d\u5747\u6ca1\u6709\u5806\u548c\u6808\u7684\u5185\u5bb9\uff0c\u53ea\u6709\u5806\u6808\u7684\u5730\u5740\u548c\u5927\u5c0f\u4fe1\u606f \u3002 STM32\u5728\u4e0a\u7535\u542f\u52a8\u65f6\uff0cARM C\u5e93\u4f1a\u6839\u636eBIN\u6587\u4ef6\u4e2d\u5806\u6808\u7684\u5730\u5740\u548c\u5927\u5c0f\u4fe1\u606f\uff0c\u5728\u76f8\u5e94\u7684\u5185\u5b58\u7a7a\u95f4\u521d\u59cb\u5316\u5806\u548c\u6808\u3002","title":"4. \u5806\u548c\u6808"},{"location":"Embedded System/STM32/stm32_boot/#5-elf","text":"LR_IROM1 0x08000000 0x00010000 { ER_IROM1 0x08000000 0x00010000 { ; load address = execution address *.o (RESET, +First) *(InRoot$$Sections) .ANY (+RO) .ANY (+XO) } RW_IRAM1 0x20000000 0x00005000 { .ANY (+RW +ZI) } } ELF\u6587\u4ef6\u89c6\u56fe\uff1aSTM32\u9879\u76ee\u7f16\u8bd1\u540e\uff0c\u9996\u5148\u4f1a\u751f\u6210ELF\u6587\u4ef6\uff0cELF\u6587\u4ef6\u4e2d\u5305\u542b\u5927\u91cf\u7684\u8c03\u8bd5\u4fe1\u606f\uff0c\u8fd9\u662f\u7a0b\u5e8f\u771f\u6b63\u8fd0\u884c\u65f6\u6240\u4e0d\u9700\u8981\u7684\u3002 BIN\u6587\u4ef6\u89c6\u56fe\uff1a\u6240\u4ee5\u4e0b\u8f7d\u7a0b\u5e8f\u65f6\uff0c\u8981\u5148\u5c06ELF\u6587\u4ef6\u8f6c\u6362\u6210BIN\u6587\u4ef6\uff0c\u7136\u540e\u518d\u70e7\u5199\u5230STM32\u7684Flash\u4e2d\u3002 \u8fd0\u884c\u89c6\u56fe\uff1aSTM32\u4e0a\u7535\u540e\uff0c\u7a0b\u5e8f\u5f00\u59cb\u8fd0\u884c\uff0c\u9996\u5148\u4f1a\u5c06Flash\u6587\u4ef6\u4e2d\u7684 .data\u6bb5\u590d\u5236\u5230SRAM\u4e2d\uff0c\u5e76\u5728SRAM\u4e2d\u76f8\u5e94\u7684\u4f4d\u7f6e\u521d\u59cb\u5316\u5806\u6808\u548c.bss\u6bb5\u3002\u6700\u597d\u8fd9\u4e9b\u5de5\u4f5c\u540e\u8df3\u8f6c\u5230\u7528\u6237\u7684main\u51fd\u6570\uff0c\u6267\u884c\u7528\u6237\u7f16\u5199\u7684\u4e1a\u52a1\u903b\u8f91\u3002 ELF\u6587\u4ef6\u8f6cBIN\u6587\u4ef6\u7684\u65b9\u6cd5\uff1a # keil_installed_root/ARM/ARMCC/bin/fromelf.exe fromelf.exe --bin --output test.bin test.axf \u4e0b\u8f7d\u5668\u4e0ekeil\u914d\u5408\u4f7f\u7528\u65f6\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528ELF\u6587\u4ef6\u70e7\u5199Flash\uff0c\u8fd9\u662f\u56e0\u4e3a\u4eceELF\u6587\u4ef6\u5230BIN\u6587\u4ef6\u7684\u8fc7\u7a0b\u662f\u7531Keil\u81ea\u52a8\u5b8c\u6210\u7684\u3002","title":"5. ELF\u6587\u4ef6\u89c6\u56fe\uff0c\u88c5\u8f7d\u89c6\u56fe\u548c\u8fd0\u884c\u89c6\u56fe"},{"location":"Embedded System/STM32/stm32_boot/#51-bin","text":"\u6700\u7ec8\u70e7\u5199\u5230STM32\u5185\u90e8FLash\u4e2d\u7684\u5185\u5bb9\u5982\u4e0b\u56fe\u6240\u793a\uff1a \u4f46\u662f\u4ee3\u7801\u6bb5(.text)\u4e2d\u4e3a\u4ec0\u4e48\u4f1a\u5305\u542b\u8fd9\u4e9b\u4e1c\u897f\u5462\uff1f","title":"5.1 \u88c5\u8f7d\uff08BIN\u6587\u4ef6\uff09\u89c6\u56fe"},{"location":"Embedded System/STM32/stm32_boot/#52","text":"\u8bbe\u7f6eSTM32\u4eceFLASH\u542f\u52a8\uff0c\u7cfb\u7edf\u4f1a\u5c060x00\u5730\u5740\u6620\u5c04\u5230Flash\u7684\u9996\u5730\u57400x08000000\u3002 STM32\u4e0a\u7535\u540e\uff0c \u53c8\u6839\u636e\u300acortex-m3\u7f16\u7a0b\u624b\u518c\u300b\uff0c\u590d\u4f4d\u65f6\uff0cCPU\u4ece0x00000000\u5904\u83b7\u53d6\u6808\u9876\u6307\u9488MSP\uff08\u9ed8\u8ba4\u4f7f\u7528\u4e3b\u5806\u6808\uff09\uff0c\u4ece0x00000004\u5904\u83b7\u53d6\u7a0b\u5e8f\u8ba1\u6570\u5668PC\uff08\u590d\u4f4d\u5411\u91cf\uff09\u3002\u5219\u5370\u8bc1\u4e86\u4e0a\u8ff0\u8bf4\u6cd5\u3002 STM32\u7a0b\u5e8f\u7f16\u8bd1\u540e\u751f\u6210\u7684\u662fELF\u6587\u4ef6 -> bin\u6587\u4ef6\uff08FLASH\uff09 -> \u8fd0\u884c\u65f6 ELF\u6587\u4ef6\u683c\u5f0f \u4e0b\u8f7d\u5230Flash\u4e2d\u7684\u662fbin\u6587\u4ef6\uff08\u6ca1\u6709ELF\u5934\u7b49\u591a\u4f59\u7684\uff09 STM32\u4e0a\u7535\u540e","title":"5.2 \u8fd0\u884c\u89c6\u56fe"},{"location":"Embedded System/STM32/stm32_boot/#1","text":"2.ARM \u6c47\u7f16 \u8bed\u6cd5\u7b80\u4ecb My_Fun PROC ADDS R0, R0, R1 ENDP 3.\u542f\u52a8\u4ee3\u7801\u5206\u6790 SPACE","title":"1.\u542f\u52a8\u4ee3\u7801\u7684\u4f5c\u7528"},{"location":"Embedded System/STM32/stm32_boot_configure/","text":"STM32\u7684\u4e09\u79cd\u542f\u52a8\u65b9\u5f0f # \u5982\u4e0a\u56fe\u6240\u793a\uff0cSTM32\u5185\u90e8\u4e00\u5171\u6709 \u4e24\u5757\u7269\u7406\u5b58\u50a8\u8bbe\u5907 \uff08Flash\u548cSRAM\uff09\u548c \u4e09\u5757\u5b58\u50a8\u533a\u57df \uff08Main Flash Memory\u3001System Memory\u548cSRAM\uff09\u3002\u8fd9\u4e09\u5757\u5b58\u50a8\u533a\u57df\u4e5f\u5c31\u662fSTM32\u7684\u4e09\u4e2a\u542f\u52a8\u7a7a\u95f4\u3002 \u8fd9\u4e09\u4e2a\u542f\u52a8\u7a7a\u95f4\u7684\u9009\u62e9\u662f\u7531\u5f15\u811aBOOT0\u548cBOOT1\u51b3\u5b9a\u7684\uff1a 1. \u4eceMain Flash Memory\u548cSystem Memory\u542f\u52a8 # Cortex\u00ae-M3 CPU\u4e0a\u7535\u540e\uff0c\u9ed8\u8ba4 \u4ece0x0000 0000\u5730\u5740\u5904\u53d6\u5f97\u6808\u9876\u5730\u5740\uff08MSP\uff09\uff0c\u901a\u8fc7ICode bus\u4ece0x0000 0004\u5730\u5740\u5904\u53d6\u5f97PC\u7684\u503c\uff08\u590d\u4f4d\u5411\u91cf\uff09 \uff0c\u7136\u540e\u5f00\u59cb\u6267\u884c\u4ee3\u7801\u3002 \u56e0\u4e3aICode bus\u53ea\u80fd\u8bbf\u95ee\u4ee3\u7801\u533a\u57df\uff080x0000 0000 ~ 0x1FFF FFFF\uff09\uff0c\u6240\u4ee5\u542f\u52a8\u7a7a\u95f4\u5fc5\u987b\u5728\u4ee3\u7801\u533a\u57df\u3002 STM32\u5185\u90e8Flash\u5c31\u4f4d\u4e8e\u4ee3\u7801\u533a\u57df\uff0c\u5e76\u4e14\u901a\u8fc7 \u201c \u5b58\u50a8\u5668\u522b\u540d\uff08memory alias\uff09 \u201d\u6280\u672f\uff0c\u53ef\u4ee5\u5c06STM32\u7684Main Flash Memory\u7684\u5730\u5740\u7a7a\u95f40x0800 0000 ~ 0x0801 FFFF\u6620\u5c04\u52300x0000 0000 ~ 0x0001 FFFF\uff0c\u5bf9\u4e8eSystem memory\u4e5f\u662f\u540c\u6837\u7684\u9053\u7406\u3002\u6240\u4ee5STM32\u53ef\u4ee5\u4eceMain Flash Memory\u548cSystem memory\u542f\u52a8\u3002 1.1 \u4eceMain Flash Memory\u542f\u52a8\u7684\u65b9\u6cd5 # \u8fd9\u4e2a\u662f\u5e73\u65f6\u4f7f\u7528\u6700\u591a\u7684\u65b9\u5f0f\uff0c\u5c06\u7a0b\u5e8f\u4e0b\u8f7d\u5230STM32\u5185\u90e8Flash\uff0c\u7136\u540e\u4eceFlash\u542f\u52a8\u3002 1.2 \u4eceSystem Memory\u542f\u52a8\u7684\u65b9\u6cd5 # System Memory\u4e2d\u662fST\u9884\u7f6e\u7684bootloader\u7a0b\u5e8f\uff0c\u7528\u4e8e\u901a\u8fc7\u4e32\u53e3\u4e0b\u8f7d\u7528\u6237\u7a0b\u5e8f\u5230Flash\u3002\u7a0b\u5e8f\u4e0b\u8f7d\u5b8c\u6bd5\u540e\uff0c\u91cd\u65b0\u5c06\u542f\u52a8\u6a21\u5f0f\u8bbe\u7f6e\u4e3a \u201c\u4eceFlash\u542f\u52a8\u201d \uff0c\u7136\u540e\u5f00\u673a\u8fd0\u884c\u7528\u6237\u7a0b\u5e8f\u3002 \u66f4\u591a\u4fe1\u606f\u8bf7\u67e5\u9605ST\u5b98\u65b9\u6587\u6863\uff1a STM32 microcontroller system memory boot mode 2. \u4eceSRAM\u542f\u52a8 # \u81f3\u4e8e\u4e3a\u4ec0\u4e48STM32\u8fd8\u80fd\u4eceSRAM\u542f\u52a8\uff0cST\u5b98\u65b9\u8d44\u6599 en.CD00171190 \u4e2d\u76843.4\u8282 \u7ed9\u51fa\u7684\u8bf4\u660e\u662f\uff1a STM32F10xxx microcontrollers implement a special mechanism to be able to boot also from SRAM and not only from main Flash memory and System memory. Boot from the embedded SRAM: SRAM is accessible only at address 0x2000 0000. STM32F10xxx\u5fae\u63a7\u5236\u5668\u5b9e\u73b0\u4e86\u4e00\u4e2a\u7279\u6b8a\u7684\u673a\u5236\u4f7f\u5f97STM32\u4e0d\u4ec5\u80fd\u591f\u4eceFlash memory \u548c System memory\u542f\u52a8\uff0c\u4e5f\u80fd\u591f\u4eceSRAM\u542f\u52a8\u3002 \u4ece\u5185\u5d4cSRAM\u542f\u52a8\uff1aSRAM\u4ec5\u80fd\u5728\u5730\u57400x2000 0000\u5904\u88ab\u8bbf\u95ee\u3002 \u4ee5\u4e0a\u8bf4\u660e\u5e76\u4e0d\u6e05\u695a\uff0cST\u5b98\u65b9\u5bf9\u6b64\u542b\u7cca\u5176\u8f9e\uff0c\u4eceSRAM\u542f\u52a8\u7684\u5177\u4f53\u7ec6\u8282\u65e0\u4ece\u77e5\u6653\uff0c\u4f46\u662f\u901a\u8fc7\u5b9e\u9a8c\u6211\u4eec\u53d1\u73b0\uff1a \u5c06STM32\u8bbe\u7f6e\u4e3a\u4eceSRAM\u542f\u52a8\uff08a. \u914d\u7f6e\u542f\u52a8\u6a21\u5f0f\u5f15\u811aBOOT0=1\uff0cBOOT1=1\uff1bb. \u5e76\u4fee\u6539\u94fe\u63a5\u811a\u672c\u5c06\u6240\u6709\u4ee3\u7801\u5168\u90e8\u653e\u5165SRAM\u4e2d\u3002\uff09 \u7cfb\u7edf\u590d\u4f4d\u540ePC\u6307\u9488\u603b\u662f\u6307\u54110x2000 0108\u3002 \u6240\u4ee5\u6211\u4eec\u5728\u5730\u57400x2000 0108\u63d2\u5165\u8bbe\u7f6eSP\u6307\u9488\u548cPC\u6307\u9488\u7684\u6307\u4ee4\u5c31\u53ef\u4ee5\u5b9e\u73b0\u4eceSRAM\u542f\u52a8\u4e86\u3002 Note \u4eceSRAM\u542f\u52a8\u4e0e\u5728SRAM\u4e2d\u8fd0\u884c\u4ee3\u7801\u662f\u4e24\u4e2a\u4e0d\u540c\u7684\u6982\u5ff5\u3002 \u4eceSRAM\u542f\u52a8 # \u4e5f\u5c5e\u4e8e\u5728SRAM\u4e2d\u8fd0\u884c\u4ee3\u7801\uff0c\u4f46\u4e0d\u540c\u7684\u662f\u7a0b\u5e8f\u4e0b\u8f7d\u5230SRAM\u540e\uff0c\u5728MCU\u4e0d\u65ad\u7535\u7684\u60c5\u51b5\u4e0b\uff0c\u7a0b\u5e8f\u53ef\u4ee5\u4e00\u76f4\u8fd0\u884c\uff0c\u5e76\u4e14\u6309\u4e0b\u590d\u4f4d\u952e\u540e\u53ef\u4ee5\u91cd\u65b0\u8fd0\u884c\u3002 \u5728SRAM\u4e2d\u8fd0\u884c\u4ee3\u7801\uff1a # \u5c06\u6240\u6709\u7684\u4ee3\u7801\u653e\u5230SRAM\u8fd0\u884c\uff0c\u6b64\u65f6MCU\u7684\u542f\u52a8\u6a21\u5f0f\u53ef\u4ee5\u662f\u4eceMain Flash Memory\u542f\u52a8 \u5c06\u90e8\u5206\u4ee3\u7801\u653e\u5230SRAM\u8fd0\u884c\uff0c\u6b64\u65f6MCU\u7684\u542f\u52a8\u6a21\u5f0f\u53ef\u4ee5\u662f\u4eceMain Flash Memory\u542f\u52a8 \u5173\u4e8e\u5728SRAM\u4e2d\u8fd0\u884c\u4ee3\u7801\uff0c\u8bf7\u53c2\u8003\u8fd9\u7bc7\u6587\u7ae0\uff1a STM32\u5728SRAM\u4e2d\u8fd0\u884c\u4ee3\u7801 2.1 \u90a3\u4e48\u4e3a\u4ec0\u4e48\u9700\u8981\u4eceSRAM\u542f\u52a8 # \u53ef\u80fd\u7684\u539f\u56e0\u6709\u4ee5\u4e0b\u51e0\u70b9\uff08\u53c2\u8003\u8d44\u6599\u300aARM Cortex M3 & M4\u6743\u5a01\u6307\u5357\u300b15.7\u8282 \u4e0b\u8f7d\u5730\u5740 \uff09\uff1a \u6240\u4f7f\u7528\u7684\u8bbe\u5907\u53ef\u80fd\u5177\u6709OTP ROM\uff08\u4ec5\u53ef\u8fdb\u884c\u4e00\u6b21\u7f16\u7a0b\uff09\uff0c\u56e0\u6b64\u5728\u6700\u7ec8\u786e\u5b9a\u524d\uff0c\u662f\u4e0d\u4f1a\u5c06\u7a0b\u5e8f\u7f16\u7a0b\u5230\u82af\u7247\u4e2d\u7684\u3002 \u6709\u4e9b\u5fae\u63a7\u5236\u5668\u4e2d\u6ca1\u6709\u5185\u90e8Flash\u5b58\u50a8\u5668\uff0c\u9700\u8981\u4f7f\u7528\u5916\u90e8\u7684\u5b58\u50a8\u5668\uff0c\u5728\u8f6f\u4ef6\u5f00\u53d1\u671f\u95f4\uff0c\u53ef\u80fd\u4f1a\u60f3\u7528\u5185\u90e8\u7684SRAM\u8fdb\u884c\u6d4b\u8bd5\u3002 \u5bf9\u4e8e\u4ea7\u54c1\u6d4b\u8bd5\u6216\u8005\u7279\u5b9a\u65b9\u9762\u7684\u6d4b\u8bd5\uff0c\u4e0d\u60f3\u6539\u52a8Flash\u4e2d\u73b0\u6709\u7684\u7a0b\u5e8f\u5b9e\u73b0\u67d0\u4e9b\u65b0\u529f\u80fd\u7684\u6d4b\u8bd5\u5de5\u4f5c\uff0c\u6b64\u65f6\u53ef\u4ee5\u5c06\u6d4b\u8bd5\u4ee3\u7801\u4e0b\u8f7d\u5230SRAM\u4e2d\u8fd0\u884c\u3002 \u5bf9\u4e8eFlash\u5b58\u50a8\u5668\u6bd4\u8f83\u5c0f\u7684\u7cfb\u7edf\uff0c\u53ef\u80fd\u60f3\u5728\u542f\u52a8\u9636\u6bb5\u5c06\u7a0b\u5e8f\u4eceFlash\u590d\u5236\u5230SRAM\u4e2d\u4ee5\u63d0\u9ad8\u6027\u80fd\uff0c\u5e76\u5728SRAM\u4e2d\u6267\u884c\u7a0b\u5e8f\u4ee5\u8fbe\u5230\u6700\u4f73\u6027\u80fd\u3002 2.2 STM32\u4eceSRAM\u542f\u52a8\u7684\u65b9\u6cd5 # \u4e0b\u9762\u6211\u4eec\u4ee5STM32F103C8T6\uff08RAM\u5927\u5c0f\u4e3a20K\uff09\u4e3a\u4f8b\uff0c\u6f14\u793a\u914d\u7f6e\u8fc7\u7a0b\u3002 1.2.1 \u4fee\u6539\u542f\u52a8\u6a21\u5f0f # \u5c06\u5f15\u811aBOOT0\uff0cBOOT1\u90fd\u8bbe\u7f6e\u4e3a1\uff0c\u5c06STM32\u914d\u7f6e\u4e3a\u4eceSRAM\u542f\u52a8\u3002 1.2.2 \u8bbe\u7f6e\u4e2d\u65ad\u5411\u91cf\u8868\u504f\u79fb # \u6dfb\u52a0\u5b8f\u5b9a\u4e49 VECT_TAB_SRAM \uff1a \u8be5\u5b8f\u5b9a\u4e49\u5f71\u54cd\u7684\u4ee3\u7801\uff1a // system_stm32f10x.c // SystemInit() #ifdef VECT_TAB_SRAM SCB->VTOR = SRAM_BASE | VECT_TAB_OFFSET; /* Vector Table Relocation in Internal SRAM. */ #else SCB->VTOR = FLASH_BASE | VECT_TAB_OFFSET; /* Vector Table Relocation in Internal FLASH. */ #endif 1.2.3 \u4fee\u6539\u542f\u52a8\u4ee3\u7801 # \u6309\u7167\u5982\u4e0b\u6240\u793a\u4fee\u6539startup_stm32f10x_md.s\u6587\u4ef6\u3002 ; \u6b64\u5904\u7701\u7565n\u884c\u4ee3\u7801 ; Vector Table Mapped to Address 0 at Reset ; \u6b64\u5904\u4fee\u6539AREA RESET, DATA, READONLY \u4e3a AREA RESET, CODE, READONLY AREA RESET, CODE, READONLY EXPORT __Vectors EXPORT __Vectors_End EXPORT __Vectors_Size __Vectors DCD __initial_sp ; Top of Stack DCD Reset_Handler ; Reset Handler DCD NMI_Handler ; NMI Handler DCD HardFault_Handler ; Hard Fault Handler DCD MemManage_Handler ; MPU Fault Handler ; \u6b64\u5904\u7701\u7565n\u884c\u4ee3\u7801 DCD USBWakeUp_IRQHandler ; USB Wakeup from suspend ; \u4e0b\u9762\u662f\u9700\u8981\u65b0\u6dfb\u52a0\u7684\u5185\u5bb9: DCD 0 DCD 0 DCD 0 DCD 0 DCD 0 DCD 0 DCD 0 LDR R0, =0x20000000 LDR SP,[R0] LDR R0, =0x20000004 LDR PC,[R0] ALIGN 4 ; \u4ee5\u4e0a\u662f\u9700\u8981\u6dfb\u52a0\u7684\u4ee3\u7801 ; \u6b64\u5904\u7701\u7565n\u884c\u4ee3\u7801 1.2.4 \u4fee\u6539\u94fe\u63a5\u811a\u672c # \u6309\u7167\u4e0b\u56fe\u6240\u793a\u65b9\u5f0f\uff0c\u5373\u53ef\u5728Keil\u7f16\u8f91\u5668\u4e2d\u6253\u5f00\u94fe\u63a5\u811a\u672c\uff1a \u6253\u5f00\u94fe\u63a5\u811a\u672c\u6587\u4ef6\u540e\uff0c\u5c06\u5185\u5bb9\u4fee\u6539\u5982\u4e0b\uff1a ; \u4ee5STM32F103C8T6\u4e3a\u4f8b ; \u4eceSRAM\u542f\u52a8\u7ec8\u7aef\u5411\u91cf\u8868\uff08RESET\u6bb5\uff09\u5fc5\u987b\u4f4d\u4e8e\u542f\u52a8\u7a7a\u95f4\u76840\u5730\u5740 ; InRoot$$Sections \u5fc5\u987b\u4f4d\u4e8eroot\u533a\u57df\uff08\u6267\u884c\u5730\u5740\u4e0e\u88c5\u8f7d\u5730\u5740\u76f8\u540c\u7684\u533a\u57df\uff09 LR_IROM1 0x20000000 0x00005000 { ;\u88c5\u8f7d\u5730\u5740\u4e3aSRAM\u9996\u5730\u5740 RW_IRAM1 0x20000000 0x00005000 { ;\u6267\u884c\u5730\u5740==\u88c5\u8f7d\u5730\u5740 *.o (RESET, +First) *(InRoot$$Sections) .ANY (+RO) .ANY (+XO) .ANY (+RW +ZI) } } 1.2.5 \u4fee\u6539Keil\u4e2d\u7684Flash Download\u8bbe\u7f6e # \u56e0\u4e3a\u662f\u76f4\u63a5\u4eceSRAM\u542f\u52a8\u5e76\u6267\u884c\u7a0b\u5e8f\uff0c\u4e0d\u9700\u8981\u5bf9Flash\u8fdb\u884c\u64cd\u4f5c\uff0c\u6240\u4ee5\u628aFlash\u76f8\u5173\u64cd\u4f5c\u5168\u90e8\u53bb\u6389\u3002 \u4ee5\u4e0a\u5c31\u662f\u5b8c\u6574\u7684\u914d\u7f6e\uff0c\u73b0\u5728\u7f16\u8bd1\u9879\u76ee\u5e76\u70b9\u51fb\u8c03\u8bd5\uff0c\u5c31\u80fd\u770b\u5230\u7a0b\u5e8f\u6210\u529f\u5728SRAM\u4e2d\u8fd0\u884c\u4e86\u3002 \u5173\u95ed\u8c03\u8bd5\u540e\uff0c\u53ea\u8981STM32\u4e0d\u65ad\u7535\uff0cSRAM\u4e2d\u7684\u7a0b\u5e8f\u5c31\u53ef\u4ee5\u4e00\u76f4\u8fd0\u884c\uff0c\u5e76\u4e14\u6309\u4e0b\u590d\u4f4d\u952e\u540e\u7a0b\u5e8f\u4f1a\u91cd\u65b0\u8fd0\u884c\u3002","title":"STM32\u7684\u4e09\u79cd\u542f\u52a8\u65b9\u5f0f"},{"location":"Embedded System/STM32/stm32_boot_configure/#stm32","text":"\u5982\u4e0a\u56fe\u6240\u793a\uff0cSTM32\u5185\u90e8\u4e00\u5171\u6709 \u4e24\u5757\u7269\u7406\u5b58\u50a8\u8bbe\u5907 \uff08Flash\u548cSRAM\uff09\u548c \u4e09\u5757\u5b58\u50a8\u533a\u57df \uff08Main Flash Memory\u3001System Memory\u548cSRAM\uff09\u3002\u8fd9\u4e09\u5757\u5b58\u50a8\u533a\u57df\u4e5f\u5c31\u662fSTM32\u7684\u4e09\u4e2a\u542f\u52a8\u7a7a\u95f4\u3002 \u8fd9\u4e09\u4e2a\u542f\u52a8\u7a7a\u95f4\u7684\u9009\u62e9\u662f\u7531\u5f15\u811aBOOT0\u548cBOOT1\u51b3\u5b9a\u7684\uff1a","title":"STM32\u7684\u4e09\u79cd\u542f\u52a8\u65b9\u5f0f"},{"location":"Embedded System/STM32/stm32_boot_configure/#1-main-flash-memorysystem-memory","text":"Cortex\u00ae-M3 CPU\u4e0a\u7535\u540e\uff0c\u9ed8\u8ba4 \u4ece0x0000 0000\u5730\u5740\u5904\u53d6\u5f97\u6808\u9876\u5730\u5740\uff08MSP\uff09\uff0c\u901a\u8fc7ICode bus\u4ece0x0000 0004\u5730\u5740\u5904\u53d6\u5f97PC\u7684\u503c\uff08\u590d\u4f4d\u5411\u91cf\uff09 \uff0c\u7136\u540e\u5f00\u59cb\u6267\u884c\u4ee3\u7801\u3002 \u56e0\u4e3aICode bus\u53ea\u80fd\u8bbf\u95ee\u4ee3\u7801\u533a\u57df\uff080x0000 0000 ~ 0x1FFF FFFF\uff09\uff0c\u6240\u4ee5\u542f\u52a8\u7a7a\u95f4\u5fc5\u987b\u5728\u4ee3\u7801\u533a\u57df\u3002 STM32\u5185\u90e8Flash\u5c31\u4f4d\u4e8e\u4ee3\u7801\u533a\u57df\uff0c\u5e76\u4e14\u901a\u8fc7 \u201c \u5b58\u50a8\u5668\u522b\u540d\uff08memory alias\uff09 \u201d\u6280\u672f\uff0c\u53ef\u4ee5\u5c06STM32\u7684Main Flash Memory\u7684\u5730\u5740\u7a7a\u95f40x0800 0000 ~ 0x0801 FFFF\u6620\u5c04\u52300x0000 0000 ~ 0x0001 FFFF\uff0c\u5bf9\u4e8eSystem memory\u4e5f\u662f\u540c\u6837\u7684\u9053\u7406\u3002\u6240\u4ee5STM32\u53ef\u4ee5\u4eceMain Flash Memory\u548cSystem memory\u542f\u52a8\u3002","title":"1. \u4eceMain Flash Memory\u548cSystem Memory\u542f\u52a8"},{"location":"Embedded System/STM32/stm32_boot_configure/#11-main-flash-memory","text":"\u8fd9\u4e2a\u662f\u5e73\u65f6\u4f7f\u7528\u6700\u591a\u7684\u65b9\u5f0f\uff0c\u5c06\u7a0b\u5e8f\u4e0b\u8f7d\u5230STM32\u5185\u90e8Flash\uff0c\u7136\u540e\u4eceFlash\u542f\u52a8\u3002","title":"1.1 \u4eceMain Flash Memory\u542f\u52a8\u7684\u65b9\u6cd5"},{"location":"Embedded System/STM32/stm32_boot_configure/#12-system-memory","text":"System Memory\u4e2d\u662fST\u9884\u7f6e\u7684bootloader\u7a0b\u5e8f\uff0c\u7528\u4e8e\u901a\u8fc7\u4e32\u53e3\u4e0b\u8f7d\u7528\u6237\u7a0b\u5e8f\u5230Flash\u3002\u7a0b\u5e8f\u4e0b\u8f7d\u5b8c\u6bd5\u540e\uff0c\u91cd\u65b0\u5c06\u542f\u52a8\u6a21\u5f0f\u8bbe\u7f6e\u4e3a \u201c\u4eceFlash\u542f\u52a8\u201d \uff0c\u7136\u540e\u5f00\u673a\u8fd0\u884c\u7528\u6237\u7a0b\u5e8f\u3002 \u66f4\u591a\u4fe1\u606f\u8bf7\u67e5\u9605ST\u5b98\u65b9\u6587\u6863\uff1a STM32 microcontroller system memory boot mode","title":"1.2 \u4eceSystem Memory\u542f\u52a8\u7684\u65b9\u6cd5"},{"location":"Embedded System/STM32/stm32_boot_configure/#2-sram","text":"\u81f3\u4e8e\u4e3a\u4ec0\u4e48STM32\u8fd8\u80fd\u4eceSRAM\u542f\u52a8\uff0cST\u5b98\u65b9\u8d44\u6599 en.CD00171190 \u4e2d\u76843.4\u8282 \u7ed9\u51fa\u7684\u8bf4\u660e\u662f\uff1a STM32F10xxx microcontrollers implement a special mechanism to be able to boot also from SRAM and not only from main Flash memory and System memory. Boot from the embedded SRAM: SRAM is accessible only at address 0x2000 0000. STM32F10xxx\u5fae\u63a7\u5236\u5668\u5b9e\u73b0\u4e86\u4e00\u4e2a\u7279\u6b8a\u7684\u673a\u5236\u4f7f\u5f97STM32\u4e0d\u4ec5\u80fd\u591f\u4eceFlash memory \u548c System memory\u542f\u52a8\uff0c\u4e5f\u80fd\u591f\u4eceSRAM\u542f\u52a8\u3002 \u4ece\u5185\u5d4cSRAM\u542f\u52a8\uff1aSRAM\u4ec5\u80fd\u5728\u5730\u57400x2000 0000\u5904\u88ab\u8bbf\u95ee\u3002 \u4ee5\u4e0a\u8bf4\u660e\u5e76\u4e0d\u6e05\u695a\uff0cST\u5b98\u65b9\u5bf9\u6b64\u542b\u7cca\u5176\u8f9e\uff0c\u4eceSRAM\u542f\u52a8\u7684\u5177\u4f53\u7ec6\u8282\u65e0\u4ece\u77e5\u6653\uff0c\u4f46\u662f\u901a\u8fc7\u5b9e\u9a8c\u6211\u4eec\u53d1\u73b0\uff1a \u5c06STM32\u8bbe\u7f6e\u4e3a\u4eceSRAM\u542f\u52a8\uff08a. \u914d\u7f6e\u542f\u52a8\u6a21\u5f0f\u5f15\u811aBOOT0=1\uff0cBOOT1=1\uff1bb. \u5e76\u4fee\u6539\u94fe\u63a5\u811a\u672c\u5c06\u6240\u6709\u4ee3\u7801\u5168\u90e8\u653e\u5165SRAM\u4e2d\u3002\uff09 \u7cfb\u7edf\u590d\u4f4d\u540ePC\u6307\u9488\u603b\u662f\u6307\u54110x2000 0108\u3002 \u6240\u4ee5\u6211\u4eec\u5728\u5730\u57400x2000 0108\u63d2\u5165\u8bbe\u7f6eSP\u6307\u9488\u548cPC\u6307\u9488\u7684\u6307\u4ee4\u5c31\u53ef\u4ee5\u5b9e\u73b0\u4eceSRAM\u542f\u52a8\u4e86\u3002 Note \u4eceSRAM\u542f\u52a8\u4e0e\u5728SRAM\u4e2d\u8fd0\u884c\u4ee3\u7801\u662f\u4e24\u4e2a\u4e0d\u540c\u7684\u6982\u5ff5\u3002","title":"2. \u4eceSRAM\u542f\u52a8"},{"location":"Embedded System/STM32/stm32_boot_configure/#sram","text":"\u4e5f\u5c5e\u4e8e\u5728SRAM\u4e2d\u8fd0\u884c\u4ee3\u7801\uff0c\u4f46\u4e0d\u540c\u7684\u662f\u7a0b\u5e8f\u4e0b\u8f7d\u5230SRAM\u540e\uff0c\u5728MCU\u4e0d\u65ad\u7535\u7684\u60c5\u51b5\u4e0b\uff0c\u7a0b\u5e8f\u53ef\u4ee5\u4e00\u76f4\u8fd0\u884c\uff0c\u5e76\u4e14\u6309\u4e0b\u590d\u4f4d\u952e\u540e\u53ef\u4ee5\u91cd\u65b0\u8fd0\u884c\u3002","title":"\u4eceSRAM\u542f\u52a8"},{"location":"Embedded System/STM32/stm32_boot_configure/#sram_1","text":"\u5c06\u6240\u6709\u7684\u4ee3\u7801\u653e\u5230SRAM\u8fd0\u884c\uff0c\u6b64\u65f6MCU\u7684\u542f\u52a8\u6a21\u5f0f\u53ef\u4ee5\u662f\u4eceMain Flash Memory\u542f\u52a8 \u5c06\u90e8\u5206\u4ee3\u7801\u653e\u5230SRAM\u8fd0\u884c\uff0c\u6b64\u65f6MCU\u7684\u542f\u52a8\u6a21\u5f0f\u53ef\u4ee5\u662f\u4eceMain Flash Memory\u542f\u52a8 \u5173\u4e8e\u5728SRAM\u4e2d\u8fd0\u884c\u4ee3\u7801\uff0c\u8bf7\u53c2\u8003\u8fd9\u7bc7\u6587\u7ae0\uff1a STM32\u5728SRAM\u4e2d\u8fd0\u884c\u4ee3\u7801","title":"\u5728SRAM\u4e2d\u8fd0\u884c\u4ee3\u7801\uff1a"},{"location":"Embedded System/STM32/stm32_boot_configure/#21-sram","text":"\u53ef\u80fd\u7684\u539f\u56e0\u6709\u4ee5\u4e0b\u51e0\u70b9\uff08\u53c2\u8003\u8d44\u6599\u300aARM Cortex M3 & M4\u6743\u5a01\u6307\u5357\u300b15.7\u8282 \u4e0b\u8f7d\u5730\u5740 \uff09\uff1a \u6240\u4f7f\u7528\u7684\u8bbe\u5907\u53ef\u80fd\u5177\u6709OTP ROM\uff08\u4ec5\u53ef\u8fdb\u884c\u4e00\u6b21\u7f16\u7a0b\uff09\uff0c\u56e0\u6b64\u5728\u6700\u7ec8\u786e\u5b9a\u524d\uff0c\u662f\u4e0d\u4f1a\u5c06\u7a0b\u5e8f\u7f16\u7a0b\u5230\u82af\u7247\u4e2d\u7684\u3002 \u6709\u4e9b\u5fae\u63a7\u5236\u5668\u4e2d\u6ca1\u6709\u5185\u90e8Flash\u5b58\u50a8\u5668\uff0c\u9700\u8981\u4f7f\u7528\u5916\u90e8\u7684\u5b58\u50a8\u5668\uff0c\u5728\u8f6f\u4ef6\u5f00\u53d1\u671f\u95f4\uff0c\u53ef\u80fd\u4f1a\u60f3\u7528\u5185\u90e8\u7684SRAM\u8fdb\u884c\u6d4b\u8bd5\u3002 \u5bf9\u4e8e\u4ea7\u54c1\u6d4b\u8bd5\u6216\u8005\u7279\u5b9a\u65b9\u9762\u7684\u6d4b\u8bd5\uff0c\u4e0d\u60f3\u6539\u52a8Flash\u4e2d\u73b0\u6709\u7684\u7a0b\u5e8f\u5b9e\u73b0\u67d0\u4e9b\u65b0\u529f\u80fd\u7684\u6d4b\u8bd5\u5de5\u4f5c\uff0c\u6b64\u65f6\u53ef\u4ee5\u5c06\u6d4b\u8bd5\u4ee3\u7801\u4e0b\u8f7d\u5230SRAM\u4e2d\u8fd0\u884c\u3002 \u5bf9\u4e8eFlash\u5b58\u50a8\u5668\u6bd4\u8f83\u5c0f\u7684\u7cfb\u7edf\uff0c\u53ef\u80fd\u60f3\u5728\u542f\u52a8\u9636\u6bb5\u5c06\u7a0b\u5e8f\u4eceFlash\u590d\u5236\u5230SRAM\u4e2d\u4ee5\u63d0\u9ad8\u6027\u80fd\uff0c\u5e76\u5728SRAM\u4e2d\u6267\u884c\u7a0b\u5e8f\u4ee5\u8fbe\u5230\u6700\u4f73\u6027\u80fd\u3002","title":"2.1 \u90a3\u4e48\u4e3a\u4ec0\u4e48\u9700\u8981\u4eceSRAM\u542f\u52a8"},{"location":"Embedded System/STM32/stm32_boot_configure/#22-stm32sram","text":"\u4e0b\u9762\u6211\u4eec\u4ee5STM32F103C8T6\uff08RAM\u5927\u5c0f\u4e3a20K\uff09\u4e3a\u4f8b\uff0c\u6f14\u793a\u914d\u7f6e\u8fc7\u7a0b\u3002","title":"2.2 STM32\u4eceSRAM\u542f\u52a8\u7684\u65b9\u6cd5"},{"location":"Embedded System/STM32/stm32_boot_configure/#121","text":"\u5c06\u5f15\u811aBOOT0\uff0cBOOT1\u90fd\u8bbe\u7f6e\u4e3a1\uff0c\u5c06STM32\u914d\u7f6e\u4e3a\u4eceSRAM\u542f\u52a8\u3002","title":"1.2.1 \u4fee\u6539\u542f\u52a8\u6a21\u5f0f"},{"location":"Embedded System/STM32/stm32_boot_configure/#122","text":"\u6dfb\u52a0\u5b8f\u5b9a\u4e49 VECT_TAB_SRAM \uff1a \u8be5\u5b8f\u5b9a\u4e49\u5f71\u54cd\u7684\u4ee3\u7801\uff1a // system_stm32f10x.c // SystemInit() #ifdef VECT_TAB_SRAM SCB->VTOR = SRAM_BASE | VECT_TAB_OFFSET; /* Vector Table Relocation in Internal SRAM. */ #else SCB->VTOR = FLASH_BASE | VECT_TAB_OFFSET; /* Vector Table Relocation in Internal FLASH. */ #endif","title":"1.2.2 \u8bbe\u7f6e\u4e2d\u65ad\u5411\u91cf\u8868\u504f\u79fb"},{"location":"Embedded System/STM32/stm32_boot_configure/#123","text":"\u6309\u7167\u5982\u4e0b\u6240\u793a\u4fee\u6539startup_stm32f10x_md.s\u6587\u4ef6\u3002 ; \u6b64\u5904\u7701\u7565n\u884c\u4ee3\u7801 ; Vector Table Mapped to Address 0 at Reset ; \u6b64\u5904\u4fee\u6539AREA RESET, DATA, READONLY \u4e3a AREA RESET, CODE, READONLY AREA RESET, CODE, READONLY EXPORT __Vectors EXPORT __Vectors_End EXPORT __Vectors_Size __Vectors DCD __initial_sp ; Top of Stack DCD Reset_Handler ; Reset Handler DCD NMI_Handler ; NMI Handler DCD HardFault_Handler ; Hard Fault Handler DCD MemManage_Handler ; MPU Fault Handler ; \u6b64\u5904\u7701\u7565n\u884c\u4ee3\u7801 DCD USBWakeUp_IRQHandler ; USB Wakeup from suspend ; \u4e0b\u9762\u662f\u9700\u8981\u65b0\u6dfb\u52a0\u7684\u5185\u5bb9: DCD 0 DCD 0 DCD 0 DCD 0 DCD 0 DCD 0 DCD 0 LDR R0, =0x20000000 LDR SP,[R0] LDR R0, =0x20000004 LDR PC,[R0] ALIGN 4 ; \u4ee5\u4e0a\u662f\u9700\u8981\u6dfb\u52a0\u7684\u4ee3\u7801 ; \u6b64\u5904\u7701\u7565n\u884c\u4ee3\u7801","title":"1.2.3 \u4fee\u6539\u542f\u52a8\u4ee3\u7801"},{"location":"Embedded System/STM32/stm32_boot_configure/#124","text":"\u6309\u7167\u4e0b\u56fe\u6240\u793a\u65b9\u5f0f\uff0c\u5373\u53ef\u5728Keil\u7f16\u8f91\u5668\u4e2d\u6253\u5f00\u94fe\u63a5\u811a\u672c\uff1a \u6253\u5f00\u94fe\u63a5\u811a\u672c\u6587\u4ef6\u540e\uff0c\u5c06\u5185\u5bb9\u4fee\u6539\u5982\u4e0b\uff1a ; \u4ee5STM32F103C8T6\u4e3a\u4f8b ; \u4eceSRAM\u542f\u52a8\u7ec8\u7aef\u5411\u91cf\u8868\uff08RESET\u6bb5\uff09\u5fc5\u987b\u4f4d\u4e8e\u542f\u52a8\u7a7a\u95f4\u76840\u5730\u5740 ; InRoot$$Sections \u5fc5\u987b\u4f4d\u4e8eroot\u533a\u57df\uff08\u6267\u884c\u5730\u5740\u4e0e\u88c5\u8f7d\u5730\u5740\u76f8\u540c\u7684\u533a\u57df\uff09 LR_IROM1 0x20000000 0x00005000 { ;\u88c5\u8f7d\u5730\u5740\u4e3aSRAM\u9996\u5730\u5740 RW_IRAM1 0x20000000 0x00005000 { ;\u6267\u884c\u5730\u5740==\u88c5\u8f7d\u5730\u5740 *.o (RESET, +First) *(InRoot$$Sections) .ANY (+RO) .ANY (+XO) .ANY (+RW +ZI) } }","title":"1.2.4 \u4fee\u6539\u94fe\u63a5\u811a\u672c"},{"location":"Embedded System/STM32/stm32_boot_configure/#125-keilflash-download","text":"\u56e0\u4e3a\u662f\u76f4\u63a5\u4eceSRAM\u542f\u52a8\u5e76\u6267\u884c\u7a0b\u5e8f\uff0c\u4e0d\u9700\u8981\u5bf9Flash\u8fdb\u884c\u64cd\u4f5c\uff0c\u6240\u4ee5\u628aFlash\u76f8\u5173\u64cd\u4f5c\u5168\u90e8\u53bb\u6389\u3002 \u4ee5\u4e0a\u5c31\u662f\u5b8c\u6574\u7684\u914d\u7f6e\uff0c\u73b0\u5728\u7f16\u8bd1\u9879\u76ee\u5e76\u70b9\u51fb\u8c03\u8bd5\uff0c\u5c31\u80fd\u770b\u5230\u7a0b\u5e8f\u6210\u529f\u5728SRAM\u4e2d\u8fd0\u884c\u4e86\u3002 \u5173\u95ed\u8c03\u8bd5\u540e\uff0c\u53ea\u8981STM32\u4e0d\u65ad\u7535\uff0cSRAM\u4e2d\u7684\u7a0b\u5e8f\u5c31\u53ef\u4ee5\u4e00\u76f4\u8fd0\u884c\uff0c\u5e76\u4e14\u6309\u4e0b\u590d\u4f4d\u952e\u540e\u7a0b\u5e8f\u4f1a\u91cd\u65b0\u8fd0\u884c\u3002","title":"1.2.5 \u4fee\u6539Keil\u4e2d\u7684Flash Download\u8bbe\u7f6e"},{"location":"Embedded System/STM32/stm32_elf_bin_file_analysis/","text":"ELF\u6587\u4ef6\u548cBIN\u6587\u4ef6 # ELF\u6587\u4ef6\u7684\u683c\u5f0f\u5982\u4e0b\uff1a \u901a\u8fc7 readelf \u548c objdump \u5de5\u5177\uff0c\u53ef\u4ee5\u67e5\u770bELF\u6587\u4ef6\u7684\u4fe1\u606f\uff0c\u6bd4\u5982\uff1a \u67e5\u770bELF\u6587\u4ef6\u4e2d\u7684 \u201c \u6bb5\u5934\u8868 \u201d \u5185\u5bb9 $ readelf -S test.axf \u67e5\u770bELF\u6587\u4ef6\u4e2d\u5404\u6bb5\u7684\u5185\u5bb9 objdump -s test.axf \u66f4\u591a\u5173\u4e8e readelf \u548c objdump \u5de5\u5177\u7684\u4fe1\u606f\uff0c\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u6307\u4ee4\u67e5\u770b\uff1a readelf -h man objdump \u66f4\u591a\u5173\u4e8eARM ELF\u6587\u4ef6\u7684\u5185\u5bb9\uff0c\u8bf7\u67e5\u9605\u5982\u4e0b\u76f8\u5173\u94fe\u63a5\uff1a Image Structure and Generation Executable and Linkable Format Executable and Linkable Format axf to bin fromelf.exe --bin --output test.bin test.axf readelf -S test.o objdump -s test.o hexdump test.o # \u8bfb\u53d6ELF\u6587\u4ef6\u4e2d\u7684\u201c\u6bb5\u8868\u201d\u7684\u5185\u5bb9 $ readelf -S test.axf # \u201c\u6bb5\u8868\u201d\u5728\u6587\u4ef6\u4e2d\u7684\u504f\u79fb\u5730\u5740\u662f\uff1a0x6a70 There are 16 section headers, starting at offset 0x6a70: # \u4e0b\u9762\u7684\u504f\u79fb\u5730\u5740\u6307\u7684\u662f\uff1a\u672c\u6bb5\u5728\u6587\u4ef6\u4e2d\u7684\u504f\u79fb\u5730\u5740 # \u6bcf\u6bb5\u670910\u4e2a\u5c5e\u6027\uff0c\u6bcf\u4e2a\u5c5e\u6027\u75284\u4e2a\u5b57\u8282\u8868\u793a Section Headers: [Nr] Name Type Addr Off Size ES Flg Lk Inf Al [ 0] NULL 00000000 000000 000000 00 0 0 0 [ 1] ER_IROM1 PROGBITS 08000000 000034 0003f0 00 AX 0 0 4 [ 2] RW_IRAM1 PROGBITS 20000000 000424 00002c 00 WA 0 0 4 [ 3] RW_IRAM1 NOBITS 2000002c 000450 000664 00 WA 0 0 8 [ 4] .debug_abbrev PROGBITS 00000000 000450 0005c4 00 0 0 1 [ 5] .debug_frame PROGBITS 00000000 000a14 000374 00 0 0 1 [ 6] .debug_info PROGBITS 00000000 000d88 000d2c 00 0 0 1 [ 7] .debug_line PROGBITS 00000000 001ab4 00046c 00 0 0 1 [ 8] .debug_loc PROGBITS 00000000 001f20 0000f0 00 0 0 1 [ 9] .debug_macinfo PROGBITS 00000000 002010 0008d8 00 0 0 1 [10] .debug_pubnames PROGBITS 00000000 0028e8 000096 00 0 0 1 [11] .symtab SYMTAB 00000000 002980 001130 10 12 146 4 [12] .strtab STRTAB 00000000 003ab0 001508 00 0 0 1 [13] .note NOTE 00000000 004fb8 00001c 00 0 0 4 [14] .comment PROGBITS 00000000 004fd4 0019e0 00 0 0 1 [15] .shstrtab STRTAB 00000000 0069b4 00009c 00 0 0 1 Key to Flags: W (write), A (alloc), X (execute), M (merge), S (strings), I (info), L (link order), O (extra OS processing required), G (group), T (TLS), C (compressed), x (unknown), o (OS specific), E (exclude), y (purecode), p (processor specific) BSS\u6bb5\u5934\u5206\u6790\uff1a ELF\u6587\u4ef6\u4e2d\u4fdd\u5b58\u7684\u6709BSS\u6bb5\u4fe1\u606f\u7684\u63cf\u8ff0\uff08\u5730\u5740\uff0c\u5927\u5c0f\u7b49\u5404\u79cd\u5c5e\u6027\uff09\uff0c\u4f46\u662f\u6ca1\u6709BSS\u7684\u5185\u5bb9\uff0c\u56e0\u4e3aBSS\u6bb5\u4e2d\u7684\u6240\u6709\u5185\u5bb9\u90fd\u662f0\uff0c\u6ca1\u6709\u5fc5\u8981\u4fdd\u5b58\u5185\u5bb9\uff0c\u53ea\u9700\u8981\u77e5\u9053\u53d8\u91cf\u7684\u5730\u5740\u5373\u53ef\u3002 \u4f46\u662f\u4e0d\u8bba\u662fELF\u6587\u4ef6\uff0c\u8fd8\u662fBIN\u6587\u4ef6\u4e2d\uff0c\u5fc5\u987b\u4fdd\u5b58BSS\u6bb5\u7684\u5730\u5740\u548c\u5927\u5c0f\uff0c\u4ee5\u4fbf\u4e8eSTM32\u542f\u52a8\u65f6\u5c06BSS\u6bb5\u6e05\u96f6\u3002 \u4e8b\u5b9e\u4e0a\uff0c\u5728ELF\u6587\u4ef6\u548cBIN\u6587\u4ef6\u4e2d\uff0cBSS\u6bb5\u7684\u5185\u5bb9\u5c31\u662fBSS\u6bb5\u7684\u5730\u5740\u548c\u5927\u5c0f","title":"Keil AXF\u6587\u4ef6\u548cBIN\u6587\u4ef6\u5206\u6790"},{"location":"Embedded System/STM32/stm32_elf_bin_file_analysis/#elfbin","text":"ELF\u6587\u4ef6\u7684\u683c\u5f0f\u5982\u4e0b\uff1a \u901a\u8fc7 readelf \u548c objdump \u5de5\u5177\uff0c\u53ef\u4ee5\u67e5\u770bELF\u6587\u4ef6\u7684\u4fe1\u606f\uff0c\u6bd4\u5982\uff1a \u67e5\u770bELF\u6587\u4ef6\u4e2d\u7684 \u201c \u6bb5\u5934\u8868 \u201d \u5185\u5bb9 $ readelf -S test.axf \u67e5\u770bELF\u6587\u4ef6\u4e2d\u5404\u6bb5\u7684\u5185\u5bb9 objdump -s test.axf \u66f4\u591a\u5173\u4e8e readelf \u548c objdump \u5de5\u5177\u7684\u4fe1\u606f\uff0c\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u6307\u4ee4\u67e5\u770b\uff1a readelf -h man objdump \u66f4\u591a\u5173\u4e8eARM ELF\u6587\u4ef6\u7684\u5185\u5bb9\uff0c\u8bf7\u67e5\u9605\u5982\u4e0b\u76f8\u5173\u94fe\u63a5\uff1a Image Structure and Generation Executable and Linkable Format Executable and Linkable Format axf to bin fromelf.exe --bin --output test.bin test.axf readelf -S test.o objdump -s test.o hexdump test.o # \u8bfb\u53d6ELF\u6587\u4ef6\u4e2d\u7684\u201c\u6bb5\u8868\u201d\u7684\u5185\u5bb9 $ readelf -S test.axf # \u201c\u6bb5\u8868\u201d\u5728\u6587\u4ef6\u4e2d\u7684\u504f\u79fb\u5730\u5740\u662f\uff1a0x6a70 There are 16 section headers, starting at offset 0x6a70: # \u4e0b\u9762\u7684\u504f\u79fb\u5730\u5740\u6307\u7684\u662f\uff1a\u672c\u6bb5\u5728\u6587\u4ef6\u4e2d\u7684\u504f\u79fb\u5730\u5740 # \u6bcf\u6bb5\u670910\u4e2a\u5c5e\u6027\uff0c\u6bcf\u4e2a\u5c5e\u6027\u75284\u4e2a\u5b57\u8282\u8868\u793a Section Headers: [Nr] Name Type Addr Off Size ES Flg Lk Inf Al [ 0] NULL 00000000 000000 000000 00 0 0 0 [ 1] ER_IROM1 PROGBITS 08000000 000034 0003f0 00 AX 0 0 4 [ 2] RW_IRAM1 PROGBITS 20000000 000424 00002c 00 WA 0 0 4 [ 3] RW_IRAM1 NOBITS 2000002c 000450 000664 00 WA 0 0 8 [ 4] .debug_abbrev PROGBITS 00000000 000450 0005c4 00 0 0 1 [ 5] .debug_frame PROGBITS 00000000 000a14 000374 00 0 0 1 [ 6] .debug_info PROGBITS 00000000 000d88 000d2c 00 0 0 1 [ 7] .debug_line PROGBITS 00000000 001ab4 00046c 00 0 0 1 [ 8] .debug_loc PROGBITS 00000000 001f20 0000f0 00 0 0 1 [ 9] .debug_macinfo PROGBITS 00000000 002010 0008d8 00 0 0 1 [10] .debug_pubnames PROGBITS 00000000 0028e8 000096 00 0 0 1 [11] .symtab SYMTAB 00000000 002980 001130 10 12 146 4 [12] .strtab STRTAB 00000000 003ab0 001508 00 0 0 1 [13] .note NOTE 00000000 004fb8 00001c 00 0 0 4 [14] .comment PROGBITS 00000000 004fd4 0019e0 00 0 0 1 [15] .shstrtab STRTAB 00000000 0069b4 00009c 00 0 0 1 Key to Flags: W (write), A (alloc), X (execute), M (merge), S (strings), I (info), L (link order), O (extra OS processing required), G (group), T (TLS), C (compressed), x (unknown), o (OS specific), E (exclude), y (purecode), p (processor specific) BSS\u6bb5\u5934\u5206\u6790\uff1a ELF\u6587\u4ef6\u4e2d\u4fdd\u5b58\u7684\u6709BSS\u6bb5\u4fe1\u606f\u7684\u63cf\u8ff0\uff08\u5730\u5740\uff0c\u5927\u5c0f\u7b49\u5404\u79cd\u5c5e\u6027\uff09\uff0c\u4f46\u662f\u6ca1\u6709BSS\u7684\u5185\u5bb9\uff0c\u56e0\u4e3aBSS\u6bb5\u4e2d\u7684\u6240\u6709\u5185\u5bb9\u90fd\u662f0\uff0c\u6ca1\u6709\u5fc5\u8981\u4fdd\u5b58\u5185\u5bb9\uff0c\u53ea\u9700\u8981\u77e5\u9053\u53d8\u91cf\u7684\u5730\u5740\u5373\u53ef\u3002 \u4f46\u662f\u4e0d\u8bba\u662fELF\u6587\u4ef6\uff0c\u8fd8\u662fBIN\u6587\u4ef6\u4e2d\uff0c\u5fc5\u987b\u4fdd\u5b58BSS\u6bb5\u7684\u5730\u5740\u548c\u5927\u5c0f\uff0c\u4ee5\u4fbf\u4e8eSTM32\u542f\u52a8\u65f6\u5c06BSS\u6bb5\u6e05\u96f6\u3002 \u4e8b\u5b9e\u4e0a\uff0c\u5728ELF\u6587\u4ef6\u548cBIN\u6587\u4ef6\u4e2d\uff0cBSS\u6bb5\u7684\u5185\u5bb9\u5c31\u662fBSS\u6bb5\u7684\u5730\u5740\u548c\u5927\u5c0f","title":"ELF\u6587\u4ef6\u548cBIN\u6587\u4ef6"},{"location":"Embedded System/STM32/stm32_flash_erase_leveling/","text":"STM32\u5185\u90e8Flash\u4f7f\u7528\u78e8\u635f\u5747\u8861\u7b97\u6cd5(Erase Leveling) # STM32\u5185\u90e8Flash\u7684\u5199\u5bff\u547d\u5927\u7ea6\u662f1\u4e07\u6b21\uff0c\u5047\u5982\u6211\u4eec\u5728\u5176Flash\u4e2d\u5b58\u50a8\u6570\u636e\uff0c\u6bcf\u5929100\u6b21\u5199\u64cd\u4f5c\uff0c100\u5929\u540eFlash\u5c31\u65e0\u6cd5\u7ee7\u7eed\u53ef\u9760\u4f7f\u7528\u4e86\uff0c \u672c\u6587\u91c7\u53d6\u4e86\u4e00\u79cd\u975e\u5e38\u7b80\u5355\u7684\u65b9\u6cd5\uff0c\u5c06Flash\u7684\u4f7f\u7528\u5bff\u547d\u5ef6\u957f\u4e861024\u500d\uff08\u4ec5\u9650\u672c\u6587\u8bd5\u9a8c\u73af\u5883\u4e0b\uff09\u3002 1. \u8bbe\u8ba1\u601d\u8def # \u672c\u5b9e\u9a8c\u4ee5\u4e00\u9875Flash\u7684\u64cd\u4f5c\u4e3a\u4f8b\u3002\u6211\u4eec\u6309\u7167\u7279\u5b9a\u683c\u5f0f\u5c06\u6570\u636e\u4e00\u6761\u4e00\u6761\u7684\u5199\u8fdbFlash\uff0c\u5728\u5199\u5165\u65b0\u7684\u6570\u636e\u524d\u5c06\u65e7\u6570\u636e\u6e05\u96f6\uff0c \u4fdd\u8bc1Flash\u4e2d\u6709\u6548\u6570\u636e\u7684\u552f\u4e00\u6027\uff0c\u76f4\u5230\u672c\u9875\u5199\u6ee1\u540e\uff0c\u624d\u5c06\u672c\u9875\u64e6\u9664\uff0c\u6545\u6781\u5927\u7684\u5ef6\u957f\u4e86Flash\u7684\u4f7f\u7528\u5bff\u547d\u3002 \u82af\u7247\uff1aSTM32F103ZET6 \u8f6f\u4ef6\uff1aSTM32CubeHAL Flash Page Size\uff1a2K \u4f7f\u7528Flash\u7684\u4e00\u9875Page60(0x0801E000 ~ 0x0801E800(\u4e0d\u5305\u542b))\u8fdb\u884c\u78e8\u635f\u5747\u8861\u7b97\u6cd5\u8bd5\u9a8c \u6570\u636e\u5e27\u683c\u5f0f\uff1a |0x5A|data1|data2|0xA5| \u672c\u5b9e\u9a8cFlash\u5b58\u50a8\u6a21\u578b\u5982\u4e0b\uff1a \u9996\u5148\u5c06Page60\u64e6\u9664\uff0c\u64e6\u9664\u540ePage60\u9875\u4e2d\u7684\u6570\u636e\u5168\u4e3a1\u3002 \u6bcf\u6b21\u5199\u5165\u6570\u636e\u65f6\uff0c\u4f1a\u987a\u6b21\u5bfb\u627e\u6570\u503cFF\uff08\u672a\u5199\u5165\u6570\u636e\u7684\uff09\uff0c\u627e\u5230\u540e\u5199\u5165\u6570\u636e\uff0c\u540c\u65f6\u5c06\u5148\u524d\u7684\u6709\u6548\u6570\u636e\u7f6e\u4e3a0\uff0c\u82e5\u672a\u627e\u5230FF\uff0c\u5219\u8868\u660e\u6570\u636e\u5df2\u5199\u6ee1\uff0c\u5c06\u64e6\u9664\u6574\u9875\uff0c\u4ece\u5934\u5f00\u59cb\u5199 \u6bcf\u6b21\u8bfb\u51fa\u6570\u636e\u65f6\uff0c\u4f1a\u987a\u6b21\u5bfb\u627e\u6570\u503c5A\uff08\u6709\u6548\u6570\u636e\uff09\uff0c\u7136\u540e\u8bfb\u51fa4\u4e2a\u5b57\u8282\uff0c\u82e5\u672a\u627e\u5230\u6570\u503c5A\uff0c\u5219\u8fd4\u56de\u9519\u8bef\u78010 2. \u5b9e\u73b0\u4ee3\u7801 # \u4e00\u5171\u67093\u4e2a\u6587\u4ef6\uff0cflash_wear_leveling.h\u3001flash_wear_leveling.c\u548cexample.c\uff0cflash_wear_leveling.h\u548cflash_wear_leveling.c\u662f \u78e8\u635f\u5747\u8861\u7b97\u6cd5\u7684\u5b9e\u73b0\uff0cexample.c\u662f\u4f7f\u7528\u4e3e\u4f8b\u3002 \u76f4\u63a5\u8bbf\u95ee\u6211\u7684Gist\u83b7\u53d6\u6700\u65b0\u4ee3\u7801 flash_wear_leveling.h #ifndef __FLASH_H__ #define __FLASH_H__ #include \"stm32f1xx_hal.h\" #define FLASH_START_ADDRESS 0x0801E000 #define PAGE_SIZE (uint32_t)FLASH_PAGE_SIZE /* Page size */ #define WT_GET_NEW_ADDR (1<<0) #define WT_GET_USED_ADDR (1<<1) typedef union { uint8_t buff[4]; uint32_t data; }flash_pack_u; typedef struct { uint32_t flash_start_address; uint32_t current_addr; uint32_t new_addr; uint16_t page_size; flash_pack_u buff; }flasher_t; typedef union { uint8_t data[2]; uint16_t data16; }writer_u; void flash_init(void); void easer_flash(void); void find_new_entry(void); uint32_t find_used_entry(void); void write_word_to_flash(writer_u writer); #endif flash_wear_leveling.c #include <drv_flash.h> extern void FLASH_PageErase(uint32_t PageAddress); static flasher_t flasher; void flash_init(void) { flasher.flash_start_address = FLASH_START_ADDRESS; flasher.page_size = FLASH_PAGE_SIZE; flasher.current_addr = FLASH_START_ADDRESS; } void easer_flash(void) { /* -1- Unlock the Flash Bank Program Erase controller */ HAL_FLASH_Unlock(); /* -2- Clear All pending flags */ __HAL_FLASH_CLEAR_FLAG(FLASH_FLAG_EOP | FLASH_FLAG_WRPERR | FLASH_FLAG_PGERR); /* -3- erase the FLASH pages */ FLASH_PageErase(FLASH_START_ADDRESS); FLASH_WaitForLastOperation(FLASH_TIMEOUT_VALUE); CLEAR_BIT(FLASH->CR, FLASH_CR_PER); /* -5- Lock the Flash Bank Program Erase controller */ HAL_FLASH_Lock(); } void find_new_entry(void) { while(flasher.current_addr < flasher.flash_start_address+flasher.page_size) { flasher.buff.data = read_word_from_flash(flasher.current_addr); if(flasher.buff.buff[0] == 0xFF) { flasher.new_addr = flasher.current_addr; return; } flasher.current_addr += 4; } if(flasher.current_addr >= flasher.flash_start_address+flasher.page_size) { easer_flash(); flasher.current_addr = flasher.flash_start_address; flasher.new_addr = flasher.flash_start_address; } } uint32_t find_used_entry(void) { while(flasher.current_addr < flasher.flash_start_address+flasher.page_size) { flasher.buff.data = read_word_from_flash(flasher.current_addr); if(flasher.buff.buff[0] == 0x5A) { return flasher.buff.data; } flasher.current_addr += 4; } return 0; } void write_word_to_flash(writer_u writer) { flash_pack_u buf; buf.buff[0] = 0x5A; buf.buff[1] = writer.data[0]; buf.buff[2] = writer.data[1]; buf.buff[3] = 0xA5; find_new_entry(); HAL_FLASH_Unlock(); if(flasher.new_addr-4 >= flasher.flash_start_address) { HAL_FLASH_Program(FLASH_TYPEPROGRAM_WORD,flasher.new_addr-4,0x00); } HAL_FLASH_Program(FLASH_TYPEPROGRAM_WORD,flasher.new_addr,buf.data); HAL_FLASH_Lock(); } example.c /* * \u9996\u5148\u786e\u4fdd\u4f60\u8981\u64cd\u4f5c\u7684\u7684Flash\u533a\u57df\u662f\u521a\u64e6\u9664\u8fc7\u7684(\u5168\u4e3a1)\uff0c\u4e3a\u5b9e\u73b0\u8fd9\u4e2a\u76ee\u7684\uff0c\u4f60\u53ef\u4ee5\u53ea\u8c03\u7528easer_flash()\u51fd\u6570\uff0c\u5c06\u7279\u5b9a\u7684flash page\u64e6\u9664\uff0c * \u5f53\u7136\u4f60\u9700\u8981\u5148\u8c03\u7528flash_init()\u51fd\u6570\u8bbe\u7f6eflash page\u7684\u9996\u5730\u5740 * \u6570\u636e\u5e27\u683c\u5f0f\u4e3a |0x5A | data1 | data2 | 0xA5| * \u6bcf\u6b21\u5199\u5165\u6570\u636e\u65f6\uff0c\u4f1a\u987a\u6b21\u5bfb\u627e\u6570\u503cFF\uff08\u672a\u5199\u5165\u6570\u636e\u7684\uff09\uff0c\u627e\u5230\u540e\u5199\u5165\u6570\u636e\uff0c\u540c\u65f6\u5c06\u5148\u524d\u7684\u6709\u6548\u6570\u636e\u7f6e\u4e3a0\uff0c\u82e5\u672a\u627e\u5230FF\uff0c\u5219\u8868\u660e\u6570\u636e\u5df2\u5199\u6ee1\uff0c\u5c06\u64e6\u9664\u6574\u9875\uff0c\u4ece\u5934\u5f00\u59cb\u5199 * \u6bcf\u6b21\u8bfb\u51fa\u6570\u636e\u65f6\uff0c\u4f1a\u987a\u6b21\u5bfb\u627e\u6570\u503c5A\uff08\u6709\u6548\u6570\u636e\uff09\uff0c\u7136\u540e\u8bfb\u51fa4\u4e2a\u5b57\u8282\uff0c\u82e5\u672a\u627e\u5230\u6570\u503c5A\uff0c\u5219\u8fd4\u56de\u9519\u8bef\u78010 * */ int main() { // write data into flash writer_u writer; writer.data[0] = 0x11; writer.data[1] = 0x22; write_word_to_flash(writer); // then read it from flash and print it flash_pack_u flash_pack; flash_pack.data = find_used_entry(); usart1_printf(\"%x %x\\n\",flash_pack.buff[1]); usart1_printf(\"%x %x\\n\",flash_pack.buff[2]); }","title":"Flash\u78e8\u635f\u5747\u8861\u7b97\u6cd5"},{"location":"Embedded System/STM32/stm32_flash_erase_leveling/#stm32flasherase-leveling","text":"STM32\u5185\u90e8Flash\u7684\u5199\u5bff\u547d\u5927\u7ea6\u662f1\u4e07\u6b21\uff0c\u5047\u5982\u6211\u4eec\u5728\u5176Flash\u4e2d\u5b58\u50a8\u6570\u636e\uff0c\u6bcf\u5929100\u6b21\u5199\u64cd\u4f5c\uff0c100\u5929\u540eFlash\u5c31\u65e0\u6cd5\u7ee7\u7eed\u53ef\u9760\u4f7f\u7528\u4e86\uff0c \u672c\u6587\u91c7\u53d6\u4e86\u4e00\u79cd\u975e\u5e38\u7b80\u5355\u7684\u65b9\u6cd5\uff0c\u5c06Flash\u7684\u4f7f\u7528\u5bff\u547d\u5ef6\u957f\u4e861024\u500d\uff08\u4ec5\u9650\u672c\u6587\u8bd5\u9a8c\u73af\u5883\u4e0b\uff09\u3002","title":"STM32\u5185\u90e8Flash\u4f7f\u7528\u78e8\u635f\u5747\u8861\u7b97\u6cd5(Erase Leveling)"},{"location":"Embedded System/STM32/stm32_flash_erase_leveling/#1","text":"\u672c\u5b9e\u9a8c\u4ee5\u4e00\u9875Flash\u7684\u64cd\u4f5c\u4e3a\u4f8b\u3002\u6211\u4eec\u6309\u7167\u7279\u5b9a\u683c\u5f0f\u5c06\u6570\u636e\u4e00\u6761\u4e00\u6761\u7684\u5199\u8fdbFlash\uff0c\u5728\u5199\u5165\u65b0\u7684\u6570\u636e\u524d\u5c06\u65e7\u6570\u636e\u6e05\u96f6\uff0c \u4fdd\u8bc1Flash\u4e2d\u6709\u6548\u6570\u636e\u7684\u552f\u4e00\u6027\uff0c\u76f4\u5230\u672c\u9875\u5199\u6ee1\u540e\uff0c\u624d\u5c06\u672c\u9875\u64e6\u9664\uff0c\u6545\u6781\u5927\u7684\u5ef6\u957f\u4e86Flash\u7684\u4f7f\u7528\u5bff\u547d\u3002 \u82af\u7247\uff1aSTM32F103ZET6 \u8f6f\u4ef6\uff1aSTM32CubeHAL Flash Page Size\uff1a2K \u4f7f\u7528Flash\u7684\u4e00\u9875Page60(0x0801E000 ~ 0x0801E800(\u4e0d\u5305\u542b))\u8fdb\u884c\u78e8\u635f\u5747\u8861\u7b97\u6cd5\u8bd5\u9a8c \u6570\u636e\u5e27\u683c\u5f0f\uff1a |0x5A|data1|data2|0xA5| \u672c\u5b9e\u9a8cFlash\u5b58\u50a8\u6a21\u578b\u5982\u4e0b\uff1a \u9996\u5148\u5c06Page60\u64e6\u9664\uff0c\u64e6\u9664\u540ePage60\u9875\u4e2d\u7684\u6570\u636e\u5168\u4e3a1\u3002 \u6bcf\u6b21\u5199\u5165\u6570\u636e\u65f6\uff0c\u4f1a\u987a\u6b21\u5bfb\u627e\u6570\u503cFF\uff08\u672a\u5199\u5165\u6570\u636e\u7684\uff09\uff0c\u627e\u5230\u540e\u5199\u5165\u6570\u636e\uff0c\u540c\u65f6\u5c06\u5148\u524d\u7684\u6709\u6548\u6570\u636e\u7f6e\u4e3a0\uff0c\u82e5\u672a\u627e\u5230FF\uff0c\u5219\u8868\u660e\u6570\u636e\u5df2\u5199\u6ee1\uff0c\u5c06\u64e6\u9664\u6574\u9875\uff0c\u4ece\u5934\u5f00\u59cb\u5199 \u6bcf\u6b21\u8bfb\u51fa\u6570\u636e\u65f6\uff0c\u4f1a\u987a\u6b21\u5bfb\u627e\u6570\u503c5A\uff08\u6709\u6548\u6570\u636e\uff09\uff0c\u7136\u540e\u8bfb\u51fa4\u4e2a\u5b57\u8282\uff0c\u82e5\u672a\u627e\u5230\u6570\u503c5A\uff0c\u5219\u8fd4\u56de\u9519\u8bef\u78010","title":"1. \u8bbe\u8ba1\u601d\u8def"},{"location":"Embedded System/STM32/stm32_flash_erase_leveling/#2","text":"\u4e00\u5171\u67093\u4e2a\u6587\u4ef6\uff0cflash_wear_leveling.h\u3001flash_wear_leveling.c\u548cexample.c\uff0cflash_wear_leveling.h\u548cflash_wear_leveling.c\u662f \u78e8\u635f\u5747\u8861\u7b97\u6cd5\u7684\u5b9e\u73b0\uff0cexample.c\u662f\u4f7f\u7528\u4e3e\u4f8b\u3002 \u76f4\u63a5\u8bbf\u95ee\u6211\u7684Gist\u83b7\u53d6\u6700\u65b0\u4ee3\u7801 flash_wear_leveling.h #ifndef __FLASH_H__ #define __FLASH_H__ #include \"stm32f1xx_hal.h\" #define FLASH_START_ADDRESS 0x0801E000 #define PAGE_SIZE (uint32_t)FLASH_PAGE_SIZE /* Page size */ #define WT_GET_NEW_ADDR (1<<0) #define WT_GET_USED_ADDR (1<<1) typedef union { uint8_t buff[4]; uint32_t data; }flash_pack_u; typedef struct { uint32_t flash_start_address; uint32_t current_addr; uint32_t new_addr; uint16_t page_size; flash_pack_u buff; }flasher_t; typedef union { uint8_t data[2]; uint16_t data16; }writer_u; void flash_init(void); void easer_flash(void); void find_new_entry(void); uint32_t find_used_entry(void); void write_word_to_flash(writer_u writer); #endif flash_wear_leveling.c #include <drv_flash.h> extern void FLASH_PageErase(uint32_t PageAddress); static flasher_t flasher; void flash_init(void) { flasher.flash_start_address = FLASH_START_ADDRESS; flasher.page_size = FLASH_PAGE_SIZE; flasher.current_addr = FLASH_START_ADDRESS; } void easer_flash(void) { /* -1- Unlock the Flash Bank Program Erase controller */ HAL_FLASH_Unlock(); /* -2- Clear All pending flags */ __HAL_FLASH_CLEAR_FLAG(FLASH_FLAG_EOP | FLASH_FLAG_WRPERR | FLASH_FLAG_PGERR); /* -3- erase the FLASH pages */ FLASH_PageErase(FLASH_START_ADDRESS); FLASH_WaitForLastOperation(FLASH_TIMEOUT_VALUE); CLEAR_BIT(FLASH->CR, FLASH_CR_PER); /* -5- Lock the Flash Bank Program Erase controller */ HAL_FLASH_Lock(); } void find_new_entry(void) { while(flasher.current_addr < flasher.flash_start_address+flasher.page_size) { flasher.buff.data = read_word_from_flash(flasher.current_addr); if(flasher.buff.buff[0] == 0xFF) { flasher.new_addr = flasher.current_addr; return; } flasher.current_addr += 4; } if(flasher.current_addr >= flasher.flash_start_address+flasher.page_size) { easer_flash(); flasher.current_addr = flasher.flash_start_address; flasher.new_addr = flasher.flash_start_address; } } uint32_t find_used_entry(void) { while(flasher.current_addr < flasher.flash_start_address+flasher.page_size) { flasher.buff.data = read_word_from_flash(flasher.current_addr); if(flasher.buff.buff[0] == 0x5A) { return flasher.buff.data; } flasher.current_addr += 4; } return 0; } void write_word_to_flash(writer_u writer) { flash_pack_u buf; buf.buff[0] = 0x5A; buf.buff[1] = writer.data[0]; buf.buff[2] = writer.data[1]; buf.buff[3] = 0xA5; find_new_entry(); HAL_FLASH_Unlock(); if(flasher.new_addr-4 >= flasher.flash_start_address) { HAL_FLASH_Program(FLASH_TYPEPROGRAM_WORD,flasher.new_addr-4,0x00); } HAL_FLASH_Program(FLASH_TYPEPROGRAM_WORD,flasher.new_addr,buf.data); HAL_FLASH_Lock(); } example.c /* * \u9996\u5148\u786e\u4fdd\u4f60\u8981\u64cd\u4f5c\u7684\u7684Flash\u533a\u57df\u662f\u521a\u64e6\u9664\u8fc7\u7684(\u5168\u4e3a1)\uff0c\u4e3a\u5b9e\u73b0\u8fd9\u4e2a\u76ee\u7684\uff0c\u4f60\u53ef\u4ee5\u53ea\u8c03\u7528easer_flash()\u51fd\u6570\uff0c\u5c06\u7279\u5b9a\u7684flash page\u64e6\u9664\uff0c * \u5f53\u7136\u4f60\u9700\u8981\u5148\u8c03\u7528flash_init()\u51fd\u6570\u8bbe\u7f6eflash page\u7684\u9996\u5730\u5740 * \u6570\u636e\u5e27\u683c\u5f0f\u4e3a |0x5A | data1 | data2 | 0xA5| * \u6bcf\u6b21\u5199\u5165\u6570\u636e\u65f6\uff0c\u4f1a\u987a\u6b21\u5bfb\u627e\u6570\u503cFF\uff08\u672a\u5199\u5165\u6570\u636e\u7684\uff09\uff0c\u627e\u5230\u540e\u5199\u5165\u6570\u636e\uff0c\u540c\u65f6\u5c06\u5148\u524d\u7684\u6709\u6548\u6570\u636e\u7f6e\u4e3a0\uff0c\u82e5\u672a\u627e\u5230FF\uff0c\u5219\u8868\u660e\u6570\u636e\u5df2\u5199\u6ee1\uff0c\u5c06\u64e6\u9664\u6574\u9875\uff0c\u4ece\u5934\u5f00\u59cb\u5199 * \u6bcf\u6b21\u8bfb\u51fa\u6570\u636e\u65f6\uff0c\u4f1a\u987a\u6b21\u5bfb\u627e\u6570\u503c5A\uff08\u6709\u6548\u6570\u636e\uff09\uff0c\u7136\u540e\u8bfb\u51fa4\u4e2a\u5b57\u8282\uff0c\u82e5\u672a\u627e\u5230\u6570\u503c5A\uff0c\u5219\u8fd4\u56de\u9519\u8bef\u78010 * */ int main() { // write data into flash writer_u writer; writer.data[0] = 0x11; writer.data[1] = 0x22; write_word_to_flash(writer); // then read it from flash and print it flash_pack_u flash_pack; flash_pack.data = find_used_entry(); usart1_printf(\"%x %x\\n\",flash_pack.buff[1]); usart1_printf(\"%x %x\\n\",flash_pack.buff[2]); }","title":"2. \u5b9e\u73b0\u4ee3\u7801"},{"location":"Embedded System/STM32/stm32_gnu_link_script/","text":"GNU \u94fe\u63a5\u811a\u672c # \u88c5\u8f7d\u5730\u5740\uff1a\u4e8c\u8fdb\u5236\u5e94\u7528\u7a0b\u5e8f\u6587\u4ef6\u5e94\u8be5\u5b58\u50a8\u7684\u5730\u65b9 \u8fd0\u884c\u5730\u5740\uff1a\u7a0b\u5e8f\u8fd0\u884c\u65f6\u5e94\u8be5\u5728\u7684\u5730\u65b9 GNU\u94fe\u63a5\u811a\u672c MEMORY command # The linker's default configuration permits allocation of all available memory. You can override this by using the MEMORY command. The MEMORY command describes the location and size of blocks of memory in the target. You can use it to describe which memory regions may be used by the linker, and which memory regions it must avoid. You can then assign sections to particular memory regions. The linker will set section addresses based on the memory regions, and will warn about regions that become too full. The linker will not shuffle sections around to fit into the available regions. A linker script may contain at most one use of the MEMORY command. However, you can define as many blocks of memory within it as you wish. The syntax is: MEMORY { name [(attr)] : ORIGIN = origin, LENGTH = len ... } Output section LMA # Every section has a virtual address (VMA) and a load address (LMA); see section Basic Linker Script Concepts. The address expression which may appear in an output section description sets the VMA (see section Output section address). The linker will normally set the LMA equal to the VMA.You can change that by using the AT keyword. The expression lma that follows the AT keyword specifies the load address of the section. /* Initialized data sections into \"RAM\" Ram type memory */ .data : { . = ALIGN(4); _sdata = .; /* create a global symbol at data start */ *(.data) /* .data sections */ *(.data*) /* .data* sections */ . = ALIGN(4); _edata = .; /* define a global symbol at data end */ } >RAM AT> FLASH /*\u8fd0\u884c\u5730\u5740\u5728RAM\u4e2d\uff0c\u6267\u884c\u5730\u5740\u5728FLASH\u4e2d*/","title":"GNU\u94fe\u63a5\u811a\u672c"},{"location":"Embedded System/STM32/stm32_gnu_link_script/#gnu","text":"\u88c5\u8f7d\u5730\u5740\uff1a\u4e8c\u8fdb\u5236\u5e94\u7528\u7a0b\u5e8f\u6587\u4ef6\u5e94\u8be5\u5b58\u50a8\u7684\u5730\u65b9 \u8fd0\u884c\u5730\u5740\uff1a\u7a0b\u5e8f\u8fd0\u884c\u65f6\u5e94\u8be5\u5728\u7684\u5730\u65b9 GNU\u94fe\u63a5\u811a\u672c","title":"GNU \u94fe\u63a5\u811a\u672c"},{"location":"Embedded System/STM32/stm32_gnu_link_script/#memory-command","text":"The linker's default configuration permits allocation of all available memory. You can override this by using the MEMORY command. The MEMORY command describes the location and size of blocks of memory in the target. You can use it to describe which memory regions may be used by the linker, and which memory regions it must avoid. You can then assign sections to particular memory regions. The linker will set section addresses based on the memory regions, and will warn about regions that become too full. The linker will not shuffle sections around to fit into the available regions. A linker script may contain at most one use of the MEMORY command. However, you can define as many blocks of memory within it as you wish. The syntax is: MEMORY { name [(attr)] : ORIGIN = origin, LENGTH = len ... }","title":"MEMORY command"},{"location":"Embedded System/STM32/stm32_gnu_link_script/#output-section-lma","text":"Every section has a virtual address (VMA) and a load address (LMA); see section Basic Linker Script Concepts. The address expression which may appear in an output section description sets the VMA (see section Output section address). The linker will normally set the LMA equal to the VMA.You can change that by using the AT keyword. The expression lma that follows the AT keyword specifies the load address of the section. /* Initialized data sections into \"RAM\" Ram type memory */ .data : { . = ALIGN(4); _sdata = .; /* create a global symbol at data start */ *(.data) /* .data sections */ *(.data*) /* .data* sections */ . = ALIGN(4); _edata = .; /* define a global symbol at data end */ } >RAM AT> FLASH /*\u8fd0\u884c\u5730\u5740\u5728RAM\u4e2d\uff0c\u6267\u884c\u5730\u5740\u5728FLASH\u4e2d*/","title":"Output section LMA"},{"location":"Embedded System/STM32/stm32_hal_uart/","text":"STM32\u4e32\u53e3\u64cd\u4f5c-\u4e2d\u65ad # 1.\u4f7f\u7528CubeMX\u8fdb\u884c\u4e32\u53e3\u914d\u7f6e # Note System Core\u914d\u7f6e\u7565 2.\u5f00\u542f\u4e2d\u65ad # \u5728main.c\u4e2d\u6dfb\u52a0 /* USER CODE BEGIN 2 */ // \u4e2d\u65ad\u65b9\u5f0f\u63a5\u6536 \u6700\u540e\u4e00\u4e2a\u53c2\u657010\u8868\u793a\u63a5\u6536\u523010\u4e2a\u5b57\u8282\u624d\u4f1a\u8c03\u7528\u56de\u8c03\u51fd\u6570 HAL_UART_Receive_IT(&huart1, (uint8_t *)aRxBuffer, 10); // DMA\u65b9\u5f0f\u63a5\u6536 \u6700\u540e\u4e00\u4e2a\u53c2\u657010\u8868\u793a\u63a5\u6536\u523010\u4e2a\u5b57\u8282\u624d\u4f1a\u8c03\u7528\u56de\u8c03\u51fd\u6570 /* USER CODE END 2 */ HAL_UART_Receive_DMA(&huart1, usart1_rx_buff, 10); ...... /* USER CODE BEGIN 4 */ // \u4e32\u53e3\u63a5\u6536\u56de\u8c03\u51fd\u6570 void HAL_UART_RxCpltCallback(UART_HandleTypeDef *huart) { HAL_GPIO_TogglePin(GPIOD,GPIO_PIN_7); } /* USER CODE END 4 */","title":"STM32\u5b9a\u65f6\u5668\u7f16\u7a0b\u4e4bPWM"},{"location":"Embedded System/STM32/stm32_hal_uart/#stm32-","text":"","title":"STM32\u4e32\u53e3\u64cd\u4f5c-\u4e2d\u65ad"},{"location":"Embedded System/STM32/stm32_hal_uart/#1cubemx","text":"Note System Core\u914d\u7f6e\u7565","title":"1.\u4f7f\u7528CubeMX\u8fdb\u884c\u4e32\u53e3\u914d\u7f6e"},{"location":"Embedded System/STM32/stm32_hal_uart/#2","text":"\u5728main.c\u4e2d\u6dfb\u52a0 /* USER CODE BEGIN 2 */ // \u4e2d\u65ad\u65b9\u5f0f\u63a5\u6536 \u6700\u540e\u4e00\u4e2a\u53c2\u657010\u8868\u793a\u63a5\u6536\u523010\u4e2a\u5b57\u8282\u624d\u4f1a\u8c03\u7528\u56de\u8c03\u51fd\u6570 HAL_UART_Receive_IT(&huart1, (uint8_t *)aRxBuffer, 10); // DMA\u65b9\u5f0f\u63a5\u6536 \u6700\u540e\u4e00\u4e2a\u53c2\u657010\u8868\u793a\u63a5\u6536\u523010\u4e2a\u5b57\u8282\u624d\u4f1a\u8c03\u7528\u56de\u8c03\u51fd\u6570 /* USER CODE END 2 */ HAL_UART_Receive_DMA(&huart1, usart1_rx_buff, 10); ...... /* USER CODE BEGIN 4 */ // \u4e32\u53e3\u63a5\u6536\u56de\u8c03\u51fd\u6570 void HAL_UART_RxCpltCallback(UART_HandleTypeDef *huart) { HAL_GPIO_TogglePin(GPIOD,GPIO_PIN_7); } /* USER CODE END 4 */","title":"2.\u5f00\u542f\u4e2d\u65ad"},{"location":"Embedded System/STM32/stm32_initcall_gcc/","text":"STM32 initcall\u673a\u5236 # GNU Linker .icode : { . = ALIGN(4); KEEP(*(.icode)) . = ALIGN(4); } >FLASH","title":"STM32 initcall\u673a\u5236-GCC"},{"location":"Embedded System/STM32/stm32_initcall_gcc/#stm32-initcall","text":"GNU Linker .icode : { . = ALIGN(4); KEEP(*(.icode)) . = ALIGN(4); } >FLASH","title":"STM32 initcall\u673a\u5236"},{"location":"Embedded System/STM32/stm32_initcall_keil/","text":"STM32\u4e0a\u7684\u5b9e\u73b0initcall\u673a\u5236 # \u7c7b\u4f3c\u4e8elinux\u9a71\u52a8\u6a21\u5757\u6846\u67b6module_init(init_fun)\uff0c\u8be5\u65b9\u6cd5\u5728Linux\u5185\u6838\u4e2d\u53eb\u505a\u201cinitcall\u673a\u5236\u201d\u3002 1. \u8bbe\u8ba1\u601d\u60f3 # \u5229\u7528\u7f16\u8bd1\u5668\u7684\u7279\u6027\uff0c\u5728\u7a0b\u5e8f\u7f16\u8bd1\u65f6\u5c06\u5404\u6a21\u5757\u521d\u59cb\u5316\u51fd\u6570\u987a\u5e8f\u5b58\u653e\u5230\u5185\u5b58\u7684\u6307\u5b9a\u5730\u5740\uff0c\u7136\u540e\u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6\uff0c\u4ece\u8fd9\u5757\u5185\u5b58\u533a\u57df\u4e2d\u4f9d\u6b21\u8c03\u7528\u5404\u6a21\u5757\u7684\u521d\u59cb\u5316\u51fd\u6570\uff0c\u81ea\u52a8\u5b8c\u6210\u5404\u4e2a\u6a21\u5757\u7684\u521d\u59cb\u5316\u5de5\u4f5c\uff0c\u589e\u5f3a\u4e86\u7a0b\u5e8f\u7684\u9ad8\u5185\u805a\u4f4e\u8026\u5408\u7279\u6027\uff0c\u63d0\u9ad8\u4e86\u8f6f\u4ef6\u7684\u8d28\u91cf\u3002 \u8bd5\u9a8c\u73af\u5883\uff1a # \u5de5\u5177\u94fe\uff1aKeil5 \u5f00\u53d1\u677f\uff1aSTM32F103ZE 2. \u4fee\u6539\u94fe\u63a5\u811a\u672c # \u4fee\u6539\u94fe\u63a5\u811a\u672c\u7684\u76ee\u7684\u662f\uff1a\u65b0\u5b9a\u4e49\u4e00\u4e2a\u201c\u7a0b\u5e8f\u6bb5\u201d\uff0c\u8be5\u6bb5\u7528\u6765\u5b58\u653e\u5404\u4e2a\u6a21\u5757\u7684\u521d\u59cb\u5316\u51fd\u6570\uff08\u6307\u9488\uff09\u3002 \u9996\u5148\u6211\u4eec\u770b\u4e00\u4e0b\u539f\u672c\u7684\u94fe\u63a5\u811a\u672c\u3002 \u5728Keil\u4e2d\u65b0\u5efa\u4e00\u4e2a\u5de5\u7a0b\uff0c\u7f16\u8bd1\u540e\u5728\u5de5\u7a0b\u76ee\u5f55\u4e0b\u7684Objects\u6587\u4ef6\u5939\u4e2d\u4f1a\u81ea\u52a8\u751f\u6210\u4e00\u4e2a\u4ee5.sct\u7ed3\u5c3e\u7684\u94fe\u63a5\u811a\u672c\uff0c \u5176\u5185\u5bb9\u5982\u4e0b\uff1a ; ************************************************************* ; *** Scatter-Loading Description File generated by uVision *** ; ************************************************************* LR_IROM1 0x08000000 0x00080000 { ; load region size_region ER_IROM1 0x08000000 0x00080000 { ; load address = execution address *.o (RESET, +First) *(InRoot$$Sections) .ANY (+RO) .ANY (+XO) } ; \u6b64\u533a\u57df(RW_IRAM1)\u4f7f\u7528\u6240\u6709\u7684\u5185\u5b58\uff0864KB\uff09 RW_IRAM1 0x20000000 0x00010000 { ; RW data .ANY (+RW +ZI) } } \u4e0b\u9762\u6211\u4eec\u5728\u94fe\u63a5\u811a\u672c\u4e2d\u65b0\u589e\u52a0\u4e00\u4e2aRW_IRAM2\u6bb5\uff0c\u5e76\u4e14\u8bbe\u7f6eRW_IRAM1\u6bb5\u5927\u5c0f\u4e3a48K\uff0cRW_IRAM2\u6bb5\u5927\u5c0f\u4e3a16K\u3002 RW_IRAM2\u6bb5\uff080x2000c000~0x00004000\uff09\u7528\u6765\u987a\u5e8f\u5b58\u653e\u5404\u6a21\u5757\u7684\u521d\u59cb\u5316\u51fd\u6570\uff0c\u8be5\u6bb5\u5728STM32\u8fd0\u884c\u65f6\u4f1a\u88ab\u653e\u5230\u76f8\u5e94\u7684 \u5185\u5b58\u533a\u57df \u3002 \u793a\u4f8b\u6e90\u7801\u5982\u4e0b\uff1a ; ************************************************************* ; *** Scatter-Loading Description File generated by uVision *** ; ************************************************************* LR_IROM1 0x08000000 0x00080000 { ; load region size_region ER_IROM1 0x08000000 0x00080000 { ; load address = execution address *.o (RESET, +First) *(InRoot$$Sections) .ANY (+RO) .ANY (+XO) } ;RW_IRAM1\u4e3a48K\uff0c\u4f9b\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528 RW_IRAM1 0x20000000 0x0000c000 { ; RW data .ANY (+RW +ZI) } ;RW_IRAM2\u4e3a16K\uff0c\u7528\u4e8e\u5b58\u653e\u5404\u4e2a\u6a21\u5757\u7684\u521d\u59cb\u5316\u51fd\u6570 RW_IRAM2 0x2000c000 0x00004000 { ; RW data *.o(RAMCODE) } } \u5bf9\u4e8e\u53ea\u8bfb\u7684\u53d8\u91cf\u4e5f\u53ef\u4ee5\u5c06\u5176\u5b58\u653e\u5230Flash\uff0c\u53ea\u9700\u5c06\u6bb5\u5730\u5740\u6539\u4e3aFlash\u7684\u5730\u5740\uff080x08000000~0x00080000\uff09\u5373\u53ef\u3002 \u66f4\u8be6\u7ec6\u7684ARM Compiler\u94fe\u63a5\u811a\u672c\u8bed\u6cd5\uff0c\u8bf7\u67e5\u9605ARM\u5b98\u65b9\u6587\u6863\uff1a Scatter File Syntax \u53cb\u60c5\u63d0\u793a\uff1a keil\u4e2d\u94fe\u63a5\u811a\u672c\u7684\u4fee\u6539\u65b9\u6cd5\u5982\u4e0b\u56fe\u6240\u793a\uff1a \u4e0a\u8ff0\u64cd\u4f5c\u4e4b\u540e\uff0c\u94fe\u63a5\u811a\u672c\u6587\u4ef6\u5c06\u4f1a\u5728Keil\u7684\u7f16\u8f91\u5668\u4e2d\u88ab\u6253\u5f00\u3002 3. \u5c06\u6307\u5b9a\u7684\u51fd\u6570\u5b58\u653e\u5230\u6307\u5b9a\u7684\u7a0b\u5e8f\u6bb5 # \u4e0a\u9762\u6211\u4eec\u5bf9STM32\u7684\u5185\u5b58\u8fdb\u884c\u4e86\u5206\u914d\uff08\u94fe\u63a5\u811a\u672c\u4e2d\u7684\u5206\u6bb5\uff09\uff0c16K\u5927\u5c0f\u7684RW_IRAM2\u5185\u5b58\u533a\u57df\u5c06\u88ab\u7528\u6765\u5b58\u50a8\u521d\u59cb\u5316\u51fd\u6570\uff0c \u90a3\u4e48\u600e\u4e48\u624d\u80fd\u5c06\u6307\u5b9a\u7684\u51fd\u6570\u653e\u8fdb\u8fd9\u4e2a\u533a\u57df\u5462\uff1f 3.1 \u5b9e\u73b0\u65b9\u6cd5 # // \u521d\u59cb\u5316\u51fd\u6570\u7684\u539f\u578b\uff0c\u51fd\u6570\u539f\u578b\u53ef\u6839\u636e\u5b9e\u9645\u9700\u6c42\u8c03\u6574 typedef void (*init_function_list)(uint8_t taskID); // \u901a\u8fc7MODULE_INIT(func)\uff0cfunc\u51fd\u6570\u5728\u7f16\u8bd1\u65f6\u5c06\u4f1a\u88ab\u94fe\u63a5\u5230RAMCODE\u5185\u5b58\u533a\uff0c\u65e2\u6211\u4eec\u4e3a\u521d\u59cb\u5316\u51fd\u6570\u9884\u5148\u5206\u914d\u7684\u5185\u5b58\u533a\u57df #define _init __attribute__((used, section(\"RAMCODE\"))) #define MODULE_INIT(func) init_function_list _fn_##func _init = func 3.2 \u89e3\u91ca # // \u5c06\u6307\u5b9a\u7684\u4ee3\u7801\u653e\u5230\u6307\u5b9a\u7684\u6bb5 __attribute__((section(\"section_name\"))) // \u544a\u8bc9\u7f16\u8bd1\u5668\u4e0d\u8981\u4f18\u5316\u8be5\u4ee3\u7801\uff0c\u5373\u4f7f\u5b83\u6ca1\u6709\u88ab\u5f15\u7528 __attribute__((used)) // \u8fd9\u4e24\u4e2a\u5c5e\u6027\u53ef\u4ee5\u4e00\u8d77\u4f7f\u7528 __attribute__((used, section(\"RAMCODE\"))) // \u5c55\u5f00\u5b8fMODULE_INIT(func) // \u5176\u5b9e\u5c31\u662f\u58f0\u660e\u4e00\u4e2ainit_function_list\u7c7b\u578b\u7684\u51fd\u6570\u6307\u9488_fn_func\uff1b // \u5e76\u4e14\u4f7f\u7528__attribute__((used, section(\"RAMCODE\")))\u4fee\u9970\u6307\u9488\u53d8\u91cf_fn_func\uff0c\u4f7f\u8be5\u53d8\u91cf\u4fdd\u5b58\u5728\"RAMCODE\"\u6bb5\uff1b // \u7136\u540e_fn_func = func\u3002 init_function_list _fn_func __attribute__((used, section(\"RAMCODE\"))) = func \u66f4\u8be6\u7ec6\u7684\u4fe1\u606f\u8bf7\u67e5\u9605ARM\u5b98\u65b9\u6587\u6863\uff0c\u76f8\u5173\u94fe\u63a5\u5982\u4e0b\uff1a __attribute__((section(\"name\"))) function attribute __attribute__((used)) function attribute 3.3 \u5b58\u653e\u7684\u987a\u5e8f # \u56e0\u4e3a\u8be5\u65b9\u6cd5\u662f\u5229\u7528\u7f16\u8bd1\u5668\u7684\u7279\u6027\uff0c\u6240\u4ee5\u5f53\u6709\u591a\u4e2a MODULE_INIT(func) \u65f6\uff0c\u5148\u88ab\u7f16\u8bd1\u7684\u5c06\u5b58\u653e\u5728\u524d\u9762\uff08\u4f4e\u5730\u5740\uff09\u3002 \u4f46\u662f\u6a21\u5757\u7684\u521d\u59cb\u5316\u6709\u987a\u5e8f\u8981\u6c42\u600e\u4e48\u529e\uff1f \u6709\u65f6\u4e00\u4e2a\u6a21\u5757\u7684\u6b63\u5e38\u4f7f\u7528\u5fc5\u987b\u5728\u67d0\u4e2a\u6a21\u5757\u521d\u59cb\u5316\u4e4b\u540e\uff0c\u6bd4\u5982\u4e00\u4e2a\u6a21\u5757\u9700\u8981\u6253\u5370Log\uff0c\u90a3\u4e48Log\u6a21\u5757\u5fc5\u987b\u5728\u5b83\u4e4b\u524d\u88ab\u521d\u59cb\u5316\u3002 \u600e\u4e48\u89e3\u51b3\u4e86\uff1f \u5176\u5b9e\u5f88\u7b80\u5355\uff0c\u5728\u8c03\u7528\u521d\u59cb\u5316\u51fd\u6570\u65f6\uff0c\u6211\u4eec\u662f\u6839\u636e\u5185\u5b58\u5730\u5740\u987a\u5e8f\u8c03\u7528\u7684\uff0c\u90a3\u4e48\u5c06Log\u6a21\u5757\u7684\u521d\u59cb\u5316\u51fd\u6570\u653e\u5728\u5176\u524d\u9762\u5c31\u53ef\u4ee5\u4e86\u3002 \u5728Keil\u4e2d\u53ef\u4ee5\u8fd9\u4e48\u505a\uff1a \u8fd8\u6709\u4e00\u79cd\u65b9\u6cd5\u5c31\u662f\uff0c\u5206\u4e3a\u591a\u4e2a\u521d\u59cb\u5316\u51fd\u6570\u7a0b\u5e8f\u6bb5\uff0c\u6bd4\u5982\uff1a RAMCODE1 RAMCODE2 RAMCODE3 RAMCODE4 \u5c06\u9700\u8981\u5148\u521d\u59cb\u5316\u7684\u6a21\u5757\u653e\u5230\u9760\u524d\u7684\u7a0b\u5e8f\u6bb5\u4e2d\u3002 \u5728\u7a0b\u5e8f\u8fd0\u884c\u7684\u65f6\u5019\uff0c\u5148\u8c03\u7528 RAMCODE1 \u6bb5\u4e2d\u7684\u521d\u59cb\u5316\u51fd\u6570\uff0c\u7136\u540e\u8c03\u7528 RAMCODE2 \u6bb5\u4e2d\u7684\u521d\u59cb\u5316\u51fd\u6570\uff0c\u4f9d\u6b21\u6267\u884c\u3002 \u5c0f\u7f16\u6709\u8bdd\u8bf4\uff1a MODULE_INIT(func) \u65b9\u6cd5\uff08\u6216\u8005\u8bf4initcall\u673a\u5236\uff09\uff0c\u4e3b\u8981\u662f\u5e94\u7528\u4e8e\u5404\u4e2a\u72ec\u7acb\u6a21\u5757\u7684\u521d\u59cb\u5316\uff0c\u5176\u521d\u8877\u5c31\u662f\u4e3a\u4e86\u964d\u4f4e\u8026\u5408\u3002\u5982\u679c\u5728\u8bbe\u8ba1\u7a0b\u5e8f\u65f6\u5404\u4e2a\u521d\u59cb\u5316\u6a21\u5757\u4f9d\u7136\u76f8\u4e92\u4f9d\u8d56\uff0c\u90a3\u4e48\u5c31\u8fdd\u80cc\u4e86\u6211\u4eec\u7684\u521d\u8877\uff08\u5373\u4f7f\u53ef\u4ee5\u901a\u8fc7\u7f16\u8bd1\u987a\u5e8f\u89e3\u51b3\uff09\uff0c\u6240\u4ee5\u5728\u8bbe\u8ba1\u7a0b\u5e8f\u65f6\u4e00\u5b9a\u8981\u6ce8\u610f\u3002 4. \u7edf\u4e00\u8c03\u7528\u521d\u59cb\u5316\u51fd\u6570 # \u5c06\u6240\u6709\u7684\u521d\u59cb\u5316\u51fd\u6570\u90fd\u5199\u8fdb\u7279\u5b9a\u5185\u5b58\u533a\u57df\u540e\uff0c\u6211\u4eec\u53ea\u9700\u77e5\u9053\u8fd9\u4e2a\u533a\u57df\u7684\u8d77\u6b62\u5730\u5740\uff0c\u5c31\u53ef\u4ee5\u7edf\u4e00\u904d\u5386\u8c03\u7528\u6240\u6709\u7684\u521d\u59cb\u5316\u51fd\u6570\uff0c \u4ece\u800c\u5b9e\u73b0\u5bf9\u5404\u4e2a\u6a21\u5757\u7684\u521d\u59cb\u5316\u3002 typedef void (*init_function_list)(uint8_t taskID); void do_init(void) { uint8_t taskID = 0; init_function_list *call = (init_function_list *)&Image$$RW_IRAM2$$Base; // RW_IRAM2\u6bb5\u7684\u8d77\u59cb\u5730\u5740 init_function_list *end = (init_function_list *)&Image$$RW_IRAM2$$Limit; // RW_IRAM2\u6bb5\u7684\u7ed3\u675f\u5730\u5740 do { (*call)(taskID++); call++; }while(call < end); } \u5173\u4e8eARM\u94fe\u63a5\u5668\u6807\u53f7\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u67e5\u9605ARM\u5b98\u65b9\u6587\u6863\uff1a Image$$ execution region symbols 5. \u4f7f\u7528\u4e3e\u4f8b # Talk is cheap. Show me the code. \u5b8c\u6574\u793a\u4f8b\u5de5\u7a0b\u6e90\u7801\u8bf7\u70b9\u51fb\u4e0b\u8f7d module1.c,module2.c,module3.c \u4e3a3\u4e2a\u72ec\u7acb\u7684\u6a21\u5757\uff0c\u5176\u521d\u59cb\u5316\u51fd\u6570\u90fd\u4e3a\u5185\u90e8\u51fd\u6570(\u4f7f\u7528static\u4fee\u9970)\uff0c\u7b26\u5408\u9ad8\u5185\u805a\u4f4e\u8026\u5408\u7684\u8f6f\u4ef6\u8bbe\u8ba1\u601d\u60f3 main.c\u4e2d\uff0cdo_init\u51fd\u6570\u76f4\u63a5\u901a\u8fc7\u521d\u59cb\u5316\u51fd\u6570\u7684\u5185\u5b58\u5730\u5740\uff0c\u5bf9\u521d\u59cb\u5316\u51fd\u6570\u9010\u4e2a\u8fdb\u884c\u8c03\u7528 \u7b80\u5355\u793a\u4f8b\u4ee3\u7801\u5982\u4e0b\uff1a module1.c static void module1_init(uint8_t taskID) { // write your code ... } MODULE_INIT(module1_init); module2.c static void module2_init(uint8_t taskID) { // write your code ... } MODULE_INIT(module2_init); module3.c static void module3_init(uint8_t taskID) { // write your code ... } MODULE_INIT(module3_init); main.c void do_init(void) { uint8_t taskID = 0; init_function_list *call = (init_function_list *)&Image$$RW_IRAM2$$Base; init_function_list *end = (init_function_list *)&Image$$RW_IRAM2$$Limit; do { (*call)(taskID++); call++; }while(call < end); } int main() { // init all module in the function do_init(); // write your code ... while(1) { // write your code ... } }","title":"STM32 initcall\u673a\u5236-Keil"},{"location":"Embedded System/STM32/stm32_initcall_keil/#stm32initcall","text":"\u7c7b\u4f3c\u4e8elinux\u9a71\u52a8\u6a21\u5757\u6846\u67b6module_init(init_fun)\uff0c\u8be5\u65b9\u6cd5\u5728Linux\u5185\u6838\u4e2d\u53eb\u505a\u201cinitcall\u673a\u5236\u201d\u3002","title":"STM32\u4e0a\u7684\u5b9e\u73b0initcall\u673a\u5236"},{"location":"Embedded System/STM32/stm32_initcall_keil/#1","text":"\u5229\u7528\u7f16\u8bd1\u5668\u7684\u7279\u6027\uff0c\u5728\u7a0b\u5e8f\u7f16\u8bd1\u65f6\u5c06\u5404\u6a21\u5757\u521d\u59cb\u5316\u51fd\u6570\u987a\u5e8f\u5b58\u653e\u5230\u5185\u5b58\u7684\u6307\u5b9a\u5730\u5740\uff0c\u7136\u540e\u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6\uff0c\u4ece\u8fd9\u5757\u5185\u5b58\u533a\u57df\u4e2d\u4f9d\u6b21\u8c03\u7528\u5404\u6a21\u5757\u7684\u521d\u59cb\u5316\u51fd\u6570\uff0c\u81ea\u52a8\u5b8c\u6210\u5404\u4e2a\u6a21\u5757\u7684\u521d\u59cb\u5316\u5de5\u4f5c\uff0c\u589e\u5f3a\u4e86\u7a0b\u5e8f\u7684\u9ad8\u5185\u805a\u4f4e\u8026\u5408\u7279\u6027\uff0c\u63d0\u9ad8\u4e86\u8f6f\u4ef6\u7684\u8d28\u91cf\u3002","title":"1. \u8bbe\u8ba1\u601d\u60f3"},{"location":"Embedded System/STM32/stm32_initcall_keil/#_1","text":"\u5de5\u5177\u94fe\uff1aKeil5 \u5f00\u53d1\u677f\uff1aSTM32F103ZE","title":"\u8bd5\u9a8c\u73af\u5883\uff1a"},{"location":"Embedded System/STM32/stm32_initcall_keil/#2","text":"\u4fee\u6539\u94fe\u63a5\u811a\u672c\u7684\u76ee\u7684\u662f\uff1a\u65b0\u5b9a\u4e49\u4e00\u4e2a\u201c\u7a0b\u5e8f\u6bb5\u201d\uff0c\u8be5\u6bb5\u7528\u6765\u5b58\u653e\u5404\u4e2a\u6a21\u5757\u7684\u521d\u59cb\u5316\u51fd\u6570\uff08\u6307\u9488\uff09\u3002 \u9996\u5148\u6211\u4eec\u770b\u4e00\u4e0b\u539f\u672c\u7684\u94fe\u63a5\u811a\u672c\u3002 \u5728Keil\u4e2d\u65b0\u5efa\u4e00\u4e2a\u5de5\u7a0b\uff0c\u7f16\u8bd1\u540e\u5728\u5de5\u7a0b\u76ee\u5f55\u4e0b\u7684Objects\u6587\u4ef6\u5939\u4e2d\u4f1a\u81ea\u52a8\u751f\u6210\u4e00\u4e2a\u4ee5.sct\u7ed3\u5c3e\u7684\u94fe\u63a5\u811a\u672c\uff0c \u5176\u5185\u5bb9\u5982\u4e0b\uff1a ; ************************************************************* ; *** Scatter-Loading Description File generated by uVision *** ; ************************************************************* LR_IROM1 0x08000000 0x00080000 { ; load region size_region ER_IROM1 0x08000000 0x00080000 { ; load address = execution address *.o (RESET, +First) *(InRoot$$Sections) .ANY (+RO) .ANY (+XO) } ; \u6b64\u533a\u57df(RW_IRAM1)\u4f7f\u7528\u6240\u6709\u7684\u5185\u5b58\uff0864KB\uff09 RW_IRAM1 0x20000000 0x00010000 { ; RW data .ANY (+RW +ZI) } } \u4e0b\u9762\u6211\u4eec\u5728\u94fe\u63a5\u811a\u672c\u4e2d\u65b0\u589e\u52a0\u4e00\u4e2aRW_IRAM2\u6bb5\uff0c\u5e76\u4e14\u8bbe\u7f6eRW_IRAM1\u6bb5\u5927\u5c0f\u4e3a48K\uff0cRW_IRAM2\u6bb5\u5927\u5c0f\u4e3a16K\u3002 RW_IRAM2\u6bb5\uff080x2000c000~0x00004000\uff09\u7528\u6765\u987a\u5e8f\u5b58\u653e\u5404\u6a21\u5757\u7684\u521d\u59cb\u5316\u51fd\u6570\uff0c\u8be5\u6bb5\u5728STM32\u8fd0\u884c\u65f6\u4f1a\u88ab\u653e\u5230\u76f8\u5e94\u7684 \u5185\u5b58\u533a\u57df \u3002 \u793a\u4f8b\u6e90\u7801\u5982\u4e0b\uff1a ; ************************************************************* ; *** Scatter-Loading Description File generated by uVision *** ; ************************************************************* LR_IROM1 0x08000000 0x00080000 { ; load region size_region ER_IROM1 0x08000000 0x00080000 { ; load address = execution address *.o (RESET, +First) *(InRoot$$Sections) .ANY (+RO) .ANY (+XO) } ;RW_IRAM1\u4e3a48K\uff0c\u4f9b\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528 RW_IRAM1 0x20000000 0x0000c000 { ; RW data .ANY (+RW +ZI) } ;RW_IRAM2\u4e3a16K\uff0c\u7528\u4e8e\u5b58\u653e\u5404\u4e2a\u6a21\u5757\u7684\u521d\u59cb\u5316\u51fd\u6570 RW_IRAM2 0x2000c000 0x00004000 { ; RW data *.o(RAMCODE) } } \u5bf9\u4e8e\u53ea\u8bfb\u7684\u53d8\u91cf\u4e5f\u53ef\u4ee5\u5c06\u5176\u5b58\u653e\u5230Flash\uff0c\u53ea\u9700\u5c06\u6bb5\u5730\u5740\u6539\u4e3aFlash\u7684\u5730\u5740\uff080x08000000~0x00080000\uff09\u5373\u53ef\u3002 \u66f4\u8be6\u7ec6\u7684ARM Compiler\u94fe\u63a5\u811a\u672c\u8bed\u6cd5\uff0c\u8bf7\u67e5\u9605ARM\u5b98\u65b9\u6587\u6863\uff1a Scatter File Syntax \u53cb\u60c5\u63d0\u793a\uff1a keil\u4e2d\u94fe\u63a5\u811a\u672c\u7684\u4fee\u6539\u65b9\u6cd5\u5982\u4e0b\u56fe\u6240\u793a\uff1a \u4e0a\u8ff0\u64cd\u4f5c\u4e4b\u540e\uff0c\u94fe\u63a5\u811a\u672c\u6587\u4ef6\u5c06\u4f1a\u5728Keil\u7684\u7f16\u8f91\u5668\u4e2d\u88ab\u6253\u5f00\u3002","title":"2. \u4fee\u6539\u94fe\u63a5\u811a\u672c"},{"location":"Embedded System/STM32/stm32_initcall_keil/#3","text":"\u4e0a\u9762\u6211\u4eec\u5bf9STM32\u7684\u5185\u5b58\u8fdb\u884c\u4e86\u5206\u914d\uff08\u94fe\u63a5\u811a\u672c\u4e2d\u7684\u5206\u6bb5\uff09\uff0c16K\u5927\u5c0f\u7684RW_IRAM2\u5185\u5b58\u533a\u57df\u5c06\u88ab\u7528\u6765\u5b58\u50a8\u521d\u59cb\u5316\u51fd\u6570\uff0c \u90a3\u4e48\u600e\u4e48\u624d\u80fd\u5c06\u6307\u5b9a\u7684\u51fd\u6570\u653e\u8fdb\u8fd9\u4e2a\u533a\u57df\u5462\uff1f","title":"3. \u5c06\u6307\u5b9a\u7684\u51fd\u6570\u5b58\u653e\u5230\u6307\u5b9a\u7684\u7a0b\u5e8f\u6bb5"},{"location":"Embedded System/STM32/stm32_initcall_keil/#31","text":"// \u521d\u59cb\u5316\u51fd\u6570\u7684\u539f\u578b\uff0c\u51fd\u6570\u539f\u578b\u53ef\u6839\u636e\u5b9e\u9645\u9700\u6c42\u8c03\u6574 typedef void (*init_function_list)(uint8_t taskID); // \u901a\u8fc7MODULE_INIT(func)\uff0cfunc\u51fd\u6570\u5728\u7f16\u8bd1\u65f6\u5c06\u4f1a\u88ab\u94fe\u63a5\u5230RAMCODE\u5185\u5b58\u533a\uff0c\u65e2\u6211\u4eec\u4e3a\u521d\u59cb\u5316\u51fd\u6570\u9884\u5148\u5206\u914d\u7684\u5185\u5b58\u533a\u57df #define _init __attribute__((used, section(\"RAMCODE\"))) #define MODULE_INIT(func) init_function_list _fn_##func _init = func","title":"3.1 \u5b9e\u73b0\u65b9\u6cd5"},{"location":"Embedded System/STM32/stm32_initcall_keil/#32","text":"// \u5c06\u6307\u5b9a\u7684\u4ee3\u7801\u653e\u5230\u6307\u5b9a\u7684\u6bb5 __attribute__((section(\"section_name\"))) // \u544a\u8bc9\u7f16\u8bd1\u5668\u4e0d\u8981\u4f18\u5316\u8be5\u4ee3\u7801\uff0c\u5373\u4f7f\u5b83\u6ca1\u6709\u88ab\u5f15\u7528 __attribute__((used)) // \u8fd9\u4e24\u4e2a\u5c5e\u6027\u53ef\u4ee5\u4e00\u8d77\u4f7f\u7528 __attribute__((used, section(\"RAMCODE\"))) // \u5c55\u5f00\u5b8fMODULE_INIT(func) // \u5176\u5b9e\u5c31\u662f\u58f0\u660e\u4e00\u4e2ainit_function_list\u7c7b\u578b\u7684\u51fd\u6570\u6307\u9488_fn_func\uff1b // \u5e76\u4e14\u4f7f\u7528__attribute__((used, section(\"RAMCODE\")))\u4fee\u9970\u6307\u9488\u53d8\u91cf_fn_func\uff0c\u4f7f\u8be5\u53d8\u91cf\u4fdd\u5b58\u5728\"RAMCODE\"\u6bb5\uff1b // \u7136\u540e_fn_func = func\u3002 init_function_list _fn_func __attribute__((used, section(\"RAMCODE\"))) = func \u66f4\u8be6\u7ec6\u7684\u4fe1\u606f\u8bf7\u67e5\u9605ARM\u5b98\u65b9\u6587\u6863\uff0c\u76f8\u5173\u94fe\u63a5\u5982\u4e0b\uff1a __attribute__((section(\"name\"))) function attribute __attribute__((used)) function attribute","title":"3.2 \u89e3\u91ca"},{"location":"Embedded System/STM32/stm32_initcall_keil/#33","text":"\u56e0\u4e3a\u8be5\u65b9\u6cd5\u662f\u5229\u7528\u7f16\u8bd1\u5668\u7684\u7279\u6027\uff0c\u6240\u4ee5\u5f53\u6709\u591a\u4e2a MODULE_INIT(func) \u65f6\uff0c\u5148\u88ab\u7f16\u8bd1\u7684\u5c06\u5b58\u653e\u5728\u524d\u9762\uff08\u4f4e\u5730\u5740\uff09\u3002 \u4f46\u662f\u6a21\u5757\u7684\u521d\u59cb\u5316\u6709\u987a\u5e8f\u8981\u6c42\u600e\u4e48\u529e\uff1f \u6709\u65f6\u4e00\u4e2a\u6a21\u5757\u7684\u6b63\u5e38\u4f7f\u7528\u5fc5\u987b\u5728\u67d0\u4e2a\u6a21\u5757\u521d\u59cb\u5316\u4e4b\u540e\uff0c\u6bd4\u5982\u4e00\u4e2a\u6a21\u5757\u9700\u8981\u6253\u5370Log\uff0c\u90a3\u4e48Log\u6a21\u5757\u5fc5\u987b\u5728\u5b83\u4e4b\u524d\u88ab\u521d\u59cb\u5316\u3002 \u600e\u4e48\u89e3\u51b3\u4e86\uff1f \u5176\u5b9e\u5f88\u7b80\u5355\uff0c\u5728\u8c03\u7528\u521d\u59cb\u5316\u51fd\u6570\u65f6\uff0c\u6211\u4eec\u662f\u6839\u636e\u5185\u5b58\u5730\u5740\u987a\u5e8f\u8c03\u7528\u7684\uff0c\u90a3\u4e48\u5c06Log\u6a21\u5757\u7684\u521d\u59cb\u5316\u51fd\u6570\u653e\u5728\u5176\u524d\u9762\u5c31\u53ef\u4ee5\u4e86\u3002 \u5728Keil\u4e2d\u53ef\u4ee5\u8fd9\u4e48\u505a\uff1a \u8fd8\u6709\u4e00\u79cd\u65b9\u6cd5\u5c31\u662f\uff0c\u5206\u4e3a\u591a\u4e2a\u521d\u59cb\u5316\u51fd\u6570\u7a0b\u5e8f\u6bb5\uff0c\u6bd4\u5982\uff1a RAMCODE1 RAMCODE2 RAMCODE3 RAMCODE4 \u5c06\u9700\u8981\u5148\u521d\u59cb\u5316\u7684\u6a21\u5757\u653e\u5230\u9760\u524d\u7684\u7a0b\u5e8f\u6bb5\u4e2d\u3002 \u5728\u7a0b\u5e8f\u8fd0\u884c\u7684\u65f6\u5019\uff0c\u5148\u8c03\u7528 RAMCODE1 \u6bb5\u4e2d\u7684\u521d\u59cb\u5316\u51fd\u6570\uff0c\u7136\u540e\u8c03\u7528 RAMCODE2 \u6bb5\u4e2d\u7684\u521d\u59cb\u5316\u51fd\u6570\uff0c\u4f9d\u6b21\u6267\u884c\u3002 \u5c0f\u7f16\u6709\u8bdd\u8bf4\uff1a MODULE_INIT(func) \u65b9\u6cd5\uff08\u6216\u8005\u8bf4initcall\u673a\u5236\uff09\uff0c\u4e3b\u8981\u662f\u5e94\u7528\u4e8e\u5404\u4e2a\u72ec\u7acb\u6a21\u5757\u7684\u521d\u59cb\u5316\uff0c\u5176\u521d\u8877\u5c31\u662f\u4e3a\u4e86\u964d\u4f4e\u8026\u5408\u3002\u5982\u679c\u5728\u8bbe\u8ba1\u7a0b\u5e8f\u65f6\u5404\u4e2a\u521d\u59cb\u5316\u6a21\u5757\u4f9d\u7136\u76f8\u4e92\u4f9d\u8d56\uff0c\u90a3\u4e48\u5c31\u8fdd\u80cc\u4e86\u6211\u4eec\u7684\u521d\u8877\uff08\u5373\u4f7f\u53ef\u4ee5\u901a\u8fc7\u7f16\u8bd1\u987a\u5e8f\u89e3\u51b3\uff09\uff0c\u6240\u4ee5\u5728\u8bbe\u8ba1\u7a0b\u5e8f\u65f6\u4e00\u5b9a\u8981\u6ce8\u610f\u3002","title":"3.3 \u5b58\u653e\u7684\u987a\u5e8f"},{"location":"Embedded System/STM32/stm32_initcall_keil/#4","text":"\u5c06\u6240\u6709\u7684\u521d\u59cb\u5316\u51fd\u6570\u90fd\u5199\u8fdb\u7279\u5b9a\u5185\u5b58\u533a\u57df\u540e\uff0c\u6211\u4eec\u53ea\u9700\u77e5\u9053\u8fd9\u4e2a\u533a\u57df\u7684\u8d77\u6b62\u5730\u5740\uff0c\u5c31\u53ef\u4ee5\u7edf\u4e00\u904d\u5386\u8c03\u7528\u6240\u6709\u7684\u521d\u59cb\u5316\u51fd\u6570\uff0c \u4ece\u800c\u5b9e\u73b0\u5bf9\u5404\u4e2a\u6a21\u5757\u7684\u521d\u59cb\u5316\u3002 typedef void (*init_function_list)(uint8_t taskID); void do_init(void) { uint8_t taskID = 0; init_function_list *call = (init_function_list *)&Image$$RW_IRAM2$$Base; // RW_IRAM2\u6bb5\u7684\u8d77\u59cb\u5730\u5740 init_function_list *end = (init_function_list *)&Image$$RW_IRAM2$$Limit; // RW_IRAM2\u6bb5\u7684\u7ed3\u675f\u5730\u5740 do { (*call)(taskID++); call++; }while(call < end); } \u5173\u4e8eARM\u94fe\u63a5\u5668\u6807\u53f7\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u67e5\u9605ARM\u5b98\u65b9\u6587\u6863\uff1a Image$$ execution region symbols","title":"4. \u7edf\u4e00\u8c03\u7528\u521d\u59cb\u5316\u51fd\u6570"},{"location":"Embedded System/STM32/stm32_initcall_keil/#5","text":"Talk is cheap. Show me the code. \u5b8c\u6574\u793a\u4f8b\u5de5\u7a0b\u6e90\u7801\u8bf7\u70b9\u51fb\u4e0b\u8f7d module1.c,module2.c,module3.c \u4e3a3\u4e2a\u72ec\u7acb\u7684\u6a21\u5757\uff0c\u5176\u521d\u59cb\u5316\u51fd\u6570\u90fd\u4e3a\u5185\u90e8\u51fd\u6570(\u4f7f\u7528static\u4fee\u9970)\uff0c\u7b26\u5408\u9ad8\u5185\u805a\u4f4e\u8026\u5408\u7684\u8f6f\u4ef6\u8bbe\u8ba1\u601d\u60f3 main.c\u4e2d\uff0cdo_init\u51fd\u6570\u76f4\u63a5\u901a\u8fc7\u521d\u59cb\u5316\u51fd\u6570\u7684\u5185\u5b58\u5730\u5740\uff0c\u5bf9\u521d\u59cb\u5316\u51fd\u6570\u9010\u4e2a\u8fdb\u884c\u8c03\u7528 \u7b80\u5355\u793a\u4f8b\u4ee3\u7801\u5982\u4e0b\uff1a module1.c static void module1_init(uint8_t taskID) { // write your code ... } MODULE_INIT(module1_init); module2.c static void module2_init(uint8_t taskID) { // write your code ... } MODULE_INIT(module2_init); module3.c static void module3_init(uint8_t taskID) { // write your code ... } MODULE_INIT(module3_init); main.c void do_init(void) { uint8_t taskID = 0; init_function_list *call = (init_function_list *)&Image$$RW_IRAM2$$Base; init_function_list *end = (init_function_list *)&Image$$RW_IRAM2$$Limit; do { (*call)(taskID++); call++; }while(call < end); } int main() { // init all module in the function do_init(); // write your code ... while(1) { // write your code ... } }","title":"5. \u4f7f\u7528\u4e3e\u4f8b"},{"location":"Embedded System/STM32/stm32_io_drive_42stepper_l298n/","text":"STM32\u4f7f\u7528L298N\u9a71\u52a842\u6b65\u8fdb\u7535\u673a # 1. \u540d\u8bcd\u89e3\u91ca # 42\u6b65\u8fdb\u7535\u673a\u6307\u7684\u662f\u201c2\u76f84\u7ebf\u6b65\u8fdb\u7535\u673a\u201d\uff0c\u6bd4\u5982\u8fd9\u4e2a\u7535\u673a 42\u6b65\u8fdb\u7535\u673a\u7684\u9a71\u52a8\u8282\u62cd Tip \u5c06\u8282\u62cd\u5012\u8fc7\u6765\uff0c\u5373\u53ef\u5b9e\u73b0\u6b65\u8fdb\u7535\u673a\u53cd\u8f6c \u628a\u8282\u62cd\u6574\u7406\u6210\u4e00\u4e2a\u8868\u683c\uff0c\u65b9\u4fbf\u67e5\u9605 \u6b65\u8fdb\u7535\u673a\u5f15\u811a step1 step2 step3 step4 A+ 1 1 0 0 A- 0 0 1 1 B+ 0 1 1 0 B- 1 0 0 1 \u5173\u4e8e\u6b65\u8fdb\u7535\u673a\u7684\u8282\u62cd\uff0c\u901a\u5e38\u4e5f\u8fd9\u4e48\u8868\u793a \u5c06\u4e3a1\uff08\u9ad8\u7535\u5e73\uff09\u7684\u5f15\u811a\u5199\u51fa\u6765\uff0c\u4e3a0\uff08\u4f4e\u7535\u5e73\uff09\u7684\u5f15\u811a\u7701\u7565\u4e0d\u5199 step1: A+B- step2: A+B+ step3: A-B+ step4: A-B- 2. L298N\u9a71\u52a85V\u7535\u673a # Warning L298N\u9a71\u52a85V\u7535\u673a\u65f6\uff0c\u9700\u8981\u5c06+12V \u548c +5V \u7aef\u53e3\u4e00\u8d77\u63a55V\u7535\u6e90 3. \u9a71\u52a8\u7a0b\u5e8f # Tip \u6b65\u8fdb\u7535\u673a\u7684\u65cb\u8f6c\u901f\u5ea6\uff0c\u4e0e\u53d1\u9001\u7684\u8109\u51b2\u9891\u7387\u6210\u6b63\u6bd4 \u5f15\u811a\u6620\u5c04\u5173\u7cfb \u6b65\u8fdb\u7535\u673a\u5f15\u811a STM32\u5f15\u811a A+ A__Pin A- A_B7_Pin B+ B__Pin B- B_B9_Pin \u6b65\u8fdb\u7535\u673a\u6b63\u8f6c HAL_GPIO_WritePin(GPIOB,A__Pin,GPIO_PIN_SET); // 1 HAL_GPIO_WritePin(GPIOB,A_B7_Pin,GPIO_PIN_RESET); // 0 HAL_GPIO_WritePin(GPIOB,B__Pin,GPIO_PIN_RESET); // 0 HAL_GPIO_WritePin(GPIOB,B_B9_Pin,GPIO_PIN_SET); // 1 // very important HAL_Delay(10); HAL_GPIO_WritePin(GPIOB,A__Pin,GPIO_PIN_SET); // 1 HAL_GPIO_WritePin(GPIOB,A_B7_Pin,GPIO_PIN_RESET); // 0 HAL_GPIO_WritePin(GPIOB,B__Pin,GPIO_PIN_SET); // 1 HAL_GPIO_WritePin(GPIOB,B_B9_Pin,GPIO_PIN_RESET); // 0 // very important HAL_Delay(10); HAL_GPIO_WritePin(GPIOB,A__Pin,GPIO_PIN_RESET); // 0 HAL_GPIO_WritePin(GPIOB,A_B7_Pin,GPIO_PIN_SET); // 1 HAL_GPIO_WritePin(GPIOB,B__Pin,GPIO_PIN_SET); // 1 HAL_GPIO_WritePin(GPIOB,B_B9_Pin,GPIO_PIN_RESET); // 0 // very important HAL_Delay(10); HAL_GPIO_WritePin(GPIOB,A__Pin,GPIO_PIN_RESET); // 0 HAL_GPIO_WritePin(GPIOB,A_B7_Pin,GPIO_PIN_SET); // 1 HAL_GPIO_WritePin(GPIOB,B__Pin,GPIO_PIN_RESET); // 0 HAL_GPIO_WritePin(GPIOB,B_B9_Pin,GPIO_PIN_SET); // 1 // very important HAL_Delay(10); \u6b65\u8fdb\u7535\u673a\u53cd\u8f6c HAL_GPIO_WritePin(GPIOB,A__Pin,GPIO_PIN_RESET); // 0 HAL_GPIO_WritePin(GPIOB,A_B7_Pin,GPIO_PIN_SET); // 1 HAL_GPIO_WritePin(GPIOB,B__Pin,GPIO_PIN_RESET); // 0 HAL_GPIO_WritePin(GPIOB,B_B9_Pin,GPIO_PIN_SET); // 1 // very important HAL_Delay(10); HAL_GPIO_WritePin(GPIOB,A__Pin,GPIO_PIN_RESET); // 0 HAL_GPIO_WritePin(GPIOB,A_B7_Pin,GPIO_PIN_SET); // 1 HAL_GPIO_WritePin(GPIOB,B__Pin,GPIO_PIN_SET); // 1 HAL_GPIO_WritePin(GPIOB,B_B9_Pin,GPIO_PIN_RESET); // 0 // very important HAL_Delay(10); HAL_GPIO_WritePin(GPIOB,A__Pin,GPIO_PIN_SET); // 1 HAL_GPIO_WritePin(GPIOB,A_B7_Pin,GPIO_PIN_RESET); // 0 HAL_GPIO_WritePin(GPIOB,B__Pin,GPIO_PIN_SET); // 1 HAL_GPIO_WritePin(GPIOB,B_B9_Pin,GPIO_PIN_RESET); // 0 // very important HAL_Delay(10); HAL_GPIO_WritePin(GPIOB,A__Pin,GPIO_PIN_SET); // 1 HAL_GPIO_WritePin(GPIOB,A_B7_Pin,GPIO_PIN_RESET); // 0 HAL_GPIO_WritePin(GPIOB,B__Pin,GPIO_PIN_RESET); // 0 HAL_GPIO_WritePin(GPIOB,B_B9_Pin,GPIO_PIN_SET); // 1 // very important HAL_Delay(10);","title":"STM32\u63a7\u523642\u6b65\u8fdb\u7535\u673a"},{"location":"Embedded System/STM32/stm32_io_drive_42stepper_l298n/#stm32l298n42","text":"","title":"STM32\u4f7f\u7528L298N\u9a71\u52a842\u6b65\u8fdb\u7535\u673a"},{"location":"Embedded System/STM32/stm32_io_drive_42stepper_l298n/#1","text":"42\u6b65\u8fdb\u7535\u673a\u6307\u7684\u662f\u201c2\u76f84\u7ebf\u6b65\u8fdb\u7535\u673a\u201d\uff0c\u6bd4\u5982\u8fd9\u4e2a\u7535\u673a 42\u6b65\u8fdb\u7535\u673a\u7684\u9a71\u52a8\u8282\u62cd Tip \u5c06\u8282\u62cd\u5012\u8fc7\u6765\uff0c\u5373\u53ef\u5b9e\u73b0\u6b65\u8fdb\u7535\u673a\u53cd\u8f6c \u628a\u8282\u62cd\u6574\u7406\u6210\u4e00\u4e2a\u8868\u683c\uff0c\u65b9\u4fbf\u67e5\u9605 \u6b65\u8fdb\u7535\u673a\u5f15\u811a step1 step2 step3 step4 A+ 1 1 0 0 A- 0 0 1 1 B+ 0 1 1 0 B- 1 0 0 1 \u5173\u4e8e\u6b65\u8fdb\u7535\u673a\u7684\u8282\u62cd\uff0c\u901a\u5e38\u4e5f\u8fd9\u4e48\u8868\u793a \u5c06\u4e3a1\uff08\u9ad8\u7535\u5e73\uff09\u7684\u5f15\u811a\u5199\u51fa\u6765\uff0c\u4e3a0\uff08\u4f4e\u7535\u5e73\uff09\u7684\u5f15\u811a\u7701\u7565\u4e0d\u5199 step1: A+B- step2: A+B+ step3: A-B+ step4: A-B-","title":"1. \u540d\u8bcd\u89e3\u91ca"},{"location":"Embedded System/STM32/stm32_io_drive_42stepper_l298n/#2-l298n5v","text":"Warning L298N\u9a71\u52a85V\u7535\u673a\u65f6\uff0c\u9700\u8981\u5c06+12V \u548c +5V \u7aef\u53e3\u4e00\u8d77\u63a55V\u7535\u6e90","title":"2. L298N\u9a71\u52a85V\u7535\u673a"},{"location":"Embedded System/STM32/stm32_io_drive_42stepper_l298n/#3","text":"Tip \u6b65\u8fdb\u7535\u673a\u7684\u65cb\u8f6c\u901f\u5ea6\uff0c\u4e0e\u53d1\u9001\u7684\u8109\u51b2\u9891\u7387\u6210\u6b63\u6bd4 \u5f15\u811a\u6620\u5c04\u5173\u7cfb \u6b65\u8fdb\u7535\u673a\u5f15\u811a STM32\u5f15\u811a A+ A__Pin A- A_B7_Pin B+ B__Pin B- B_B9_Pin \u6b65\u8fdb\u7535\u673a\u6b63\u8f6c HAL_GPIO_WritePin(GPIOB,A__Pin,GPIO_PIN_SET); // 1 HAL_GPIO_WritePin(GPIOB,A_B7_Pin,GPIO_PIN_RESET); // 0 HAL_GPIO_WritePin(GPIOB,B__Pin,GPIO_PIN_RESET); // 0 HAL_GPIO_WritePin(GPIOB,B_B9_Pin,GPIO_PIN_SET); // 1 // very important HAL_Delay(10); HAL_GPIO_WritePin(GPIOB,A__Pin,GPIO_PIN_SET); // 1 HAL_GPIO_WritePin(GPIOB,A_B7_Pin,GPIO_PIN_RESET); // 0 HAL_GPIO_WritePin(GPIOB,B__Pin,GPIO_PIN_SET); // 1 HAL_GPIO_WritePin(GPIOB,B_B9_Pin,GPIO_PIN_RESET); // 0 // very important HAL_Delay(10); HAL_GPIO_WritePin(GPIOB,A__Pin,GPIO_PIN_RESET); // 0 HAL_GPIO_WritePin(GPIOB,A_B7_Pin,GPIO_PIN_SET); // 1 HAL_GPIO_WritePin(GPIOB,B__Pin,GPIO_PIN_SET); // 1 HAL_GPIO_WritePin(GPIOB,B_B9_Pin,GPIO_PIN_RESET); // 0 // very important HAL_Delay(10); HAL_GPIO_WritePin(GPIOB,A__Pin,GPIO_PIN_RESET); // 0 HAL_GPIO_WritePin(GPIOB,A_B7_Pin,GPIO_PIN_SET); // 1 HAL_GPIO_WritePin(GPIOB,B__Pin,GPIO_PIN_RESET); // 0 HAL_GPIO_WritePin(GPIOB,B_B9_Pin,GPIO_PIN_SET); // 1 // very important HAL_Delay(10); \u6b65\u8fdb\u7535\u673a\u53cd\u8f6c HAL_GPIO_WritePin(GPIOB,A__Pin,GPIO_PIN_RESET); // 0 HAL_GPIO_WritePin(GPIOB,A_B7_Pin,GPIO_PIN_SET); // 1 HAL_GPIO_WritePin(GPIOB,B__Pin,GPIO_PIN_RESET); // 0 HAL_GPIO_WritePin(GPIOB,B_B9_Pin,GPIO_PIN_SET); // 1 // very important HAL_Delay(10); HAL_GPIO_WritePin(GPIOB,A__Pin,GPIO_PIN_RESET); // 0 HAL_GPIO_WritePin(GPIOB,A_B7_Pin,GPIO_PIN_SET); // 1 HAL_GPIO_WritePin(GPIOB,B__Pin,GPIO_PIN_SET); // 1 HAL_GPIO_WritePin(GPIOB,B_B9_Pin,GPIO_PIN_RESET); // 0 // very important HAL_Delay(10); HAL_GPIO_WritePin(GPIOB,A__Pin,GPIO_PIN_SET); // 1 HAL_GPIO_WritePin(GPIOB,A_B7_Pin,GPIO_PIN_RESET); // 0 HAL_GPIO_WritePin(GPIOB,B__Pin,GPIO_PIN_SET); // 1 HAL_GPIO_WritePin(GPIOB,B_B9_Pin,GPIO_PIN_RESET); // 0 // very important HAL_Delay(10); HAL_GPIO_WritePin(GPIOB,A__Pin,GPIO_PIN_SET); // 1 HAL_GPIO_WritePin(GPIOB,A_B7_Pin,GPIO_PIN_RESET); // 0 HAL_GPIO_WritePin(GPIOB,B__Pin,GPIO_PIN_RESET); // 0 HAL_GPIO_WritePin(GPIOB,B_B9_Pin,GPIO_PIN_SET); // 1 // very important HAL_Delay(10);","title":"3. \u9a71\u52a8\u7a0b\u5e8f"},{"location":"Embedded System/STM32/stm32_link_script/","text":"STM32\u94fe\u63a5\u811a\u672c # \u88c5\u8f7d\u5730\u5740\uff1a\u4e8c\u8fdb\u5236\u5e94\u7528\u7a0b\u5e8f\u6587\u4ef6\u5e94\u8be5\u5b58\u50a8\u7684\u5730\u65b9 \u8fd0\u884c\u5730\u5740\uff1a\u7a0b\u5e8f\u8fd0\u884c\u65f6\u5e94\u8be5\u5728\u7684\u5730\u65b9 1.\u5728keil\u4e2d\u67e5\u770b\u9ed8\u8ba4\u7684\u94fe\u63a5\u811a\u672c # Keil\u4e2d\u4f7f\u7528\u7684\u662fARM\u7f16\u8bd1\u5de5\u5177\u94fe\uff0c\u5176\u94fe\u63a5\u811a\u672c\u662fscatter\u6587\u4ef6\u3002 \u4e0a\u8ff0\u64cd\u4f5c\u4e4b\u540e\uff0c\u9ed8\u8ba4\u7684\u94fe\u63a5\u811a\u672c\uff08scatter\u6587\u4ef6\uff09\u5c06\u4f1a\u5728Keil\u7684\u7f16\u8f91\u5668\u4e2d\u88ab\u6253\u5f00\uff0c\u5176\u5185\u5bb9\u5982\u4e0b\u6240\u793a\uff08\u4ee5STM32F103C8T6\u4e3a\u4f8b\uff09\uff1a ; ************************************************************* ; *** Scatter-Loading Description File generated by uVision *** ; ************************************************************* LR_IROM1 0x08000000 0x00010000 { ; load region size_region ER_IROM1 0x08000000 0x00010000 { ; load address = execution address *.o (RESET, +First) *(InRoot$$Sections) .ANY (+RO) .ANY (+XO) } RW_IRAM1 0x20000000 0x00005000 { ; RW data .ANY (+RW +ZI) } } 2. scatter\u6587\u4ef6\u8bed\u6cd5 # Scatter File Syntax","title":"ARM\u7f16\u8bd1\u5668\u94fe\u63a5\u811a\u672c"},{"location":"Embedded System/STM32/stm32_link_script/#stm32","text":"\u88c5\u8f7d\u5730\u5740\uff1a\u4e8c\u8fdb\u5236\u5e94\u7528\u7a0b\u5e8f\u6587\u4ef6\u5e94\u8be5\u5b58\u50a8\u7684\u5730\u65b9 \u8fd0\u884c\u5730\u5740\uff1a\u7a0b\u5e8f\u8fd0\u884c\u65f6\u5e94\u8be5\u5728\u7684\u5730\u65b9","title":"STM32\u94fe\u63a5\u811a\u672c"},{"location":"Embedded System/STM32/stm32_link_script/#1keil","text":"Keil\u4e2d\u4f7f\u7528\u7684\u662fARM\u7f16\u8bd1\u5de5\u5177\u94fe\uff0c\u5176\u94fe\u63a5\u811a\u672c\u662fscatter\u6587\u4ef6\u3002 \u4e0a\u8ff0\u64cd\u4f5c\u4e4b\u540e\uff0c\u9ed8\u8ba4\u7684\u94fe\u63a5\u811a\u672c\uff08scatter\u6587\u4ef6\uff09\u5c06\u4f1a\u5728Keil\u7684\u7f16\u8f91\u5668\u4e2d\u88ab\u6253\u5f00\uff0c\u5176\u5185\u5bb9\u5982\u4e0b\u6240\u793a\uff08\u4ee5STM32F103C8T6\u4e3a\u4f8b\uff09\uff1a ; ************************************************************* ; *** Scatter-Loading Description File generated by uVision *** ; ************************************************************* LR_IROM1 0x08000000 0x00010000 { ; load region size_region ER_IROM1 0x08000000 0x00010000 { ; load address = execution address *.o (RESET, +First) *(InRoot$$Sections) .ANY (+RO) .ANY (+XO) } RW_IRAM1 0x20000000 0x00005000 { ; RW data .ANY (+RW +ZI) } }","title":"1.\u5728keil\u4e2d\u67e5\u770b\u9ed8\u8ba4\u7684\u94fe\u63a5\u811a\u672c"},{"location":"Embedded System/STM32/stm32_link_script/#2-scatter","text":"Scatter File Syntax","title":"2. scatter\u6587\u4ef6\u8bed\u6cd5"},{"location":"Embedded System/STM32/stm32_run_code_in_ram/","text":"STM32\u5728SRAM\u4e2d\u8fd0\u884c\u4ee3\u7801 # \u5c06\u4ee3\u7801\u4e0b\u8f7d\u5230SRAM\u4e2d\uff08\u4ee3\u7801\u4e2d\u9700\u914d\u7f6eVTOR\uff09 \u8bbe\u7f6eSP\u548cPC\u6307\u9488 \u8fd0\u884c\u4ee3\u7801 1. \u5c06\u6240\u6709\u4ee3\u7801\u653e\u8fdbSRAM\u5e76\u8fd0\u884c # \u901a\u5e38\u6211\u4eec\u4f1a\u4f7f\u7528\u8c03\u8bd5\u5668\u5c06\u7a0b\u5e8f\u76f4\u63a5\u4e0b\u8f7d\u5230SRAM\u4e2d\uff0c\u7136\u540e\u4f9d\u9760\u8c03\u8bd5\u5668\u7684\u521d\u59cb\u5316\u6587\u4ef6\u914d\u7f6e\u6808\u6307\u9488\u3001PC\u6307\u9488\u548c\u4e2d\u65ad\u5411\u91cf\u8868\u504f\u79fb\u5730\u5740\uff0c\u4ece\u800c\u5b9e\u73b0\u5728SRAM\u4e2d\u8fd0\u884c\u4ee3\u7801\u3002 \u4e00\u4e2a\u7b80\u5355\u7684\u8865\u6551\u65b9\u6cd5\u662f\uff1a\u76f4\u63a5\u5728Keil\u4e2d\u624b\u52a8\u4fee\u6539SP\u548cPC\u6307\u9488\u3002 1.1 \u90a3\u4e48\u4e3a\u4ec0\u4e48\u9700\u8981\u4eceSRAM\u542f\u52a8 # \u53ef\u80fd\u7684\u539f\u56e0\u6709\u4ee5\u4e0b\u51e0\u70b9\uff08\u53c2\u8003\u8d44\u6599\u300aARM Cortex M3 & M4\u6743\u5a01\u6307\u5357\u300b15.7\u8282 \u4e0b\u8f7d\u5730\u5740 \uff09\uff1a \u6240\u4f7f\u7528\u7684\u8bbe\u5907\u53ef\u80fd\u5177\u6709OTP ROM\uff08\u4ec5\u53ef\u8fdb\u884c\u4e00\u6b21\u7f16\u7a0b\uff09\uff0c\u56e0\u6b64\u5728\u6700\u7ec8\u786e\u5b9a\u524d\uff0c\u662f\u4e0d\u4f1a\u5c06\u7a0b\u5e8f\u7f16\u7a0b\u5230\u82af\u7247\u4e2d\u7684\u3002 \u6709\u4e9b\u5fae\u63a7\u5236\u5668\u4e2d\u6ca1\u6709\u5185\u90e8Flash\u5b58\u50a8\u5668\uff0c\u9700\u8981\u4f7f\u7528\u5916\u90e8\u7684\u5b58\u50a8\u5668\uff0c\u5728\u8f6f\u4ef6\u5f00\u53d1\u671f\u95f4\uff0c\u53ef\u80fd\u4f1a\u60f3\u7528\u5185\u90e8\u7684SRAM\u8fdb\u884c\u6d4b\u8bd5\u3002 \u5bf9\u4e8e\u4ea7\u54c1\u6d4b\u8bd5\u6216\u8005\u7279\u5b9a\u65b9\u9762\u7684\u6d4b\u8bd5\uff0c\u4e0d\u60f3\u6539\u52a8Flash\u4e2d\u73b0\u6709\u7684\u7a0b\u5e8f\u5b9e\u73b0\u67d0\u4e9b\u65b0\u529f\u80fd\u7684\u6d4b\u8bd5\u5de5\u4f5c\uff0c\u6b64\u65f6\u53ef\u4ee5\u5c06\u6d4b\u8bd5\u4ee3\u7801\u4e0b\u8f7d\u5230SRAM\u4e2d\u8fd0\u884c\u3002 \u5bf9\u4e8eFlash\u5b58\u50a8\u5668\u6bd4\u8f83\u5c0f\u7684\u7cfb\u7edf\uff0c\u53ef\u80fd\u60f3\u5728\u542f\u52a8\u9636\u6bb5\u5c06\u7a0b\u5e8f\u4eceFlash\u590d\u5236\u5230SRAM\u4e2d\u4ee5\u63d0\u9ad8\u6027\u80fd\uff0c\u5e76\u5728SRAM\u4e2d\u6267\u884c\u7a0b\u5e8f\u4ee5\u8fbe\u5230\u6700\u4f73\u6027\u80fd\u3002 1.2 \u914d\u7f6e\u65b9\u6cd5 # 1.2.1 # \u91c7\u7528\u4e0a\u8ff0\u65b9\u6cd5\uff0c\u65e0\u8bbaSTM32\u7684\u542f\u52a8\u6a21\u5f0f\u662f\u4eceFlash\u542f\u52a8\u8fd8\u662f\u4eceSRAM\u542f\u52a8\uff0c\u4ee3\u7801\u5747\u53ef\u4ee5\u5728SRAM\u4e2d\u8fd0\u884c\uff0c\u4f46\u662f\u7a0b\u5e8f\u590d\u4f4d\u540e\u4e0d\u80fd\u91cd\u65b0\u8fd0\u884c\u3002\u56e0\u4e3a\u6211\u4eec\u5728\u8c03\u8bd5\u5668\u521d\u59cb\u5316\u6587\u4ef6\u4e2d\u914d\u7f6e\u7684\u6808\u6307\u9488\u3001PC\u6307\u9488\u548c\u4e2d\u65ad\u5411\u91cf\u8868\u504f\u79fb\u5730\u5740\u53ea\u6709\u5728\u542f\u52a8\u8c03\u8bd5\u7684\u65f6\u5019\u624d\u4f1a\u6267\u884c\u914d\u7f6e\u3002 1.2.2 \u8bbe\u7f6e\u4e2d\u65ad\u5411\u91cf\u8868\u504f\u79fb # \u6dfb\u52a0\u5b8f\u5b9a\u4e49 VECT_TAB_SRAM \uff1a \u8be5\u5b8f\u5b9a\u4e49\u5f71\u54cd\u7684\u4ee3\u7801\uff1a // system_stm32f10x.c // SystemInit() #ifdef VECT_TAB_SRAM SCB->VTOR = SRAM_BASE | VECT_TAB_OFFSET; /* Vector Table Relocation in Internal SRAM. */ #else SCB->VTOR = FLASH_BASE | VECT_TAB_OFFSET; /* Vector Table Relocation in Internal FLASH. */ #endif 1.2.1 \u4fee\u6539\u94fe\u63a5\u811a\u672c # \u6309\u7167\u4e0b\u56fe\u6240\u793a\u65b9\u5f0f\uff0c\u5373\u53ef\u5728Keil\u7f16\u8f91\u5668\u4e2d\u6253\u5f00\u94fe\u63a5\u811a\u672c\uff1a \u6253\u5f00\u94fe\u63a5\u811a\u672c\u6587\u4ef6\u540e\uff0c\u5c06\u5185\u5bb9\u4fee\u6539\u5982\u4e0b\uff1a ; \u4ee5STM32F103C8T6\u4e3a\u4f8b ; \u4eceSRAM\u542f\u52a8\u7ec8\u7aef\u5411\u91cf\u8868\uff08RESET\u6bb5\uff09\u5fc5\u987b\u4f4d\u4e8e\u542f\u52a8\u7a7a\u95f4\u76840\u5730\u5740 ; InRoot$$Sections \u5fc5\u987b\u4f4d\u4e8eroot\u533a\u57df\uff08\u6267\u884c\u5730\u5740\u4e0e\u88c5\u8f7d\u5730\u5740\u76f8\u540c\u7684\u533a\u57df\uff09 LR_IROM1 0x20000000 0x00005000 { ;\u88c5\u8f7d\u5730\u5740\u4e3aSRAM\u9996\u5730\u5740 RW_IRAM1 0x20000000 0x00005000 { ;\u6267\u884c\u5730\u5740==\u88c5\u8f7d\u5730\u5740 *.o (RESET, +First) *(InRoot$$Sections) .ANY (+RO) .ANY (+XO) .ANY (+RW +ZI) } } 1.2.2 \u914d\u7f6e\u6808\u6307\u9488\u3001PC\u6307\u9488\u548c\u4e2d\u65ad\u5411\u91cf\u8868\u504f\u79fb # \u7f16\u5199\u8c03\u8bd5\u5668\u521d\u59cb\u5316\u6587\u4ef6RAM.ini\uff0c\u5176\u5185\u5bb9\u5982\u4e0b\uff1a SP = _RDWORD(0x20000000); // \u8bbe\u7f6e\u6808\u6307\u9488 PC = _RDWORD(0x20000004); // \u8bbe\u7f6ePC\u6307\u9488 _WDWORD(0xE000ED08, 0x20000000); // \u8bbe\u7f6e\u4e2d\u65ad\u5411\u91cf\u8868\u504f\u79fb \u6309\u7167\u4e0b\u56fe\u6240\u793a\u65b9\u5f0f\u5c06\u8be5\u521d\u59cb\u5316\u6587\u4ef6\u914d\u7f6e\u5230Keil\u4e2d\uff1a 1.2.3 \u4fee\u6539Keil\u4e2d\u7684Flash Download\u8bbe\u7f6e # \u56e0\u4e3a\u662f\u76f4\u63a5\u4eceSRAM\u542f\u52a8\u5e76\u6267\u884c\u7a0b\u5e8f\uff0c\u4e0d\u9700\u8981\u5bf9Flash\u8fdb\u884c\u64cd\u4f5c\uff0c\u6240\u4ee5\u628aFlash\u76f8\u5173\u64cd\u4f5c\u5168\u90e8\u53bb\u6389\u3002 \u4ee5\u4e0a\u5c31\u662f\u5b8c\u6574\u7684\u914d\u7f6e\uff0c\u73b0\u5728\u7f16\u8bd1\u9879\u76ee\u5e76\u70b9\u51fb\u8c03\u8bd5\uff0c\u5c31\u80fd\u770b\u5230\u7a0b\u5e8f\u6210\u529f\u5728SRAM\u4e2d\u8fd0\u884c\u4e86\u3002 2. \u5c06\u6307\u5b9a\u7684\u4ee3\u7801\u653e\u5230SRAM\u8fd0\u884c # http://emb.hqyj.com/Column/20198162.html pragma arm section code = \"RAMCODE\" \u548c #pragma arm section #","title":"STM32\u5728SRAM\u4e2d\u8fd0\u884c\u4ee3\u7801"},{"location":"Embedded System/STM32/stm32_run_code_in_ram/#stm32sram","text":"\u5c06\u4ee3\u7801\u4e0b\u8f7d\u5230SRAM\u4e2d\uff08\u4ee3\u7801\u4e2d\u9700\u914d\u7f6eVTOR\uff09 \u8bbe\u7f6eSP\u548cPC\u6307\u9488 \u8fd0\u884c\u4ee3\u7801","title":"STM32\u5728SRAM\u4e2d\u8fd0\u884c\u4ee3\u7801"},{"location":"Embedded System/STM32/stm32_run_code_in_ram/#1-sram","text":"\u901a\u5e38\u6211\u4eec\u4f1a\u4f7f\u7528\u8c03\u8bd5\u5668\u5c06\u7a0b\u5e8f\u76f4\u63a5\u4e0b\u8f7d\u5230SRAM\u4e2d\uff0c\u7136\u540e\u4f9d\u9760\u8c03\u8bd5\u5668\u7684\u521d\u59cb\u5316\u6587\u4ef6\u914d\u7f6e\u6808\u6307\u9488\u3001PC\u6307\u9488\u548c\u4e2d\u65ad\u5411\u91cf\u8868\u504f\u79fb\u5730\u5740\uff0c\u4ece\u800c\u5b9e\u73b0\u5728SRAM\u4e2d\u8fd0\u884c\u4ee3\u7801\u3002 \u4e00\u4e2a\u7b80\u5355\u7684\u8865\u6551\u65b9\u6cd5\u662f\uff1a\u76f4\u63a5\u5728Keil\u4e2d\u624b\u52a8\u4fee\u6539SP\u548cPC\u6307\u9488\u3002","title":"1. \u5c06\u6240\u6709\u4ee3\u7801\u653e\u8fdbSRAM\u5e76\u8fd0\u884c"},{"location":"Embedded System/STM32/stm32_run_code_in_ram/#11-sram","text":"\u53ef\u80fd\u7684\u539f\u56e0\u6709\u4ee5\u4e0b\u51e0\u70b9\uff08\u53c2\u8003\u8d44\u6599\u300aARM Cortex M3 & M4\u6743\u5a01\u6307\u5357\u300b15.7\u8282 \u4e0b\u8f7d\u5730\u5740 \uff09\uff1a \u6240\u4f7f\u7528\u7684\u8bbe\u5907\u53ef\u80fd\u5177\u6709OTP ROM\uff08\u4ec5\u53ef\u8fdb\u884c\u4e00\u6b21\u7f16\u7a0b\uff09\uff0c\u56e0\u6b64\u5728\u6700\u7ec8\u786e\u5b9a\u524d\uff0c\u662f\u4e0d\u4f1a\u5c06\u7a0b\u5e8f\u7f16\u7a0b\u5230\u82af\u7247\u4e2d\u7684\u3002 \u6709\u4e9b\u5fae\u63a7\u5236\u5668\u4e2d\u6ca1\u6709\u5185\u90e8Flash\u5b58\u50a8\u5668\uff0c\u9700\u8981\u4f7f\u7528\u5916\u90e8\u7684\u5b58\u50a8\u5668\uff0c\u5728\u8f6f\u4ef6\u5f00\u53d1\u671f\u95f4\uff0c\u53ef\u80fd\u4f1a\u60f3\u7528\u5185\u90e8\u7684SRAM\u8fdb\u884c\u6d4b\u8bd5\u3002 \u5bf9\u4e8e\u4ea7\u54c1\u6d4b\u8bd5\u6216\u8005\u7279\u5b9a\u65b9\u9762\u7684\u6d4b\u8bd5\uff0c\u4e0d\u60f3\u6539\u52a8Flash\u4e2d\u73b0\u6709\u7684\u7a0b\u5e8f\u5b9e\u73b0\u67d0\u4e9b\u65b0\u529f\u80fd\u7684\u6d4b\u8bd5\u5de5\u4f5c\uff0c\u6b64\u65f6\u53ef\u4ee5\u5c06\u6d4b\u8bd5\u4ee3\u7801\u4e0b\u8f7d\u5230SRAM\u4e2d\u8fd0\u884c\u3002 \u5bf9\u4e8eFlash\u5b58\u50a8\u5668\u6bd4\u8f83\u5c0f\u7684\u7cfb\u7edf\uff0c\u53ef\u80fd\u60f3\u5728\u542f\u52a8\u9636\u6bb5\u5c06\u7a0b\u5e8f\u4eceFlash\u590d\u5236\u5230SRAM\u4e2d\u4ee5\u63d0\u9ad8\u6027\u80fd\uff0c\u5e76\u5728SRAM\u4e2d\u6267\u884c\u7a0b\u5e8f\u4ee5\u8fbe\u5230\u6700\u4f73\u6027\u80fd\u3002","title":"1.1 \u90a3\u4e48\u4e3a\u4ec0\u4e48\u9700\u8981\u4eceSRAM\u542f\u52a8"},{"location":"Embedded System/STM32/stm32_run_code_in_ram/#12","text":"","title":"1.2 \u914d\u7f6e\u65b9\u6cd5"},{"location":"Embedded System/STM32/stm32_run_code_in_ram/#121","text":"\u91c7\u7528\u4e0a\u8ff0\u65b9\u6cd5\uff0c\u65e0\u8bbaSTM32\u7684\u542f\u52a8\u6a21\u5f0f\u662f\u4eceFlash\u542f\u52a8\u8fd8\u662f\u4eceSRAM\u542f\u52a8\uff0c\u4ee3\u7801\u5747\u53ef\u4ee5\u5728SRAM\u4e2d\u8fd0\u884c\uff0c\u4f46\u662f\u7a0b\u5e8f\u590d\u4f4d\u540e\u4e0d\u80fd\u91cd\u65b0\u8fd0\u884c\u3002\u56e0\u4e3a\u6211\u4eec\u5728\u8c03\u8bd5\u5668\u521d\u59cb\u5316\u6587\u4ef6\u4e2d\u914d\u7f6e\u7684\u6808\u6307\u9488\u3001PC\u6307\u9488\u548c\u4e2d\u65ad\u5411\u91cf\u8868\u504f\u79fb\u5730\u5740\u53ea\u6709\u5728\u542f\u52a8\u8c03\u8bd5\u7684\u65f6\u5019\u624d\u4f1a\u6267\u884c\u914d\u7f6e\u3002","title":"1.2.1"},{"location":"Embedded System/STM32/stm32_run_code_in_ram/#122","text":"\u6dfb\u52a0\u5b8f\u5b9a\u4e49 VECT_TAB_SRAM \uff1a \u8be5\u5b8f\u5b9a\u4e49\u5f71\u54cd\u7684\u4ee3\u7801\uff1a // system_stm32f10x.c // SystemInit() #ifdef VECT_TAB_SRAM SCB->VTOR = SRAM_BASE | VECT_TAB_OFFSET; /* Vector Table Relocation in Internal SRAM. */ #else SCB->VTOR = FLASH_BASE | VECT_TAB_OFFSET; /* Vector Table Relocation in Internal FLASH. */ #endif","title":"1.2.2 \u8bbe\u7f6e\u4e2d\u65ad\u5411\u91cf\u8868\u504f\u79fb"},{"location":"Embedded System/STM32/stm32_run_code_in_ram/#121_1","text":"\u6309\u7167\u4e0b\u56fe\u6240\u793a\u65b9\u5f0f\uff0c\u5373\u53ef\u5728Keil\u7f16\u8f91\u5668\u4e2d\u6253\u5f00\u94fe\u63a5\u811a\u672c\uff1a \u6253\u5f00\u94fe\u63a5\u811a\u672c\u6587\u4ef6\u540e\uff0c\u5c06\u5185\u5bb9\u4fee\u6539\u5982\u4e0b\uff1a ; \u4ee5STM32F103C8T6\u4e3a\u4f8b ; \u4eceSRAM\u542f\u52a8\u7ec8\u7aef\u5411\u91cf\u8868\uff08RESET\u6bb5\uff09\u5fc5\u987b\u4f4d\u4e8e\u542f\u52a8\u7a7a\u95f4\u76840\u5730\u5740 ; InRoot$$Sections \u5fc5\u987b\u4f4d\u4e8eroot\u533a\u57df\uff08\u6267\u884c\u5730\u5740\u4e0e\u88c5\u8f7d\u5730\u5740\u76f8\u540c\u7684\u533a\u57df\uff09 LR_IROM1 0x20000000 0x00005000 { ;\u88c5\u8f7d\u5730\u5740\u4e3aSRAM\u9996\u5730\u5740 RW_IRAM1 0x20000000 0x00005000 { ;\u6267\u884c\u5730\u5740==\u88c5\u8f7d\u5730\u5740 *.o (RESET, +First) *(InRoot$$Sections) .ANY (+RO) .ANY (+XO) .ANY (+RW +ZI) } }","title":"1.2.1 \u4fee\u6539\u94fe\u63a5\u811a\u672c"},{"location":"Embedded System/STM32/stm32_run_code_in_ram/#122-pc","text":"\u7f16\u5199\u8c03\u8bd5\u5668\u521d\u59cb\u5316\u6587\u4ef6RAM.ini\uff0c\u5176\u5185\u5bb9\u5982\u4e0b\uff1a SP = _RDWORD(0x20000000); // \u8bbe\u7f6e\u6808\u6307\u9488 PC = _RDWORD(0x20000004); // \u8bbe\u7f6ePC\u6307\u9488 _WDWORD(0xE000ED08, 0x20000000); // \u8bbe\u7f6e\u4e2d\u65ad\u5411\u91cf\u8868\u504f\u79fb \u6309\u7167\u4e0b\u56fe\u6240\u793a\u65b9\u5f0f\u5c06\u8be5\u521d\u59cb\u5316\u6587\u4ef6\u914d\u7f6e\u5230Keil\u4e2d\uff1a","title":"1.2.2 \u914d\u7f6e\u6808\u6307\u9488\u3001PC\u6307\u9488\u548c\u4e2d\u65ad\u5411\u91cf\u8868\u504f\u79fb"},{"location":"Embedded System/STM32/stm32_run_code_in_ram/#123-keilflash-download","text":"\u56e0\u4e3a\u662f\u76f4\u63a5\u4eceSRAM\u542f\u52a8\u5e76\u6267\u884c\u7a0b\u5e8f\uff0c\u4e0d\u9700\u8981\u5bf9Flash\u8fdb\u884c\u64cd\u4f5c\uff0c\u6240\u4ee5\u628aFlash\u76f8\u5173\u64cd\u4f5c\u5168\u90e8\u53bb\u6389\u3002 \u4ee5\u4e0a\u5c31\u662f\u5b8c\u6574\u7684\u914d\u7f6e\uff0c\u73b0\u5728\u7f16\u8bd1\u9879\u76ee\u5e76\u70b9\u51fb\u8c03\u8bd5\uff0c\u5c31\u80fd\u770b\u5230\u7a0b\u5e8f\u6210\u529f\u5728SRAM\u4e2d\u8fd0\u884c\u4e86\u3002","title":"1.2.3 \u4fee\u6539Keil\u4e2d\u7684Flash Download\u8bbe\u7f6e"},{"location":"Embedded System/STM32/stm32_run_code_in_ram/#2-sram","text":"http://emb.hqyj.com/Column/20198162.html","title":"2. \u5c06\u6307\u5b9a\u7684\u4ee3\u7801\u653e\u5230SRAM\u8fd0\u884c"},{"location":"Embedded System/STM32/stm32_run_code_in_ram/#pragma-arm-section-code-ramcode-pragma-arm-section","text":"","title":"pragma arm section code = \"RAMCODE\" \u548c #pragma arm section"},{"location":"Embedded System/STM32/stm32_sw_reset/","text":"STM32\u8f6f\u4ef6\u590d\u4f4d # 1.\u8c03\u7528\u5e93\u51fd\u6570 # \u6743\u5a01\u6307\u5357 SCB https://blog.csdn.net/anbaixiu/article/details/81155688 __set_FAULTMASK(1); // \u5173\u95ed\u6240\u6709\u4e2d\u65ad NVIC_SystemReset(); // \u8bbe\u7f6e // cmsis_armcc.h __STATIC_INLINE void __set_FAULTMASK(uint32_t faultMask) { register uint32_t __regFaultMask __ASM(\"faultmask\"); __regFaultMask = (faultMask & (uint32_t)1U); } // core_cm3.h __NO_RETURN __STATIC_INLINE void __NVIC_SystemReset(void) { __DSB(); /* Ensure all outstanding memory accesses included buffered write are completed before reset */ SCB->AIRCR = (uint32_t)((0x5FAUL << SCB_AIRCR_VECTKEY_Pos) | (SCB->AIRCR & SCB_AIRCR_PRIGROUP_Msk) | SCB_AIRCR_SYSRESETREQ_Msk ); /* Keep priority group unchanged */ __DSB(); /* Ensure completion of memory access */ for(;;) /* wait until reset */ { __NOP(); } } 2.\u81ea\u5df1\u7f16\u5199\u6c47\u7f16\u4ee3\u7801 # __asm void SystemReset(void) { MOV R0, #1 //; MSR FAULTMASK, R0 //; \u6e05\u9664FAULTMASK \u7981\u6b62\u4e00\u5207\u4e2d\u65ad\u4ea7\u751f LDR R0, =0xE000ED0C //; LDR R1, =0x05FA0004 //; STR R1, [R0] //; \u7cfb\u7edf\u8f6f\u4ef6\u590d\u4f4d deadloop B deadloop //; \u6b7b\u5faa\u73af\u4f7f\u7a0b\u5e8f\u8fd0\u884c\u4e0d\u5230\u4e0b\u9762\u7684\u4ee3\u7801 }","title":"STM32\u8f6f\u4ef6\u590d\u4f4d"},{"location":"Embedded System/STM32/stm32_sw_reset/#stm32","text":"","title":"STM32\u8f6f\u4ef6\u590d\u4f4d"},{"location":"Embedded System/STM32/stm32_sw_reset/#1","text":"\u6743\u5a01\u6307\u5357 SCB https://blog.csdn.net/anbaixiu/article/details/81155688 __set_FAULTMASK(1); // \u5173\u95ed\u6240\u6709\u4e2d\u65ad NVIC_SystemReset(); // \u8bbe\u7f6e // cmsis_armcc.h __STATIC_INLINE void __set_FAULTMASK(uint32_t faultMask) { register uint32_t __regFaultMask __ASM(\"faultmask\"); __regFaultMask = (faultMask & (uint32_t)1U); } // core_cm3.h __NO_RETURN __STATIC_INLINE void __NVIC_SystemReset(void) { __DSB(); /* Ensure all outstanding memory accesses included buffered write are completed before reset */ SCB->AIRCR = (uint32_t)((0x5FAUL << SCB_AIRCR_VECTKEY_Pos) | (SCB->AIRCR & SCB_AIRCR_PRIGROUP_Msk) | SCB_AIRCR_SYSRESETREQ_Msk ); /* Keep priority group unchanged */ __DSB(); /* Ensure completion of memory access */ for(;;) /* wait until reset */ { __NOP(); } }","title":"1.\u8c03\u7528\u5e93\u51fd\u6570"},{"location":"Embedded System/STM32/stm32_sw_reset/#2","text":"__asm void SystemReset(void) { MOV R0, #1 //; MSR FAULTMASK, R0 //; \u6e05\u9664FAULTMASK \u7981\u6b62\u4e00\u5207\u4e2d\u65ad\u4ea7\u751f LDR R0, =0xE000ED0C //; LDR R1, =0x05FA0004 //; STR R1, [R0] //; \u7cfb\u7edf\u8f6f\u4ef6\u590d\u4f4d deadloop B deadloop //; \u6b7b\u5faa\u73af\u4f7f\u7a0b\u5e8f\u8fd0\u884c\u4e0d\u5230\u4e0b\u9762\u7684\u4ee3\u7801 }","title":"2.\u81ea\u5df1\u7f16\u5199\u6c47\u7f16\u4ee3\u7801"},{"location":"Embedded System/STM32/stm32_tim_dma/","text":"Method 1 # \u914d\u7f6eTIM \u914d\u7f6eDAM for TIM start DAM\uff0c\u6d41\u7a0b\u5982\u4e0b\uff1a // enable HAL_TIM_PWM_Start_DMA -> HAL_DMA_Start_IT -> __HAL_TIM_ENABLE_DMA HAL_TIM_DMABurst_WriteStart HAL_DMA_Start","title":"Stm32 tim dma"},{"location":"Embedded System/STM32/stm32_tim_dma/#method-1","text":"\u914d\u7f6eTIM \u914d\u7f6eDAM for TIM start DAM\uff0c\u6d41\u7a0b\u5982\u4e0b\uff1a // enable HAL_TIM_PWM_Start_DMA -> HAL_DMA_Start_IT -> __HAL_TIM_ENABLE_DMA HAL_TIM_DMABurst_WriteStart HAL_DMA_Start","title":"Method 1"},{"location":"Embedded System/STM32/use_assembly_in_c/","text":"\u5728C\u8bed\u8a00\u4e2d\u4f7f\u7528ARM\u6c47\u7f16\uff08GNU\uff09 # \u53c2\u8003\u94fe\u63a5","title":"\u5728C\u4e2d\u4f7f\u7528ARM\u6c47\u7f16\uff08GNU\uff09"},{"location":"Embedded System/STM32/use_assembly_in_c/#carmgnu","text":"\u53c2\u8003\u94fe\u63a5","title":"\u5728C\u8bed\u8a00\u4e2d\u4f7f\u7528ARM\u6c47\u7f16\uff08GNU\uff09"},{"location":"Embedded System/STM32/tools/jscope_hss/","text":"","title":"JScope HSS\u6a21\u5f0f"},{"location":"Embedded System/STM32/tools/jscope_rtt/","text":"#","title":"JScope RTT\u6a21\u5f0f"},{"location":"Embedded System/STM32/tools/rtt/","text":"","title":"JLink RTT"},{"location":"Embedded System/c&c++/ascii_table/","text":"ASCII Table #","title":"ASCII Table"},{"location":"Embedded System/c&c++/ascii_table/#ascii-table","text":"","title":"ASCII Table"},{"location":"Embedded System/c&c++/c&c++_interview/","text":"1. strlen() #","title":"1. strlen()"},{"location":"Embedded System/c&c++/c&c++_interview/#1-strlen","text":"","title":"1. strlen()"},{"location":"Embedded System/c&c++/c_c++_call_each_other/","text":"C\u4e0eC++\u76f8\u4e92\u8c03\u7528 # 1.\u7f16\u8bd1\u65b9\u5f0f # gcc\u548cg++\u90fd\u53ef\u4ee5\u7f16\u8bd1C\u6587\u4ef6\u548cC++\u6587\u4ef6\u3002 gcc\u4f1a\u6309\u7167C\u7684\u65b9\u5f0f\u53bb\u7f16\u8bd1C\u6587\u4ef6\uff0c\u4f1a\u6309\u7167C++\u7684\u65b9\u5f0f\u53bb\u7f16\u8bd1C++\u6587\u4ef6\uff1b g++\u4f1a\u6309\u7167C++\u7684\u65b9\u5f0f\u53bb\u7f16\u8bd1C\u6587\u4ef6\u548cC++\u6587\u4ef6\u3002 \u9a8c\u8bc1\u4ee5\u4e0a\u8bf4\u6cd5\uff1a gcc -c test.c # \u67e5\u770b\u7b26\u53f7\u8868 nm test.o B \u8be5\u7b26\u53f7\u5728bss\u6bb5 T \u8be5\u7b26\u53f7\u5728text\u6bb5 U \u8be5\u7b26\u53f7\u672a\u5b9a\u4e49 man nm # gcc\u4e0d\u4f1a\u81ea\u52a8\u94fe\u63a5C++\u5e93\uff0c\u6240\u4ee5\u9700\u8981\u52a0\u4e0a gcc -c test.cpp # \u67e5\u770b\u7b26\u53f7\u8868 nm test.o extern \"C\" \u662fg++\u624d\u6709\u7684\u5173\u952e\u5b57\u3002 2. C++\u8c03\u7528C\u51fd\u6570 # #ifdef _cplusplus extern \"C\" { void printf(); } #else #endif 3. C\u8c03\u7528C++\u51fd\u6570 # 3.1 C\u8c03\u7528C++\u666e\u901a\u51fd\u6570 # 3.2 C\u8c03\u7528C++\u91cd\u8f7d\u51fd\u6570 # \u4f7f\u7528extern \"C\"\u662f\u8981\u544a\u8bc9\u7f16\u8bd1\u5668\u6309\u7167C\u7684\u65b9\u5f0f\u6765\u7f16\u8bd1\u5c01\u88c5\u63a5\u53e3\uff0c\u63a5\u53e3\u91cc\u9762\u7684\u51fd\u6570\u8fd8\u662f\u6309\u7167c++\u7684\u8bed\u6cd5\u548cC++\u65b9\u5f0f\u7f16\u8bd1\u3002 extern \"C\" int add_c(int a, int b){ add(a,b); } 3.3 C\u8c03\u7528C++\u6210\u5458\u51fd\u6570 #","title":"C\u4e0eC++\u76f8\u4e92\u8c03\u7528"},{"location":"Embedded System/c&c++/c_c++_call_each_other/#cc","text":"","title":"C\u4e0eC++\u76f8\u4e92\u8c03\u7528"},{"location":"Embedded System/c&c++/c_c++_call_each_other/#1","text":"gcc\u548cg++\u90fd\u53ef\u4ee5\u7f16\u8bd1C\u6587\u4ef6\u548cC++\u6587\u4ef6\u3002 gcc\u4f1a\u6309\u7167C\u7684\u65b9\u5f0f\u53bb\u7f16\u8bd1C\u6587\u4ef6\uff0c\u4f1a\u6309\u7167C++\u7684\u65b9\u5f0f\u53bb\u7f16\u8bd1C++\u6587\u4ef6\uff1b g++\u4f1a\u6309\u7167C++\u7684\u65b9\u5f0f\u53bb\u7f16\u8bd1C\u6587\u4ef6\u548cC++\u6587\u4ef6\u3002 \u9a8c\u8bc1\u4ee5\u4e0a\u8bf4\u6cd5\uff1a gcc -c test.c # \u67e5\u770b\u7b26\u53f7\u8868 nm test.o B \u8be5\u7b26\u53f7\u5728bss\u6bb5 T \u8be5\u7b26\u53f7\u5728text\u6bb5 U \u8be5\u7b26\u53f7\u672a\u5b9a\u4e49 man nm # gcc\u4e0d\u4f1a\u81ea\u52a8\u94fe\u63a5C++\u5e93\uff0c\u6240\u4ee5\u9700\u8981\u52a0\u4e0a gcc -c test.cpp # \u67e5\u770b\u7b26\u53f7\u8868 nm test.o extern \"C\" \u662fg++\u624d\u6709\u7684\u5173\u952e\u5b57\u3002","title":"1.\u7f16\u8bd1\u65b9\u5f0f"},{"location":"Embedded System/c&c++/c_c++_call_each_other/#2-cc","text":"#ifdef _cplusplus extern \"C\" { void printf(); } #else #endif","title":"2. C++\u8c03\u7528C\u51fd\u6570"},{"location":"Embedded System/c&c++/c_c++_call_each_other/#3-cc","text":"","title":"3. C\u8c03\u7528C++\u51fd\u6570"},{"location":"Embedded System/c&c++/c_c++_call_each_other/#31-cc","text":"","title":"3.1 C\u8c03\u7528C++\u666e\u901a\u51fd\u6570"},{"location":"Embedded System/c&c++/c_c++_call_each_other/#32-cc","text":"\u4f7f\u7528extern \"C\"\u662f\u8981\u544a\u8bc9\u7f16\u8bd1\u5668\u6309\u7167C\u7684\u65b9\u5f0f\u6765\u7f16\u8bd1\u5c01\u88c5\u63a5\u53e3\uff0c\u63a5\u53e3\u91cc\u9762\u7684\u51fd\u6570\u8fd8\u662f\u6309\u7167c++\u7684\u8bed\u6cd5\u548cC++\u65b9\u5f0f\u7f16\u8bd1\u3002 extern \"C\" int add_c(int a, int b){ add(a,b); }","title":"3.2 C\u8c03\u7528C++\u91cd\u8f7d\u51fd\u6570"},{"location":"Embedded System/c&c++/c_c++_call_each_other/#33-cc","text":"","title":"3.3 C\u8c03\u7528C++\u6210\u5458\u51fd\u6570"},{"location":"Embedded System/c&c++/c_compiler/","text":"\u7f16\u8bd1\u5668\u76f8\u5173 # \u53ea\u7f16\u8bd1\u4e0d\u94fe\u63a5 gcc -c test.c // \u9ed8\u8ba4\u8f93\u51fa\uff1a test.o \u67e5\u770b\u76ee\u6807\u6620\u50cf\u6587\u4ef6(ELF\u6587\u4ef6)\u4e2d\u7684\u5173\u952e\u6bb5\u4fe1\u606f\uff08\u5e76\u6ca1\u6709\u5c06\u6240\u6709\u7684\u6bb5\u4fe1\u606f\u90fd\u6253\u5370\u51fa\u6765\uff09 objdump -h test.o \u5c06\u6240\u6709\u7684\u6bb5\u4fe1\u606f\u6253\u5370\u51fa\u6765 readelf -S test.o \u67e5\u770bELF\u6587\u4ef6\u4e2d\u5404\u6bb5\u7684\u5927\u5c0f size test.o \u5c06\u6240\u6709\u6bb5\u7684\u4fe1\u606f\u4ee516\u8fdb\u5236\u7684\u5f62\u5f0f\u6253\u5370\u51fa\u6765 objdump -s test.o \u53cd\u6c47\u7f16 objdump -d test.o \u8bfb\u53d6ELF\u6587\u4ef6\u5934\u4fe1\u5fc3 readelf -h test.o \u67e5\u770b\u7b26\u53f7\u8868 # \u67e5\u770b\u7b26\u53f7\u8868 $ nm test.o $ nm a.out B \u8be5\u7b26\u53f7\u5728bss\u6bb5 T \u8be5\u7b26\u53f7\u5728text\u6bb5 U \u8be5\u7b26\u53f7\u672a\u5b9a\u4e49 man nm","title":"\u7f16\u8bd1\u5668\u76f8\u5173"},{"location":"Embedded System/c&c++/c_compiler/#_1","text":"\u53ea\u7f16\u8bd1\u4e0d\u94fe\u63a5 gcc -c test.c // \u9ed8\u8ba4\u8f93\u51fa\uff1a test.o \u67e5\u770b\u76ee\u6807\u6620\u50cf\u6587\u4ef6(ELF\u6587\u4ef6)\u4e2d\u7684\u5173\u952e\u6bb5\u4fe1\u606f\uff08\u5e76\u6ca1\u6709\u5c06\u6240\u6709\u7684\u6bb5\u4fe1\u606f\u90fd\u6253\u5370\u51fa\u6765\uff09 objdump -h test.o \u5c06\u6240\u6709\u7684\u6bb5\u4fe1\u606f\u6253\u5370\u51fa\u6765 readelf -S test.o \u67e5\u770bELF\u6587\u4ef6\u4e2d\u5404\u6bb5\u7684\u5927\u5c0f size test.o \u5c06\u6240\u6709\u6bb5\u7684\u4fe1\u606f\u4ee516\u8fdb\u5236\u7684\u5f62\u5f0f\u6253\u5370\u51fa\u6765 objdump -s test.o \u53cd\u6c47\u7f16 objdump -d test.o \u8bfb\u53d6ELF\u6587\u4ef6\u5934\u4fe1\u5fc3 readelf -h test.o \u67e5\u770b\u7b26\u53f7\u8868 # \u67e5\u770b\u7b26\u53f7\u8868 $ nm test.o $ nm a.out B \u8be5\u7b26\u53f7\u5728bss\u6bb5 T \u8be5\u7b26\u53f7\u5728text\u6bb5 U \u8be5\u7b26\u53f7\u672a\u5b9a\u4e49 man nm","title":"\u7f16\u8bd1\u5668\u76f8\u5173"},{"location":"Embedded System/c&c++/c_memory_layout/","text":"C\u8bed\u8a00\u5185\u5b58\u5206\u5e03\uff08Memory Layout\uff09 # \u5728\u5bcc\u64cd\u4f5c\u7cfb\u7edf\u4e2d\uff08\u6bd4\u5982Linux\uff09C\u8bed\u8a00\u7f16\u8bd1\u540e\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u4e2d\u53ea\u5305\u542b\u6709\u4ee3\u7801\u6bb5\u3001\u5df2\u521d\u59cb\u5316\u6570\u636e\u6bb5\u548c\u4e00\u4e9b\u5176\u4ed6\u7684\u63cf\u8ff0\u4fe1\u606f\uff08\u6bd4\u5982BSS\u6bb5\u7684\u5927\u5c0f\uff09\u3002BSS\u6bb5\u548c\u5806\u6808\u662f\u7531C\u5e93\u548c\u64cd\u4f5c\u7cfb\u7edf\u521d\u59cb\u5316\u7684\u3002 C\u8fd0\u884c\u65f6\u5185\u5b58\u5e03\u5c40: .text \u4ee3\u7801\u6bb5 .data \u5df2\u521d\u59cb\u5316\u6570\u636e\u6bb5(RW)\uff0c\u4fdd\u5b58\u7684\u662f\u5df2\u7ecf\u521d\u59cb\u5316\u7684\uff08\u975e0\uff09\u5168\u5c40\u53d8\u91cf\u548c\u5c40\u90e8\u9759\u6001\u53d8\u91cf .bss(Block Started by Symbol) \u672a\u521d\u59cb\u5316\u6570\u636e\u6bb5\uff08RW\uff09\uff0c\u4fdd\u5b58\u7684\u662f\u672a\u521d\u59cb\u5316\u7684\uff08\u503c\u4e3a0\uff09\u7684\u5168\u5c40\u53d8\u91cf\u548c\u5c40\u90e8\u9759\u6001\u53d8\u91cf\u3002 .rodata \u53ea\u8bfb\u6570\u636e\u6bb5\uff0c\u4fdd\u5b58\u7684\u662f\u53ea\u8bfb\u53d8\u91cf\uff0c\u6bd4\u5982const\u4fee\u9970\u7684\u53d8\u91cf\u548c\u5e38\u91cf\u5b57\u7b26\u4e32 .comment \u6ce8\u91ca\u4fe1\u606f\u6bb5 .note.GNU-stack \u5806\u6808\u63d0\u793a\u6bb5 \u751f\u6210map\u6587\u4ef6 gcc -Xlinker -Map=output.map test.c gcc -o test test.c -Wl,-Map,test.map gcc test.c -Wl,-verbose /DISCARD/ : { *(.note.GNU-stack) *(.gnu_debuglink) (.gnu.lto_) } DISCARD\u5173\u952e\u5b57\u7528\u4e8e\u5c06\u6307\u5b9a\u6bb5\u820d\u5f03,\u4e0d\u51fa\u73b0\u5728\u8f93\u51fa\u6587\u4ef6\u4e2d. 1. \u9759\u6001\u533a\u57df # 1.1. Text # \u5305\u62ec\u4ee3\u7801\u6bb5\uff08code\uff09\u548c\u53ea\u8bfb\u6570\u636e\u6bb5\uff08RO\uff09 1.2. \u5df2\u521d\u59cb\u5316\u6570\u636e\u6bb5\uff08RW data\uff09 # 1.3. \u672a\u521d\u59cb\u5316\u6570\u636e\u6bb5\uff08BSS\uff09 # 2. \u52a8\u6001\u533a\u57df # 2.1. \u6808 # \u6808\u5185\u5b58\u53ea\u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6\u51fa\u73b0\uff0c\u5728\u51fd\u6570\u5185\u90e8\u4f7f\u7528\u7684\u53d8\u91cf\u3001\u51fd\u6570\u7684\u53c2\u6570\u4ee5\u53ca\u8fd4\u56de\u503c\u5c06\u4f7f\u7528\u6808\u7a7a\u95f4\uff0c\u6808\u7a7a\u95f4\u7531\u7f16\u8bd1\u5668\u81ea\u52a8\u5206\u914d\u548c\u91ca\u653e\u3002\u5176\u64cd\u4f5c\u65b9\u5f0f\u7c7b\u4f3c\u4e8e\u6570\u636e\u7ed3\u6784\u4e2d\u7684\u6808\u3002 2.2. \u5806 # \u5806\u5185\u5b58\u53ea\u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6\u51fa\u73b0\uff0c\u4e00\u822c\u7531\u7a0b\u5e8f\u5458\u5206\u914d\u548c\u91ca\u653e\u3002\u5728\u5177\u6709\u64cd\u4f5c\u7cfb\u7edf\u7684\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u7a0b\u5e8f\u6ca1\u6709\u91ca\u653e\uff0c\u64cd\u4f5c\u7cfb\u7edf\u53ef\u80fd\u5728\u7a0b\u5e8f\uff08\u4f8b\u5982\u4e00\u4e2a\u8fdb\u7a0b\uff09\u7ed3\u675f\u540e\u56de\u6536\u5185\u5b58\u3002\u6ce8\u610f\u5b83\u4e0e\u6570\u636e\u7ed3\u6784\u4e2d\u7684\u5806\u662f\u4e24\u56de\u4e8b\uff0c\u5206\u914d\u65b9\u5f0f\u5012\u662f\u7c7b\u4f3c\u4e8e\u94fe\u8868\u3002 3. \u53ef\u6267\u884c\u7a0b\u5e8f\u7684\u72b6\u6001 # \u4e00\u4e2a\u53ef\u6267\u884c\u7a0b\u5e8f\u5206\u4e3a\u955c\u50cf\u548c\u8fd0\u884c\u65f6\u4e24\u79cd\u72b6\u6001 \u955c\u50cf\u6587\u4ef6\u4e2d\u5305\u542b\u4ee3\u7801\u6bb5\u3001\u53ea\u8bfb\u6570\u636e\u6bb5\u3001\u8bfb\u5199\u6570\u636e\u6bb5 \u5728\u7a0b\u5e8f\u8fd0\u884c\u4e4b\u524d\u52a0\u8f7d\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5c06\u52a8\u6001\u751f\u6210\u672a\u521d\u59cb\u5316\u6570\u636e\u6bb5\uff08BSS\uff09\uff0c\u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6\u5c06\u52a8\u6001\u751f\u6210\u5806\uff08Heap\uff09\u548c\u6808\uff08Stack\uff09\u533a\u57df","title":"C\u5185\u5b58\u6a21\u578b"},{"location":"Embedded System/c&c++/c_memory_layout/#cmemory-layout","text":"\u5728\u5bcc\u64cd\u4f5c\u7cfb\u7edf\u4e2d\uff08\u6bd4\u5982Linux\uff09C\u8bed\u8a00\u7f16\u8bd1\u540e\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u4e2d\u53ea\u5305\u542b\u6709\u4ee3\u7801\u6bb5\u3001\u5df2\u521d\u59cb\u5316\u6570\u636e\u6bb5\u548c\u4e00\u4e9b\u5176\u4ed6\u7684\u63cf\u8ff0\u4fe1\u606f\uff08\u6bd4\u5982BSS\u6bb5\u7684\u5927\u5c0f\uff09\u3002BSS\u6bb5\u548c\u5806\u6808\u662f\u7531C\u5e93\u548c\u64cd\u4f5c\u7cfb\u7edf\u521d\u59cb\u5316\u7684\u3002 C\u8fd0\u884c\u65f6\u5185\u5b58\u5e03\u5c40: .text \u4ee3\u7801\u6bb5 .data \u5df2\u521d\u59cb\u5316\u6570\u636e\u6bb5(RW)\uff0c\u4fdd\u5b58\u7684\u662f\u5df2\u7ecf\u521d\u59cb\u5316\u7684\uff08\u975e0\uff09\u5168\u5c40\u53d8\u91cf\u548c\u5c40\u90e8\u9759\u6001\u53d8\u91cf .bss(Block Started by Symbol) \u672a\u521d\u59cb\u5316\u6570\u636e\u6bb5\uff08RW\uff09\uff0c\u4fdd\u5b58\u7684\u662f\u672a\u521d\u59cb\u5316\u7684\uff08\u503c\u4e3a0\uff09\u7684\u5168\u5c40\u53d8\u91cf\u548c\u5c40\u90e8\u9759\u6001\u53d8\u91cf\u3002 .rodata \u53ea\u8bfb\u6570\u636e\u6bb5\uff0c\u4fdd\u5b58\u7684\u662f\u53ea\u8bfb\u53d8\u91cf\uff0c\u6bd4\u5982const\u4fee\u9970\u7684\u53d8\u91cf\u548c\u5e38\u91cf\u5b57\u7b26\u4e32 .comment \u6ce8\u91ca\u4fe1\u606f\u6bb5 .note.GNU-stack \u5806\u6808\u63d0\u793a\u6bb5 \u751f\u6210map\u6587\u4ef6 gcc -Xlinker -Map=output.map test.c gcc -o test test.c -Wl,-Map,test.map gcc test.c -Wl,-verbose /DISCARD/ : { *(.note.GNU-stack) *(.gnu_debuglink) (.gnu.lto_) } DISCARD\u5173\u952e\u5b57\u7528\u4e8e\u5c06\u6307\u5b9a\u6bb5\u820d\u5f03,\u4e0d\u51fa\u73b0\u5728\u8f93\u51fa\u6587\u4ef6\u4e2d.","title":"C\u8bed\u8a00\u5185\u5b58\u5206\u5e03\uff08Memory Layout\uff09"},{"location":"Embedded System/c&c++/c_memory_layout/#1","text":"","title":"1. \u9759\u6001\u533a\u57df"},{"location":"Embedded System/c&c++/c_memory_layout/#11-text","text":"\u5305\u62ec\u4ee3\u7801\u6bb5\uff08code\uff09\u548c\u53ea\u8bfb\u6570\u636e\u6bb5\uff08RO\uff09","title":"1.1. Text"},{"location":"Embedded System/c&c++/c_memory_layout/#12-rw-data","text":"","title":"1.2. \u5df2\u521d\u59cb\u5316\u6570\u636e\u6bb5\uff08RW data\uff09"},{"location":"Embedded System/c&c++/c_memory_layout/#13-bss","text":"","title":"1.3. \u672a\u521d\u59cb\u5316\u6570\u636e\u6bb5\uff08BSS\uff09"},{"location":"Embedded System/c&c++/c_memory_layout/#2","text":"","title":"2. \u52a8\u6001\u533a\u57df"},{"location":"Embedded System/c&c++/c_memory_layout/#21","text":"\u6808\u5185\u5b58\u53ea\u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6\u51fa\u73b0\uff0c\u5728\u51fd\u6570\u5185\u90e8\u4f7f\u7528\u7684\u53d8\u91cf\u3001\u51fd\u6570\u7684\u53c2\u6570\u4ee5\u53ca\u8fd4\u56de\u503c\u5c06\u4f7f\u7528\u6808\u7a7a\u95f4\uff0c\u6808\u7a7a\u95f4\u7531\u7f16\u8bd1\u5668\u81ea\u52a8\u5206\u914d\u548c\u91ca\u653e\u3002\u5176\u64cd\u4f5c\u65b9\u5f0f\u7c7b\u4f3c\u4e8e\u6570\u636e\u7ed3\u6784\u4e2d\u7684\u6808\u3002","title":"2.1. \u6808"},{"location":"Embedded System/c&c++/c_memory_layout/#22","text":"\u5806\u5185\u5b58\u53ea\u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6\u51fa\u73b0\uff0c\u4e00\u822c\u7531\u7a0b\u5e8f\u5458\u5206\u914d\u548c\u91ca\u653e\u3002\u5728\u5177\u6709\u64cd\u4f5c\u7cfb\u7edf\u7684\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u7a0b\u5e8f\u6ca1\u6709\u91ca\u653e\uff0c\u64cd\u4f5c\u7cfb\u7edf\u53ef\u80fd\u5728\u7a0b\u5e8f\uff08\u4f8b\u5982\u4e00\u4e2a\u8fdb\u7a0b\uff09\u7ed3\u675f\u540e\u56de\u6536\u5185\u5b58\u3002\u6ce8\u610f\u5b83\u4e0e\u6570\u636e\u7ed3\u6784\u4e2d\u7684\u5806\u662f\u4e24\u56de\u4e8b\uff0c\u5206\u914d\u65b9\u5f0f\u5012\u662f\u7c7b\u4f3c\u4e8e\u94fe\u8868\u3002","title":"2.2. \u5806"},{"location":"Embedded System/c&c++/c_memory_layout/#3","text":"\u4e00\u4e2a\u53ef\u6267\u884c\u7a0b\u5e8f\u5206\u4e3a\u955c\u50cf\u548c\u8fd0\u884c\u65f6\u4e24\u79cd\u72b6\u6001 \u955c\u50cf\u6587\u4ef6\u4e2d\u5305\u542b\u4ee3\u7801\u6bb5\u3001\u53ea\u8bfb\u6570\u636e\u6bb5\u3001\u8bfb\u5199\u6570\u636e\u6bb5 \u5728\u7a0b\u5e8f\u8fd0\u884c\u4e4b\u524d\u52a0\u8f7d\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5c06\u52a8\u6001\u751f\u6210\u672a\u521d\u59cb\u5316\u6570\u636e\u6bb5\uff08BSS\uff09\uff0c\u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6\u5c06\u52a8\u6001\u751f\u6210\u5806\uff08Heap\uff09\u548c\u6808\uff08Stack\uff09\u533a\u57df","title":"3. \u53ef\u6267\u884c\u7a0b\u5e8f\u7684\u72b6\u6001"},{"location":"Embedded System/c&c++/c_micro_jing/","text":"C\u8bed\u8a00\u5b8f\u5b9a\u4e49#\u4e0e # \"#\" \u5b57\u7b26\u4e32\u5316 #include <stdio.h> typedef struct os_thread_def { char *name; ///< Thread name int pthread; ///< start address of thread function int tpriority; ///< initial thread priority int instances; ///< maximum number of instances of that thread function int stacksize; ///< stack size requirements in bytes; 0 is default stack size } osThreadDef_t; #define osThreadDef(name, thread, priority, instances, stacksz) \\ const osThreadDef_t os_thread_def_##name = \\ // #name \u5c06\u53d8\u4e3aname\u5b57\u7b26\u4e32 { #name, (thread), (priority), (instances), (stacksz)} int main() { osThreadDef(defaultTask, 0, 0, 0, 128); printf(\"%s\\n\",os_thread_def_defaultTask.name); return 0; } \"##\" \u6807\u8bc6\u7b26\u62fc\u63a5 #define TEST(x) i##x TEST(2) \u76f8\u5f53\u4e8e i2","title":"C\u5b8f\u5b9a\u4e49#\u4e0e##"},{"location":"Embedded System/c&c++/c_micro_jing/#c","text":"\"#\" \u5b57\u7b26\u4e32\u5316 #include <stdio.h> typedef struct os_thread_def { char *name; ///< Thread name int pthread; ///< start address of thread function int tpriority; ///< initial thread priority int instances; ///< maximum number of instances of that thread function int stacksize; ///< stack size requirements in bytes; 0 is default stack size } osThreadDef_t; #define osThreadDef(name, thread, priority, instances, stacksz) \\ const osThreadDef_t os_thread_def_##name = \\ // #name \u5c06\u53d8\u4e3aname\u5b57\u7b26\u4e32 { #name, (thread), (priority), (instances), (stacksz)} int main() { osThreadDef(defaultTask, 0, 0, 0, 128); printf(\"%s\\n\",os_thread_def_defaultTask.name); return 0; } \"##\" \u6807\u8bc6\u7b26\u62fc\u63a5 #define TEST(x) i##x TEST(2) \u76f8\u5f53\u4e8e i2","title":"C\u8bed\u8a00\u5b8f\u5b9a\u4e49#\u4e0e"},{"location":"Embedded System/c&c++/c_operator_precedence/","text":"C\u64cd\u4f5c\u7b26\u4f18\u5148\u7ea7 #","title":"C\u64cd\u4f5c\u7b26\u4f18\u5148\u7ea7"},{"location":"Embedded System/c&c++/c_operator_precedence/#c","text":"","title":"C\u64cd\u4f5c\u7b26\u4f18\u5148\u7ea7"},{"location":"Embedded System/c&c++/c_pointer/","text":"C\u8bed\u8a00\u6307\u9488\u7cfb\u5217 # 1.\u6307\u9488\u7684\u6307\u9488(\u4e8c\u7ea7\u6307\u9488) # typedef struct { int *p; } point_t; typedef struct { point_t *point; } test_t; int main() { test_t test; // \u8fd9\u4e48\u505a\u662f\u9519\u8bef\u7684\uff0c\u7a0b\u5e8f\u4f1a\u5d29\u6e83\uff0c // \u56e0\u4e3atest.point\u6307\u9488\u6307\u5411\u7684\u503c\u662f\u968f\u673a\u7684\uff0c // \u6240\u4ee5test.point->p = 0x61ff2c\u662f\u5bf9\u4e00\u4e2a\u968f\u673a\u5730\u5740\u8fdb\u884c\u8d4b\u503c\uff0c // \u8fd9\u662f\u4e0d\u6b63\u786e\u7684 test.point->p = 0x61ff2c; return 0; }","title":"C\u6307\u9488"},{"location":"Embedded System/c&c++/c_pointer/#c","text":"","title":"C\u8bed\u8a00\u6307\u9488\u7cfb\u5217"},{"location":"Embedded System/c&c++/c_pointer/#1","text":"typedef struct { int *p; } point_t; typedef struct { point_t *point; } test_t; int main() { test_t test; // \u8fd9\u4e48\u505a\u662f\u9519\u8bef\u7684\uff0c\u7a0b\u5e8f\u4f1a\u5d29\u6e83\uff0c // \u56e0\u4e3atest.point\u6307\u9488\u6307\u5411\u7684\u503c\u662f\u968f\u673a\u7684\uff0c // \u6240\u4ee5test.point->p = 0x61ff2c\u662f\u5bf9\u4e00\u4e2a\u968f\u673a\u5730\u5740\u8fdb\u884c\u8d4b\u503c\uff0c // \u8fd9\u662f\u4e0d\u6b63\u786e\u7684 test.point->p = 0x61ff2c; return 0; }","title":"1.\u6307\u9488\u7684\u6307\u9488(\u4e8c\u7ea7\u6307\u9488)"},{"location":"Embedded System/c&c++/c_pragma/","text":"#pragma pack # 1.#pragma pack\u4f7f\u7528\u8bf4\u660e # #pragma pack(1) #pragma pack() \u8fd9\u662f\u7ed9\u7f16\u8bd1\u5668\u7528\u7684\u53c2\u6570\u8bbe\u7f6e\uff0c\u6709\u5173\u7ed3\u6784\u4f53\u5b57\u8282\u5bf9\u9f50\u65b9\u5f0f\u8bbe\u7f6e\uff0c #pragma pack\u662f\u6307\u5b9a\u6570\u636e\u5728\u5185\u5b58\u4e2d\u7684\u5bf9\u9f50\u65b9\u5f0f\u3002 #pragma pack (n) // C\u7f16\u8bd1\u5668\u5c06\u6309\u7167n\u4e2a\u5b57\u8282\u5bf9\u9f50\u3002 #pragma pack () // \u53d6\u6d88\u81ea\u5b9a\u4e49\u5b57\u8282\u5bf9\u9f50\u65b9\u5f0f\u3002 #pragma pack (push,1) // \u662f\u6307\u628a\u539f\u6765\u5bf9\u9f50\u65b9\u5f0f\u8bbe\u7f6e\u538b\u6808\uff0c\u5e76\u8bbe\u65b0\u7684\u5bf9\u9f50\u65b9\u5f0f\u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u5b57\u8282\u5bf9\u9f50 #pragma pack(pop) // \u6062\u590d\u5bf9\u9f50\u72b6\u6001 \u56e0\u6b64\u53ef\u89c1\uff0c\u52a0\u5165push\u548cpop\u53ef\u4ee5\u4f7f\u5bf9\u9f50\u6062\u590d\u5230\u539f\u6765\u72b6\u6001\uff0c\u800c\u4e0d\u662f\u7f16\u8bd1\u5668\u9ed8\u8ba4\u3002 2.\u793a\u4f8b # 2.1\u4e0d\u4f7f\u7528#pragma pack # #include <stdio.h> struct sample{ char a; double b; }; int main() { struct sample sple; sple.a = 'O'; sple.b = 12.445; // \u7ed3\u679c\u662f16\uff0c\u56e0\u4e3a\u7ed3\u6784\u4f53\u5728\u5b58\u50a8\u65f6\uff0c\u662f\u4ee5\u7ed3\u6784\u4f53\u6210\u5458\u4e2d\u5360\u5185\u5b58\u6700\u591a\u7684\u6570\u636e\u7c7b\u578b\u6240\u5360\u7684\u5b57\u8282\u6570\u4e3a\u6807\u51c6\uff0c // \u6240\u6709\u7684\u6210\u5458\u5728\u5206\u914d\u5185\u5b58\u65f6\u90fd\u8981\u4e0e\u8fd9\u4e2a\u957f\u5ea6\u5bf9\u9f50\uff0c\u6240\u4ee5\u672c\u4f8b\u4e2dchar\u53608\u4e2a\u5b57\u8282\uff0cdouble\u53608\u5b57\u8282 printf(\"%d\\n\",sizeof(sple)); return 0; 2.2\u4f7f\u7528#pragma pack # #include <stdio.h> #pragma pack(1) // \u4f7f\u7ed3\u6784\u4f53\u63091\u5b57\u8282\u65b9\u5f0f\u5bf9\u9f50 struct sample{ char a; double b; }; #pragma pack() int main() { struct sample sple; sple.a = 'O'; sple.b = 12.445; // \u7ed3\u679c\u662f9\uff0c\u56e0\u4e3a\u4f7f\u7528#pragma pack(1)\u540e\uff0c // \u7ed3\u6784\u4f53sample\u4e3a1\u5b57\u8282\u5bf9\u9f50\uff0cchar\u53601\u5b57\u8282\uff0cdouble\u53608\u5b57\u8282 printf(\"%d\\n\",sizeof(sple)); return 0;","title":"pragma pack()"},{"location":"Embedded System/c&c++/c_pragma/#pragma-pack","text":"","title":"#pragma pack"},{"location":"Embedded System/c&c++/c_pragma/#1pragma-pack","text":"#pragma pack(1) #pragma pack() \u8fd9\u662f\u7ed9\u7f16\u8bd1\u5668\u7528\u7684\u53c2\u6570\u8bbe\u7f6e\uff0c\u6709\u5173\u7ed3\u6784\u4f53\u5b57\u8282\u5bf9\u9f50\u65b9\u5f0f\u8bbe\u7f6e\uff0c #pragma pack\u662f\u6307\u5b9a\u6570\u636e\u5728\u5185\u5b58\u4e2d\u7684\u5bf9\u9f50\u65b9\u5f0f\u3002 #pragma pack (n) // C\u7f16\u8bd1\u5668\u5c06\u6309\u7167n\u4e2a\u5b57\u8282\u5bf9\u9f50\u3002 #pragma pack () // \u53d6\u6d88\u81ea\u5b9a\u4e49\u5b57\u8282\u5bf9\u9f50\u65b9\u5f0f\u3002 #pragma pack (push,1) // \u662f\u6307\u628a\u539f\u6765\u5bf9\u9f50\u65b9\u5f0f\u8bbe\u7f6e\u538b\u6808\uff0c\u5e76\u8bbe\u65b0\u7684\u5bf9\u9f50\u65b9\u5f0f\u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u5b57\u8282\u5bf9\u9f50 #pragma pack(pop) // \u6062\u590d\u5bf9\u9f50\u72b6\u6001 \u56e0\u6b64\u53ef\u89c1\uff0c\u52a0\u5165push\u548cpop\u53ef\u4ee5\u4f7f\u5bf9\u9f50\u6062\u590d\u5230\u539f\u6765\u72b6\u6001\uff0c\u800c\u4e0d\u662f\u7f16\u8bd1\u5668\u9ed8\u8ba4\u3002","title":"1.#pragma pack\u4f7f\u7528\u8bf4\u660e"},{"location":"Embedded System/c&c++/c_pragma/#2","text":"","title":"2.\u793a\u4f8b"},{"location":"Embedded System/c&c++/c_pragma/#21pragma-pack","text":"#include <stdio.h> struct sample{ char a; double b; }; int main() { struct sample sple; sple.a = 'O'; sple.b = 12.445; // \u7ed3\u679c\u662f16\uff0c\u56e0\u4e3a\u7ed3\u6784\u4f53\u5728\u5b58\u50a8\u65f6\uff0c\u662f\u4ee5\u7ed3\u6784\u4f53\u6210\u5458\u4e2d\u5360\u5185\u5b58\u6700\u591a\u7684\u6570\u636e\u7c7b\u578b\u6240\u5360\u7684\u5b57\u8282\u6570\u4e3a\u6807\u51c6\uff0c // \u6240\u6709\u7684\u6210\u5458\u5728\u5206\u914d\u5185\u5b58\u65f6\u90fd\u8981\u4e0e\u8fd9\u4e2a\u957f\u5ea6\u5bf9\u9f50\uff0c\u6240\u4ee5\u672c\u4f8b\u4e2dchar\u53608\u4e2a\u5b57\u8282\uff0cdouble\u53608\u5b57\u8282 printf(\"%d\\n\",sizeof(sple)); return 0;","title":"2.1\u4e0d\u4f7f\u7528#pragma pack"},{"location":"Embedded System/c&c++/c_pragma/#22pragma-pack","text":"#include <stdio.h> #pragma pack(1) // \u4f7f\u7ed3\u6784\u4f53\u63091\u5b57\u8282\u65b9\u5f0f\u5bf9\u9f50 struct sample{ char a; double b; }; #pragma pack() int main() { struct sample sple; sple.a = 'O'; sple.b = 12.445; // \u7ed3\u679c\u662f9\uff0c\u56e0\u4e3a\u4f7f\u7528#pragma pack(1)\u540e\uff0c // \u7ed3\u6784\u4f53sample\u4e3a1\u5b57\u8282\u5bf9\u9f50\uff0cchar\u53601\u5b57\u8282\uff0cdouble\u53608\u5b57\u8282 printf(\"%d\\n\",sizeof(sple)); return 0;","title":"2.2\u4f7f\u7528#pragma pack"},{"location":"Embedded System/c&c++/cmake_usage/","text":"CMake Usage # cmake_minimum_required(VERSION 3.0.0) project(hello_cmake VERSION 0.1.0) MESSAGE(STATUS ${CMAKE_SOURCE_DIR}) include_directories(${CMAKE_SOURCE_DIR}) add_executable(hello_cmake add.c main.cpp) set(CPACK_PROJECT_NAME ${PROJECT_NAME}) set(CPACK_PROJECT_VERSION ${PROJECT_VERSION})","title":"CMake\u7528\u6cd5"},{"location":"Embedded System/c&c++/cmake_usage/#cmake-usage","text":"cmake_minimum_required(VERSION 3.0.0) project(hello_cmake VERSION 0.1.0) MESSAGE(STATUS ${CMAKE_SOURCE_DIR}) include_directories(${CMAKE_SOURCE_DIR}) add_executable(hello_cmake add.c main.cpp) set(CPACK_PROJECT_NAME ${PROJECT_NAME}) set(CPACK_PROJECT_VERSION ${PROJECT_VERSION})","title":"CMake Usage"},{"location":"Embedded System/c&c++/complement/","text":"\u8865\u7801 # 1. \u8865\u7801\u7684\u4f5c\u7528 # \u8865\u7801\u662f\u4e3a\u4e86\u89e3\u51b3\u8d1f\u6570\u5728\u8ba1\u7b97\u673a\u4e2d\u7684\u8868\u793a\u95ee\u9898\uff0c\u6700\u7ec8\u662f\u4e3a\u4e86\u89e3\u51b3\u8ba1\u7b97\u673a\u7684\u51cf\u6cd5\u8fd0\u7b97\u95ee\u9898\u3002 2. \u4e3a\u4ec0\u4e48\u662f\u8865\u7801\u5462\uff1f # \u90a3\u4e48\u4e3a\u4ec0\u4e48\u662f\u8865\u7801\u5462\uff1f\u7b80\u5355\u7684\u8bf4\u662f\u56e0\u4e3a\u4eba\u7c7b\u5148\u662f\u53d1\u660e\u4e86\u6676\u4f53\u7ba1\uff08\u4e25\u683c\u7684\u8bf4\u5e94\u8be5\u662f\uff1a\u5229\u7528\u7269\u8d28\u7684\u56fa\u6709\u5c5e\u6027\uff0c\u5236\u9020\u51fa\u4e86\u6676\u4f53\u7ba1\uff09\uff0c\u7136\u540e\u5229\u7528\u6676\u4f53\u7ba1\u5236\u9020\u51fa\u4e86\u4e0e\u975e\u95e8\uff0c\u7136\u540e\u53c8\u5229\u7528\u4e0e\u975e\u95e8\u5236\u9020\u51fa\u4e86\u52a0\u6cd5\u5668\uff0c\u81f3\u6b64\u52a0\u6cd5\u7684\u8ba1\u7b97\u95ee\u9898\u5f97\u5230\u4e86\u89e3\u51b3\u3002 \u4f46\u662f\u53ea\u6709\u52a0\u6cd5\u6ee1\u8db3\u4e0d\u4e86\u4eba\u7c7b\u7684\u9700\u6c42\uff0c\u4eba\u7c7b\u5e0c\u671b\u80fd\u89e3\u51b3\u51cf\u6cd5\u7684\u8ba1\u7b97\u95ee\u9898\uff0c\u4f46\u662f\u7eaf\u7cb9\u8bbe\u8ba1\u4e00\u4e2a\u51cf\u6cd5\u5668\u662f\u4e0d\u5212\u7b97\u7684\uff08\u539f\u56e0\u8bf7\u81ea\u884c\u767e\u5ea6\uff09\uff0c\u540e\u6765\u4eba\u7c7b\u53d1\u73b0\u4e86\u4e00\u4e2a\u7528\u52a0\u6cd5\u5668\u89e3\u51b3\u51cf\u6cd5\u8ba1\u7b97\u7684\u65b9\u6cd5\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u540e\u6765\u88ab\u4eba\u7c7b\u5b9a\u4e49\u6210\u4e86\u201c\u8865\u7801\u201d\u7684\u6982\u5ff5\u3002\u8865\u7801\u4ea7\u751f\u7684\u8fc7\u7a0b\u8bf7\u5f80\u4e0b\u770b\u3002 3. \u8865\u7801\u7684\u6765\u5386 # \u4eba\u7c7b\u9700\u8981\u5bf9\u6570\u503c\u8fdb\u884c\u52a0\u51cf\u4e58\u9664\u8fd0\u7b97\uff0c\u8ba1\u7b97\u673a\u88ab\u53d1\u660e\u4e4b\u521d\u5c31\u662f\u7528\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u7684\uff0c\u4eba\u7c7b\u5148\u662f\u53d1\u660e\u4e86\u52a0\u6cd5\u5668\uff0c\u50cf\u8fd9\u6837\uff1a \u5168\u52a0\u5668 \u7528\u4e0e\u975e\u95e8\u6765\u5b9e\u73b0\u52a0\u6cd5\u5668\u662f\u4e00\u4ef6\u5f88\u81ea\u7136\u7684\u4e8b\u60c5\uff0c\u8fd9\u662f\u5b83\u4eec\u672c\u8eab\u7684\u7279\u6027\u3002 \u5982\u679c\u5c06\u4e58\u6cd5\u770b\u4f5c\u662f\u7d2f\u52a0\uff08\u79fb\u4f4d\uff0c\u903b\u8f91\u5224\u65ad\uff0c\u7d2f\u52a0\uff09\uff0c\u90a3\u4e48\u52a0\u6cd5\u95ee\u9898\u89e3\u51b3\u4e86\uff0c\u4e58\u6cd5\u95ee\u9898\u4e5f\u5c31\u89e3\u51b3\u4e86\u3002 \u90a3\u4e5f\u5c31\u662f\u8bf4\uff1a\u5982\u679c\u51cf\u6cd5\u95ee\u9898\u89e3\u51b3\u4e86\uff0c\u9664\u6cd5\u95ee\u9898\u4e5f\u5c31\u89e3\u51b3\u4e86\uff08\u79fb\u4f4d\uff0c\u903b\u8f91\u5224\u65ad\uff0c\u7d2f\u51cf\uff09\u3002 \u6240\u4ee5\u73b0\u5728\u95ee\u9898\u5c31\u53d8\u6210\u4e86\uff1a\u8ba1\u7b97\u673a\u5982\u4f55\u8ba1\u7b97\u51cf\u6cd5\uff1f \u4f17\u6240\u5468\u77e5\uff0c\u51cf\u53bb\u4e00\u4e2a\u6570\u76f8\u5f53\u4e8e\u52a0\u4e0a\u8fd9\u4e2a\u6570\u7684\u76f8\u53cd\u6570\uff0c\u8fd9\u6837\u51cf\u6cd5\u5c31\u8f6c\u6362\u6210\u4e86\u52a0\u6cd5\u3002 \u6bd4\u5982\uff1a 0000 0010 - 0000 0001 ====> 0000 0010 + (\u8d1f\u76840000 0001) \u90a3\u4e48\u8d1f\u76840000 0001\uff080000 0001\u7684\u76f8\u53cd\u6570\uff09\u5728\u8ba1\u7b97\u673a\u4e2d\u8be5\u600e\u4e48\u8868\u793a\u5462\uff1f \u6240\u4ee5\u89e3\u51b3\u51cf\u6cd5\u95ee\u9898\uff0c\u5176\u5b9e\u5c31\u662f\u89e3\u51b3\u8d1f\u6570\u5728\u8ba1\u7b97\u673a\u4e2d\u7684\u8868\u793a\u95ee\u9898\u3002 \u4e00\u822c\u6211\u4eec\u7684\u601d\u8def\u662f\uff0c\u627e\u4e00\u4e2a\u6570\uff0c\u8ddf0000 0001\u76f8\u52a0\u7684\u7ed3\u679c\u7b49\u4e8e0\uff0c\u4f46\u662f\u6211\u4eec\u53d1\u73b0\uff0c\u8981\u627e\u51fa\u4e00\u4e2a\u4e0e0000 0001\u76f8\u52a0\u540e\u7ed3\u679c\u7b49\u4e8e0\u7684\u6570\u8fd8\u662f\u8981\u7565\u52a0\u601d\u8003\u4e00\u4e0b\u7684\uff0c\u56e0\u4e3a\u8981\u8ba1\u7b97\u8fdb\u4f4d\u3002 \u6240\u4ee5\uff0c\u4e3a\u4f55\u4e0d\u627e\u51fa\u4e00\u4e2a\u4e0e\u5b83\u76f8\u52a0\u540e\u7ed3\u679c\u662f 1111 1111\u7684\u6570(\u8fd9\u5e94\u8be5\u5c31\u662f\u53cd\u7801\u7684\u6765\u5386)\uff0c\u7136\u540e\u8be5\u6570+1\uff08+1\u6ea2\u51fa\uff0c\u6240\u4ee5\u76f8\u52a0\u7684\u548c\u5c31\u662f0\uff09\u5373\u662f\u6211\u4eec\u6240\u8981\u7684\u7b54\u6848(\u8fd9\u5e94\u8be5\u5c31\u662f\u8865\u7801\u7684\u6765\u5386)\u3002 \u4e8e\u662f\uff0c\u5f88\u5bb9\u6613\u5f97\u51fa: a=0000 0001\uff081\uff09 // \u4ee58\u4f4d\u6570\u636e\u4e3a\u4f8b 0000 0001 + 1111 1110 // \u5148\u627e\u51fa\u4e0ea\u76f8\u52a0\u4e3a1111 1111\u7684\u6570\uff08a\u7684\u53cd\u7801\uff09 = 1111 1111 1111 1110 + 1 = 1111 1111 // \u8fd9\u4e2a\u6570\u518d\u52a01\u5c31\u662f\u6211\u4eec\u8981\u627e\u7684\u6570\uff08\u4e0ea\u76f8\u52a0\u4e3a0\u7684\u6570\uff09 0000 0001 // a + 1111 1111 // \u4e0ea\u76f8\u52a0\u4e3a0\u7684\u6570\uff08a\u7684\u8865\u7801\uff09 = (1)0000 0000 // (1)\u662f\u8fdb\u4f4d \u4e00\u76ee\u4e86\u7136\uff0c 1111 1111\uff08-1\u7684\u8865\u7801\uff09 \u5c31\u662f\u6211\u4eec\u60f3\u8981\u7684\u7b54\u6848\u3002 4. \u603b\u7ed3 # \u8865\u7801\u662f\u7528\u6765\u89e3\u51b3\u8d1f\u6570\u5728\u8ba1\u7b97\u673a\u4e2d\u7684\u8868\u793a\u95ee\u9898\u7684 \u89e3\u51b3\u8d1f\u6570\u5728\u8ba1\u7b97\u673a\u4e2d\u7684\u8868\u793a\u95ee\u9898\uff0c\u662f\u4e3a\u4e86\u89e3\u51b3\u51cf\u6cd5\u8fd0\u7b97\u95ee\u9898 \u52a0\u6cd5\u5668\u89e3\u51b3\u4e86\u52a0\u6cd5\u548c\u4e58\u6cd5\u8fd0\u7b97\u95ee\u9898\uff0c\u8865\u7801\u89e3\u51b3\u4e86\u51cf\u6cd5\u548c\u9664\u6cd5\u8fd0\u7b97\u95ee\u9898 \u6c42\u4e00\u4e2a\u6570\u7684\u53cd\u7801\uff1a\u627e\u5230\u4e0e\u8fd9\u4e2a\u6570\u76f8\u52a0\u7ed3\u679c\u4e3a 1111 1111\u7684\u6570(\u5373\u6309\u4f4d\u53d6\u53cd) \u6c42\u4e00\u4e2a\u6570\u7684\u8865\u7801\uff1a\u627e\u5230\u5176\u53cd\u7801\u7136\u540e\u52a01 \u66f4\u591a\u8d44\u8baf\uff0c\u8bf7\u626b\u7801\u5173\u6ce8\uff01 #","title":"\u8865\u7801"},{"location":"Embedded System/c&c++/complement/#_1","text":"","title":"\u8865\u7801"},{"location":"Embedded System/c&c++/complement/#1","text":"\u8865\u7801\u662f\u4e3a\u4e86\u89e3\u51b3\u8d1f\u6570\u5728\u8ba1\u7b97\u673a\u4e2d\u7684\u8868\u793a\u95ee\u9898\uff0c\u6700\u7ec8\u662f\u4e3a\u4e86\u89e3\u51b3\u8ba1\u7b97\u673a\u7684\u51cf\u6cd5\u8fd0\u7b97\u95ee\u9898\u3002","title":"1. \u8865\u7801\u7684\u4f5c\u7528"},{"location":"Embedded System/c&c++/complement/#2","text":"\u90a3\u4e48\u4e3a\u4ec0\u4e48\u662f\u8865\u7801\u5462\uff1f\u7b80\u5355\u7684\u8bf4\u662f\u56e0\u4e3a\u4eba\u7c7b\u5148\u662f\u53d1\u660e\u4e86\u6676\u4f53\u7ba1\uff08\u4e25\u683c\u7684\u8bf4\u5e94\u8be5\u662f\uff1a\u5229\u7528\u7269\u8d28\u7684\u56fa\u6709\u5c5e\u6027\uff0c\u5236\u9020\u51fa\u4e86\u6676\u4f53\u7ba1\uff09\uff0c\u7136\u540e\u5229\u7528\u6676\u4f53\u7ba1\u5236\u9020\u51fa\u4e86\u4e0e\u975e\u95e8\uff0c\u7136\u540e\u53c8\u5229\u7528\u4e0e\u975e\u95e8\u5236\u9020\u51fa\u4e86\u52a0\u6cd5\u5668\uff0c\u81f3\u6b64\u52a0\u6cd5\u7684\u8ba1\u7b97\u95ee\u9898\u5f97\u5230\u4e86\u89e3\u51b3\u3002 \u4f46\u662f\u53ea\u6709\u52a0\u6cd5\u6ee1\u8db3\u4e0d\u4e86\u4eba\u7c7b\u7684\u9700\u6c42\uff0c\u4eba\u7c7b\u5e0c\u671b\u80fd\u89e3\u51b3\u51cf\u6cd5\u7684\u8ba1\u7b97\u95ee\u9898\uff0c\u4f46\u662f\u7eaf\u7cb9\u8bbe\u8ba1\u4e00\u4e2a\u51cf\u6cd5\u5668\u662f\u4e0d\u5212\u7b97\u7684\uff08\u539f\u56e0\u8bf7\u81ea\u884c\u767e\u5ea6\uff09\uff0c\u540e\u6765\u4eba\u7c7b\u53d1\u73b0\u4e86\u4e00\u4e2a\u7528\u52a0\u6cd5\u5668\u89e3\u51b3\u51cf\u6cd5\u8ba1\u7b97\u7684\u65b9\u6cd5\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u540e\u6765\u88ab\u4eba\u7c7b\u5b9a\u4e49\u6210\u4e86\u201c\u8865\u7801\u201d\u7684\u6982\u5ff5\u3002\u8865\u7801\u4ea7\u751f\u7684\u8fc7\u7a0b\u8bf7\u5f80\u4e0b\u770b\u3002","title":"2. \u4e3a\u4ec0\u4e48\u662f\u8865\u7801\u5462\uff1f"},{"location":"Embedded System/c&c++/complement/#3","text":"\u4eba\u7c7b\u9700\u8981\u5bf9\u6570\u503c\u8fdb\u884c\u52a0\u51cf\u4e58\u9664\u8fd0\u7b97\uff0c\u8ba1\u7b97\u673a\u88ab\u53d1\u660e\u4e4b\u521d\u5c31\u662f\u7528\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u7684\uff0c\u4eba\u7c7b\u5148\u662f\u53d1\u660e\u4e86\u52a0\u6cd5\u5668\uff0c\u50cf\u8fd9\u6837\uff1a \u5168\u52a0\u5668 \u7528\u4e0e\u975e\u95e8\u6765\u5b9e\u73b0\u52a0\u6cd5\u5668\u662f\u4e00\u4ef6\u5f88\u81ea\u7136\u7684\u4e8b\u60c5\uff0c\u8fd9\u662f\u5b83\u4eec\u672c\u8eab\u7684\u7279\u6027\u3002 \u5982\u679c\u5c06\u4e58\u6cd5\u770b\u4f5c\u662f\u7d2f\u52a0\uff08\u79fb\u4f4d\uff0c\u903b\u8f91\u5224\u65ad\uff0c\u7d2f\u52a0\uff09\uff0c\u90a3\u4e48\u52a0\u6cd5\u95ee\u9898\u89e3\u51b3\u4e86\uff0c\u4e58\u6cd5\u95ee\u9898\u4e5f\u5c31\u89e3\u51b3\u4e86\u3002 \u90a3\u4e5f\u5c31\u662f\u8bf4\uff1a\u5982\u679c\u51cf\u6cd5\u95ee\u9898\u89e3\u51b3\u4e86\uff0c\u9664\u6cd5\u95ee\u9898\u4e5f\u5c31\u89e3\u51b3\u4e86\uff08\u79fb\u4f4d\uff0c\u903b\u8f91\u5224\u65ad\uff0c\u7d2f\u51cf\uff09\u3002 \u6240\u4ee5\u73b0\u5728\u95ee\u9898\u5c31\u53d8\u6210\u4e86\uff1a\u8ba1\u7b97\u673a\u5982\u4f55\u8ba1\u7b97\u51cf\u6cd5\uff1f \u4f17\u6240\u5468\u77e5\uff0c\u51cf\u53bb\u4e00\u4e2a\u6570\u76f8\u5f53\u4e8e\u52a0\u4e0a\u8fd9\u4e2a\u6570\u7684\u76f8\u53cd\u6570\uff0c\u8fd9\u6837\u51cf\u6cd5\u5c31\u8f6c\u6362\u6210\u4e86\u52a0\u6cd5\u3002 \u6bd4\u5982\uff1a 0000 0010 - 0000 0001 ====> 0000 0010 + (\u8d1f\u76840000 0001) \u90a3\u4e48\u8d1f\u76840000 0001\uff080000 0001\u7684\u76f8\u53cd\u6570\uff09\u5728\u8ba1\u7b97\u673a\u4e2d\u8be5\u600e\u4e48\u8868\u793a\u5462\uff1f \u6240\u4ee5\u89e3\u51b3\u51cf\u6cd5\u95ee\u9898\uff0c\u5176\u5b9e\u5c31\u662f\u89e3\u51b3\u8d1f\u6570\u5728\u8ba1\u7b97\u673a\u4e2d\u7684\u8868\u793a\u95ee\u9898\u3002 \u4e00\u822c\u6211\u4eec\u7684\u601d\u8def\u662f\uff0c\u627e\u4e00\u4e2a\u6570\uff0c\u8ddf0000 0001\u76f8\u52a0\u7684\u7ed3\u679c\u7b49\u4e8e0\uff0c\u4f46\u662f\u6211\u4eec\u53d1\u73b0\uff0c\u8981\u627e\u51fa\u4e00\u4e2a\u4e0e0000 0001\u76f8\u52a0\u540e\u7ed3\u679c\u7b49\u4e8e0\u7684\u6570\u8fd8\u662f\u8981\u7565\u52a0\u601d\u8003\u4e00\u4e0b\u7684\uff0c\u56e0\u4e3a\u8981\u8ba1\u7b97\u8fdb\u4f4d\u3002 \u6240\u4ee5\uff0c\u4e3a\u4f55\u4e0d\u627e\u51fa\u4e00\u4e2a\u4e0e\u5b83\u76f8\u52a0\u540e\u7ed3\u679c\u662f 1111 1111\u7684\u6570(\u8fd9\u5e94\u8be5\u5c31\u662f\u53cd\u7801\u7684\u6765\u5386)\uff0c\u7136\u540e\u8be5\u6570+1\uff08+1\u6ea2\u51fa\uff0c\u6240\u4ee5\u76f8\u52a0\u7684\u548c\u5c31\u662f0\uff09\u5373\u662f\u6211\u4eec\u6240\u8981\u7684\u7b54\u6848(\u8fd9\u5e94\u8be5\u5c31\u662f\u8865\u7801\u7684\u6765\u5386)\u3002 \u4e8e\u662f\uff0c\u5f88\u5bb9\u6613\u5f97\u51fa: a=0000 0001\uff081\uff09 // \u4ee58\u4f4d\u6570\u636e\u4e3a\u4f8b 0000 0001 + 1111 1110 // \u5148\u627e\u51fa\u4e0ea\u76f8\u52a0\u4e3a1111 1111\u7684\u6570\uff08a\u7684\u53cd\u7801\uff09 = 1111 1111 1111 1110 + 1 = 1111 1111 // \u8fd9\u4e2a\u6570\u518d\u52a01\u5c31\u662f\u6211\u4eec\u8981\u627e\u7684\u6570\uff08\u4e0ea\u76f8\u52a0\u4e3a0\u7684\u6570\uff09 0000 0001 // a + 1111 1111 // \u4e0ea\u76f8\u52a0\u4e3a0\u7684\u6570\uff08a\u7684\u8865\u7801\uff09 = (1)0000 0000 // (1)\u662f\u8fdb\u4f4d \u4e00\u76ee\u4e86\u7136\uff0c 1111 1111\uff08-1\u7684\u8865\u7801\uff09 \u5c31\u662f\u6211\u4eec\u60f3\u8981\u7684\u7b54\u6848\u3002","title":"3. \u8865\u7801\u7684\u6765\u5386"},{"location":"Embedded System/c&c++/complement/#4","text":"\u8865\u7801\u662f\u7528\u6765\u89e3\u51b3\u8d1f\u6570\u5728\u8ba1\u7b97\u673a\u4e2d\u7684\u8868\u793a\u95ee\u9898\u7684 \u89e3\u51b3\u8d1f\u6570\u5728\u8ba1\u7b97\u673a\u4e2d\u7684\u8868\u793a\u95ee\u9898\uff0c\u662f\u4e3a\u4e86\u89e3\u51b3\u51cf\u6cd5\u8fd0\u7b97\u95ee\u9898 \u52a0\u6cd5\u5668\u89e3\u51b3\u4e86\u52a0\u6cd5\u548c\u4e58\u6cd5\u8fd0\u7b97\u95ee\u9898\uff0c\u8865\u7801\u89e3\u51b3\u4e86\u51cf\u6cd5\u548c\u9664\u6cd5\u8fd0\u7b97\u95ee\u9898 \u6c42\u4e00\u4e2a\u6570\u7684\u53cd\u7801\uff1a\u627e\u5230\u4e0e\u8fd9\u4e2a\u6570\u76f8\u52a0\u7ed3\u679c\u4e3a 1111 1111\u7684\u6570(\u5373\u6309\u4f4d\u53d6\u53cd) \u6c42\u4e00\u4e2a\u6570\u7684\u8865\u7801\uff1a\u627e\u5230\u5176\u53cd\u7801\u7136\u540e\u52a01","title":"4. \u603b\u7ed3"},{"location":"Embedded System/c&c++/complement/#_2","text":"","title":"\u66f4\u591a\u8d44\u8baf\uff0c\u8bf7\u626b\u7801\u5173\u6ce8\uff01"},{"location":"Embedded System/c&c++/const_volatile/","text":"C\u8bed\u8a00const\u4e0evolatile # 1. const # \u58f0\u660e\u4e00\u4e2a\u53ea\u8bfb\u53d8\u91cf\u3002 2. volatile # \u544a\u8bc9\u7f16\u8bd1\u5668\u4e0d\u8981\u53bb\u4f18\u5316volatile\u4fee\u9970\u7684\u4ee3\u7801\uff0c\u5e76\u4e14\u6bcf\u6b21\u76f4\u63a5\u4ece\u6570\u636e\u6e90\u5934\u8bfb\u53d6\u6570\u636e\uff0c\u4e0d\u5141\u8bb8\u5c06\u6570\u636e\u7f13\u5b58\u5230\u5bc4\u5b58\u5668\u3002 \u6ce8\u610f\uff1a\u5bf9volatile\u53d8\u91cf\u7684\u64cd\u4f5c\u4e0d\u662f\u539f\u5b50\u6027\u7684\u3002 \u6ce8\u610f\uff1avolatile\u5728c\u8bed\u8a00\u4e2d\u548c\u5728java\u8bed\u8a00\u4e2d\u7684\u542b\u4e49\u662f\u4e0d\u540c\u7684\uff0c\u672c\u6587\u91cd\u8981\u9610\u8ff0\u5728c\u8bed\u8a00\u4e2d\u7684\u4f5c\u7528 2.1 volatile\u7684\u7528\u9014 # 2.1.1 \u5bc4\u5b58\u5668\u8bbf\u95ee\uff08\u6bcf\u6b21\u90fd\u76f4\u63a5\u4ece\u5bc4\u5b58\u5668\u5730\u5740\u83b7\u53d6\u6570\u636e\uff09 # \u8bbf\u95ee\u5bc4\u5b58\u5668\u5fc5\u987b\u4f7f\u7528volatile\u4fee\u9970\u7b26\u3002 \u5bf9\u53ef\u8bfb\u53ef\u5199\u7684\u5bc4\u5b58\u5668\u4f7f\u7528volatile\uff0c\u9632\u6b62\u7f16\u8bd1\u5668\u5bf9\u591a\u6b21\u64cd\u4f5c\u8be5\u5bc4\u5b58\u5668\u7684\u4ee3\u7801\u8fdb\u884c\u4f18\u5316\uff08\u4e00\u822c\u662f\u7f16\u8bd1\u5668\u5f00\u542f\u4e86\u6bd4\u8f83\u9ad8\u7684\u4f18\u5316\u7b49\u7ea7\uff0c\u624d\u4f1a\u6267\u884c\u8fd9\u4e2a\u4ee3\u7801\u4f18\u5316\uff09 define GPIOB_ODR (*(volatile unsigned long *)0x40010C10UL) example: GPIOB_ODR = 1; GPIOB_ODR = 2; GPIOB_ODR = 3; \u5982\u679c\u4e0d\u9002\u7528volatile\u4fee\u9970\u7b26\uff0c\u5e76\u4e14\u5f00\u542f O3 \u4f18\u5316\uff0c\u5219\u7f16\u8bd1\u5668\u53ef\u80fd\u4f1a\u5c06\u4e0a\u9762\u7684\u4ee3\u7801\u4f18\u5316\u6210\uff1a // \u7f16\u8bd1\u5668\u4f1a\u4efb\u52a1\u524d\u9762\u4e24\u4e2a\u53ea\u662f\u4e2d\u95f4\u8fc7\u7a0b\uff0c\u6240\u4ee5\u4f1a\u88ab\u4f18\u5316\u6389 // \u4f46\u662f\u5bf9\u5bc4\u5b58\u5668\u7684\u6bcf\u4e00\u6b21\u64cd\u4f5c\u90fd\u662f\u6709\u73b0\u5b9e\u610f\u4e49\u7684 GPIOB_ODR = 3; \u5bf9\u53ea\u8bfb\u7684\u5bc4\u5b58\u5668\u4f7f\u7528volatile const\uff0c\u6bcf\u6b21\u90fd\u76f4\u63a5\u4ece\u6e90\u5730\u5740\u8bfb\u53d6\u6570\u636e\uff0c\u5e76\u4e14\u4e0d\u5141\u8bb8\u5bf9\u8be5\u5730\u5740\u8fdb\u884c\u5199\u64cd\u4f5c define GPIOB_IDR (*(volatile const unsigned long *)0x40010C08UL) example\uff1a read_value = GPIOB_IDR; print_to_screen(read_value); read_value = GPIOB_IDR; print_to_screen(read_value); read_value = GPIOB_IDR; print_to_screen(read_value); \u540c\u6837\u7684\uff0c\u5982\u679c\u4e0d\u4f7f\u7528volatile\u4fee\u9970\u7b26\uff0c\u5e76\u4e14\u5f00\u542f O3 \u4f18\u5316\uff0c\u5219\u7f16\u8bd1\u5668\u53ef\u80fd\u4f1a\u5c06\u4e0a\u9762\u7684\u4ee3\u7801\u4f18\u5316\u6210\uff1a read_value = GPIOB_IDR; print_to_screen(read_value); \u4ee5\u4e0a\u5b9e\u9a8c\uff0c\u53ef\u4ee5\u901a\u8fc7\u89c2\u5bdf\u7f16\u8bd1\u540e\u7684\u6c47\u7f16\u4ee3\u7801\u9a8c\u8bc1\u3002 2.1.2 \u4fe1\u53f7\u5904\u7406 # \u6bd4\u5982\u4e0b\u9762\u7684\u4f8b\u5b50\uff0c\u672c\u610f\u662f\uff1a\u4e3b\u7a0b\u5e8f\u7b49\u5f85\u5916\u90e8\u4e2d\u65ad\u89e6\u53d1\uff0c\u7136\u540e\u5c06\u6807\u5fd7\u4f4d\u53d8\u91cf flag \u7f6e\u4f4d\uff0c\u4ece\u800c\u4f7f\u5f97\u4e3b\u7a0b\u5e8f\u5f97\u4ee5\u7ee7\u7eed\u8fd0\u884c\u3002 /* main.c */ // global variable uint8_t flag = 0; int main() { while(!falg); // do something else return 0; } // \u4e2d\u65ad\u5904\u7406\u51fd\u6570 void Exception_IRQHandler(void) { flag=1; } \u4f46\u662f\u5982\u679c flag \u4e0d\u4f7f\u7528volatile\u4fee\u9970\u7b26\uff0c\u5e76\u4e14\u7f16\u8bd1\u5668\u5f00\u542f O3 \u4f18\u5316\uff0c\u90a3\u4e48\u7a0b\u5e8f\u5c06\u4f1a\u88ab\u4f18\u5316\u6210\uff1a while (!flag); 800020a: 4b05 ldr r3, [pc, #20] ; (8000220 <main+0x2c>) 800020c: 781b ldrb r3, [r3, #0] 800020e: b903 cbnz r3, 8000212 <main+0x1e> ; \u4e00\u76f4\u5728\u8fd9\u91cc\u5faa\u73af\uff0c\u800c\u4e0d\u4f1a\u6bcf\u6b21\u90fd\u53bb\u91cd\u65b0\u5224\u65ad\u6761\u4ef6\u662f\u5426\u88ab\u6ee1\u8db3 8000210: e7fe b.n 8000210 <main+0x1c> \u7528C\u8bed\u8a00\u8868\u793a\u5c31\u76f8\u5f53\u4e8e\uff1a int main() { while(ture); return 0; } \u7a0b\u5e8f\u5c06\u6c38\u8fdc\u65e0\u6cd5\u7ee7\u7eed\u5411\u4e0b\u8fd0\u884c\uff0c\u4e0d\u7ba1\u5916\u90e8\u4e2d\u65ad\u662f\u5426\u6539\u53d8 flag \u53d8\u91cf\u3002 \u5728STM32\u4e2d\uff0c\u5728\u8fdb\u884c\u4e32\u53e3\u53d1\u9001\u7684\u65f6\u5019\uff0c\u901a\u5e38\u4f1a\u963b\u585e\u7b49\u5f85\u53d1\u9001\u5b8c\u6bd5\uff1a USART_SendData(USART1, (uint8_t) cmd); // \u963b\u585e\u7b49\u5f85\u4e32\u53e3\u53d1\u9001\u5b8c\u6bd5 while (__HAL_UART_GET_FLAG(USART1, USART_FLAG_TXE) != SET){} #define __IO volatile /*!< Defines 'read / write' permissions */ typedef struct { __IO uint32_t SR; /*!< USART Status register, Address offset: 0x00 */ __IO uint32_t DR; /*!< USART Data register, Address offset: 0x04 */ __IO uint32_t BRR; /*!< USART Baud rate register, Address offset: 0x08 */ __IO uint32_t CR1; /*!< USART Control register 1, Address offset: 0x0C */ __IO uint32_t CR2; /*!< USART Control register 2, Address offset: 0x10 */ __IO uint32_t CR3; /*!< USART Control register 3, Address offset: 0x14 */ __IO uint32_t GTPR; /*!< USART Guard time and prescaler register, Address offset: 0x18 */ } USART_TypeDef; #define __HAL_UART_GET_FLAG(__HANDLE__, __FLAG__) (((__HANDLE__)->Instance->SR & (__FLAG__)) == (__FLAG__)) \u53ef\u4ee5\u770b\u5230\u662f\u7ecf\u8fc7 volatile \u4fee\u9970\u7684","title":"const\u4e0evolatile"},{"location":"Embedded System/c&c++/const_volatile/#cconstvolatile","text":"","title":"C\u8bed\u8a00const\u4e0evolatile"},{"location":"Embedded System/c&c++/const_volatile/#1-const","text":"\u58f0\u660e\u4e00\u4e2a\u53ea\u8bfb\u53d8\u91cf\u3002","title":"1. const"},{"location":"Embedded System/c&c++/const_volatile/#2-volatile","text":"\u544a\u8bc9\u7f16\u8bd1\u5668\u4e0d\u8981\u53bb\u4f18\u5316volatile\u4fee\u9970\u7684\u4ee3\u7801\uff0c\u5e76\u4e14\u6bcf\u6b21\u76f4\u63a5\u4ece\u6570\u636e\u6e90\u5934\u8bfb\u53d6\u6570\u636e\uff0c\u4e0d\u5141\u8bb8\u5c06\u6570\u636e\u7f13\u5b58\u5230\u5bc4\u5b58\u5668\u3002 \u6ce8\u610f\uff1a\u5bf9volatile\u53d8\u91cf\u7684\u64cd\u4f5c\u4e0d\u662f\u539f\u5b50\u6027\u7684\u3002 \u6ce8\u610f\uff1avolatile\u5728c\u8bed\u8a00\u4e2d\u548c\u5728java\u8bed\u8a00\u4e2d\u7684\u542b\u4e49\u662f\u4e0d\u540c\u7684\uff0c\u672c\u6587\u91cd\u8981\u9610\u8ff0\u5728c\u8bed\u8a00\u4e2d\u7684\u4f5c\u7528","title":"2. volatile"},{"location":"Embedded System/c&c++/const_volatile/#21-volatile","text":"","title":"2.1 volatile\u7684\u7528\u9014"},{"location":"Embedded System/c&c++/const_volatile/#211","text":"\u8bbf\u95ee\u5bc4\u5b58\u5668\u5fc5\u987b\u4f7f\u7528volatile\u4fee\u9970\u7b26\u3002 \u5bf9\u53ef\u8bfb\u53ef\u5199\u7684\u5bc4\u5b58\u5668\u4f7f\u7528volatile\uff0c\u9632\u6b62\u7f16\u8bd1\u5668\u5bf9\u591a\u6b21\u64cd\u4f5c\u8be5\u5bc4\u5b58\u5668\u7684\u4ee3\u7801\u8fdb\u884c\u4f18\u5316\uff08\u4e00\u822c\u662f\u7f16\u8bd1\u5668\u5f00\u542f\u4e86\u6bd4\u8f83\u9ad8\u7684\u4f18\u5316\u7b49\u7ea7\uff0c\u624d\u4f1a\u6267\u884c\u8fd9\u4e2a\u4ee3\u7801\u4f18\u5316\uff09 define GPIOB_ODR (*(volatile unsigned long *)0x40010C10UL) example: GPIOB_ODR = 1; GPIOB_ODR = 2; GPIOB_ODR = 3; \u5982\u679c\u4e0d\u9002\u7528volatile\u4fee\u9970\u7b26\uff0c\u5e76\u4e14\u5f00\u542f O3 \u4f18\u5316\uff0c\u5219\u7f16\u8bd1\u5668\u53ef\u80fd\u4f1a\u5c06\u4e0a\u9762\u7684\u4ee3\u7801\u4f18\u5316\u6210\uff1a // \u7f16\u8bd1\u5668\u4f1a\u4efb\u52a1\u524d\u9762\u4e24\u4e2a\u53ea\u662f\u4e2d\u95f4\u8fc7\u7a0b\uff0c\u6240\u4ee5\u4f1a\u88ab\u4f18\u5316\u6389 // \u4f46\u662f\u5bf9\u5bc4\u5b58\u5668\u7684\u6bcf\u4e00\u6b21\u64cd\u4f5c\u90fd\u662f\u6709\u73b0\u5b9e\u610f\u4e49\u7684 GPIOB_ODR = 3; \u5bf9\u53ea\u8bfb\u7684\u5bc4\u5b58\u5668\u4f7f\u7528volatile const\uff0c\u6bcf\u6b21\u90fd\u76f4\u63a5\u4ece\u6e90\u5730\u5740\u8bfb\u53d6\u6570\u636e\uff0c\u5e76\u4e14\u4e0d\u5141\u8bb8\u5bf9\u8be5\u5730\u5740\u8fdb\u884c\u5199\u64cd\u4f5c define GPIOB_IDR (*(volatile const unsigned long *)0x40010C08UL) example\uff1a read_value = GPIOB_IDR; print_to_screen(read_value); read_value = GPIOB_IDR; print_to_screen(read_value); read_value = GPIOB_IDR; print_to_screen(read_value); \u540c\u6837\u7684\uff0c\u5982\u679c\u4e0d\u4f7f\u7528volatile\u4fee\u9970\u7b26\uff0c\u5e76\u4e14\u5f00\u542f O3 \u4f18\u5316\uff0c\u5219\u7f16\u8bd1\u5668\u53ef\u80fd\u4f1a\u5c06\u4e0a\u9762\u7684\u4ee3\u7801\u4f18\u5316\u6210\uff1a read_value = GPIOB_IDR; print_to_screen(read_value); \u4ee5\u4e0a\u5b9e\u9a8c\uff0c\u53ef\u4ee5\u901a\u8fc7\u89c2\u5bdf\u7f16\u8bd1\u540e\u7684\u6c47\u7f16\u4ee3\u7801\u9a8c\u8bc1\u3002","title":"2.1.1 \u5bc4\u5b58\u5668\u8bbf\u95ee\uff08\u6bcf\u6b21\u90fd\u76f4\u63a5\u4ece\u5bc4\u5b58\u5668\u5730\u5740\u83b7\u53d6\u6570\u636e\uff09"},{"location":"Embedded System/c&c++/const_volatile/#212","text":"\u6bd4\u5982\u4e0b\u9762\u7684\u4f8b\u5b50\uff0c\u672c\u610f\u662f\uff1a\u4e3b\u7a0b\u5e8f\u7b49\u5f85\u5916\u90e8\u4e2d\u65ad\u89e6\u53d1\uff0c\u7136\u540e\u5c06\u6807\u5fd7\u4f4d\u53d8\u91cf flag \u7f6e\u4f4d\uff0c\u4ece\u800c\u4f7f\u5f97\u4e3b\u7a0b\u5e8f\u5f97\u4ee5\u7ee7\u7eed\u8fd0\u884c\u3002 /* main.c */ // global variable uint8_t flag = 0; int main() { while(!falg); // do something else return 0; } // \u4e2d\u65ad\u5904\u7406\u51fd\u6570 void Exception_IRQHandler(void) { flag=1; } \u4f46\u662f\u5982\u679c flag \u4e0d\u4f7f\u7528volatile\u4fee\u9970\u7b26\uff0c\u5e76\u4e14\u7f16\u8bd1\u5668\u5f00\u542f O3 \u4f18\u5316\uff0c\u90a3\u4e48\u7a0b\u5e8f\u5c06\u4f1a\u88ab\u4f18\u5316\u6210\uff1a while (!flag); 800020a: 4b05 ldr r3, [pc, #20] ; (8000220 <main+0x2c>) 800020c: 781b ldrb r3, [r3, #0] 800020e: b903 cbnz r3, 8000212 <main+0x1e> ; \u4e00\u76f4\u5728\u8fd9\u91cc\u5faa\u73af\uff0c\u800c\u4e0d\u4f1a\u6bcf\u6b21\u90fd\u53bb\u91cd\u65b0\u5224\u65ad\u6761\u4ef6\u662f\u5426\u88ab\u6ee1\u8db3 8000210: e7fe b.n 8000210 <main+0x1c> \u7528C\u8bed\u8a00\u8868\u793a\u5c31\u76f8\u5f53\u4e8e\uff1a int main() { while(ture); return 0; } \u7a0b\u5e8f\u5c06\u6c38\u8fdc\u65e0\u6cd5\u7ee7\u7eed\u5411\u4e0b\u8fd0\u884c\uff0c\u4e0d\u7ba1\u5916\u90e8\u4e2d\u65ad\u662f\u5426\u6539\u53d8 flag \u53d8\u91cf\u3002 \u5728STM32\u4e2d\uff0c\u5728\u8fdb\u884c\u4e32\u53e3\u53d1\u9001\u7684\u65f6\u5019\uff0c\u901a\u5e38\u4f1a\u963b\u585e\u7b49\u5f85\u53d1\u9001\u5b8c\u6bd5\uff1a USART_SendData(USART1, (uint8_t) cmd); // \u963b\u585e\u7b49\u5f85\u4e32\u53e3\u53d1\u9001\u5b8c\u6bd5 while (__HAL_UART_GET_FLAG(USART1, USART_FLAG_TXE) != SET){} #define __IO volatile /*!< Defines 'read / write' permissions */ typedef struct { __IO uint32_t SR; /*!< USART Status register, Address offset: 0x00 */ __IO uint32_t DR; /*!< USART Data register, Address offset: 0x04 */ __IO uint32_t BRR; /*!< USART Baud rate register, Address offset: 0x08 */ __IO uint32_t CR1; /*!< USART Control register 1, Address offset: 0x0C */ __IO uint32_t CR2; /*!< USART Control register 2, Address offset: 0x10 */ __IO uint32_t CR3; /*!< USART Control register 3, Address offset: 0x14 */ __IO uint32_t GTPR; /*!< USART Guard time and prescaler register, Address offset: 0x18 */ } USART_TypeDef; #define __HAL_UART_GET_FLAG(__HANDLE__, __FLAG__) (((__HANDLE__)->Instance->SR & (__FLAG__)) == (__FLAG__)) \u53ef\u4ee5\u770b\u5230\u662f\u7ecf\u8fc7 volatile \u4fee\u9970\u7684","title":"2.1.2 \u4fe1\u53f7\u5904\u7406"},{"location":"Embedded System/c&c++/gdb_usage/","text":"GDB \u4f7f\u7528 # \u4f7f\u7a0b\u5e8f\u53ef\u8c03\u8bd5\uff0c\u9700\u8981\u5728\u7f16\u8bd1\u65f6\u6dfb\u52a0 -g \u9009\u9879 gcc -g test.c","title":"GDB \u4f7f\u7528"},{"location":"Embedded System/c&c++/gdb_usage/#gdb","text":"\u4f7f\u7a0b\u5e8f\u53ef\u8c03\u8bd5\uff0c\u9700\u8981\u5728\u7f16\u8bd1\u65f6\u6dfb\u52a0 -g \u9009\u9879 gcc -g test.c","title":"GDB \u4f7f\u7528"},{"location":"Embedded System/c&c++/memory_align/","text":"\u5185\u5b58\u5bf9\u9f50 # __alignof__ [](https://gcc.gnu.org/onlinedocs/gcc-3.3/gcc/Alignment.html#Alignment) GNU Structure-Layout Pragmas pragma pack is a Microsoft syntax that has been ported to GCC for compatibility reasons. # attribute ((aligned)) is a GCC-specific syntax (unsupported by MSVC). Keil ARM\u7f16\u8bd1\u5668\u9ed8\u8ba4#pragma pack(8) attribute ((packed,aligned(n))) attribute ((aligned(n))) \u81ea\u7136\u5bf9\u9f50\uff08natural alignment\uff09 \u7ed3\u6784\u4f53\u7684\u81ea\u8eab\u5bf9\u9f50\u503c\uff1a\u5176\u6210\u5458\u4e2d\u81ea\u8eab\u5bf9\u9f50\u503c\u6700\u5927\u7684\u90a3\u4e2a\u503c \u6307\u5b9a\u5bf9\u9f50\u503c \u6570\u636e\u5bf9\u9f50\u662fC\u7f16\u8bd1\u5668\u9ed8\u8ba4\u7684\u884c\u4e3a\uff0c\u4e00\u822cC\u7f16\u8bd1\u5668\u9ed8\u8ba44\u5b57\u8282\u5bf9\u9f50\uff0c\u8fd9\u5c31\u662f\u6307\u5b9a\u5bf9\u9f50\u503c\u3002 \u6709\u6548\u5bf9\u9f50\u503c \u6709\u6548\u5bf9\u9f50\u503c = min( \u81ea\u8eab\u5bf9\u9f50\u503c\uff0c\u6307\u5b9a\u5bf9\u9f50\u503c ) #pragam pack(n) For each member, if n bytes is less than the natural alignment of the member, then set the alignment to n bytes, otherwise the alignment is the natural alignment of the member. For more information see #pragma pack (n) and __alignof__. \u4f7f\u7528\u4f2a\u6307\u4ee4#pragma pack ()\uff0c\u53d6\u6d88\u81ea\u5b9a\u4e49\u5b57\u8282\u5bf9\u9f50\u65b9\u5f0f\u3002 __attribute__((packed)) This is equivalent to #pragma pack (1). However, the attribute can also be used on individual members in a structure or union. \u53e6\u5916\uff0c\u8fd8\u6709\u5982\u4e0b\u7684\u4e00\u79cd\u65b9\u5f0f\uff1a __attribute((aligned (n)))\uff0c\u8ba9\u6240\u4f5c\u7528\u7684\u7ed3\u6784\u6210\u5458\u5bf9\u9f50\u5728n\u5b57\u8282\u81ea\u7136\u8fb9\u754c\u4e0a\u3002\u5982\u679c\u7ed3\u6784\u4e2d\u6709\u6210\u5458\u7684\u957f\u5ea6\u5927\u4e8en\uff0c\u5219\u6309\u7167\u6700\u5927\u6210\u5458\u7684\u957f\u5ea6\u6765\u5bf9\u9f50\u3002","title":"\u5185\u5b58\u5bf9\u9f50"},{"location":"Embedded System/c&c++/memory_align/#_1","text":"__alignof__ [](https://gcc.gnu.org/onlinedocs/gcc-3.3/gcc/Alignment.html#Alignment) GNU Structure-Layout Pragmas","title":"\u5185\u5b58\u5bf9\u9f50"},{"location":"Embedded System/c&c++/memory_align/#pragma-pack-is-a-microsoft-syntax-that-has-been-ported-to-gcc-for-compatibility-reasons","text":"attribute ((aligned)) is a GCC-specific syntax (unsupported by MSVC). Keil ARM\u7f16\u8bd1\u5668\u9ed8\u8ba4#pragma pack(8) attribute ((packed,aligned(n))) attribute ((aligned(n))) \u81ea\u7136\u5bf9\u9f50\uff08natural alignment\uff09 \u7ed3\u6784\u4f53\u7684\u81ea\u8eab\u5bf9\u9f50\u503c\uff1a\u5176\u6210\u5458\u4e2d\u81ea\u8eab\u5bf9\u9f50\u503c\u6700\u5927\u7684\u90a3\u4e2a\u503c \u6307\u5b9a\u5bf9\u9f50\u503c \u6570\u636e\u5bf9\u9f50\u662fC\u7f16\u8bd1\u5668\u9ed8\u8ba4\u7684\u884c\u4e3a\uff0c\u4e00\u822cC\u7f16\u8bd1\u5668\u9ed8\u8ba44\u5b57\u8282\u5bf9\u9f50\uff0c\u8fd9\u5c31\u662f\u6307\u5b9a\u5bf9\u9f50\u503c\u3002 \u6709\u6548\u5bf9\u9f50\u503c \u6709\u6548\u5bf9\u9f50\u503c = min( \u81ea\u8eab\u5bf9\u9f50\u503c\uff0c\u6307\u5b9a\u5bf9\u9f50\u503c ) #pragam pack(n) For each member, if n bytes is less than the natural alignment of the member, then set the alignment to n bytes, otherwise the alignment is the natural alignment of the member. For more information see #pragma pack (n) and __alignof__. \u4f7f\u7528\u4f2a\u6307\u4ee4#pragma pack ()\uff0c\u53d6\u6d88\u81ea\u5b9a\u4e49\u5b57\u8282\u5bf9\u9f50\u65b9\u5f0f\u3002 __attribute__((packed)) This is equivalent to #pragma pack (1). However, the attribute can also be used on individual members in a structure or union. \u53e6\u5916\uff0c\u8fd8\u6709\u5982\u4e0b\u7684\u4e00\u79cd\u65b9\u5f0f\uff1a __attribute((aligned (n)))\uff0c\u8ba9\u6240\u4f5c\u7528\u7684\u7ed3\u6784\u6210\u5458\u5bf9\u9f50\u5728n\u5b57\u8282\u81ea\u7136\u8fb9\u754c\u4e0a\u3002\u5982\u679c\u7ed3\u6784\u4e2d\u6709\u6210\u5458\u7684\u957f\u5ea6\u5927\u4e8en\uff0c\u5219\u6309\u7167\u6700\u5927\u6210\u5458\u7684\u957f\u5ea6\u6765\u5bf9\u9f50\u3002","title":"pragma pack is a Microsoft syntax that has been ported to GCC for compatibility reasons."},{"location":"Embedded System/c&c++/pkg_config/","text":"pkg-config # pkg-config --libs --cflags opus -I/home/fhc/opus/local_build/include/opus -L/home/fhc/opus/local_build/lib -lopus gcc trivial_example.c `pkg-config`","title":"pkg-config"},{"location":"Embedded System/c&c++/pkg_config/#pkg-config","text":"pkg-config --libs --cflags opus -I/home/fhc/opus/local_build/include/opus -L/home/fhc/opus/local_build/lib -lopus gcc trivial_example.c `pkg-config`","title":"pkg-config"},{"location":"Embedded System/c&c++/snippet/","text":"C\u8bed\u8a00\u4ee3\u7801\u7247\u6bb5 # 1. CRC16 # static const unsigned short crc16_table[256] = { 0x0000,0x1021,0x2042,0x3063,0x4084,0x50A5,0x60C6,0x70E7, 0x8108,0x9129,0xA14A,0xB16B,0xC18C,0xD1AD,0xE1CE,0xF1EF, 0x1231,0x0210,0x3273,0x2252,0x52B5,0x4294,0x72F7,0x62D6, 0x9339,0x8318,0xB37B,0xA35A,0xD3BD,0xC39C,0xF3FF,0xE3DE, 0x2462,0x3443,0x0420,0x1401,0x64E6,0x74C7,0x44A4,0x5485, 0xA56A,0xB54B,0x8528,0x9509,0xE5EE,0xF5CF,0xC5AC,0xD58D, 0x3653,0x2672,0x1611,0x0630,0x76D7,0x66F6,0x5695,0x46B4, 0xB75B,0xA77A,0x9719,0x8738,0xF7DF,0xE7FE,0xD79D,0xC7BC, 0x48C4,0x58E5,0x6886,0x78A7,0x0840,0x1861,0x2802,0x3823, 0xC9CC,0xD9ED,0xE98E,0xF9AF,0x8948,0x9969,0xA90A,0xB92B, 0x5AF5,0x4AD4,0x7AB7,0x6A96,0x1A71,0x0A50,0x3A33,0x2A12, 0xDBFD,0xCBDC,0xFBBF,0xEB9E,0x9B79,0x8B58,0xBB3B,0xAB1A, 0x6CA6,0x7C87,0x4CE4,0x5CC5,0x2C22,0x3C03,0x0C60,0x1C41, 0xEDAE,0xFD8F,0xCDEC,0xDDCD,0xAD2A,0xBD0B,0x8D68,0x9D49, 0x7E97,0x6EB6,0x5ED5,0x4EF4,0x3E13,0x2E32,0x1E51,0x0E70, 0xFF9F,0xEFBE,0xDFDD,0xCFFC,0xBF1B,0xAF3A,0x9F59,0x8F78, 0x9188,0x81A9,0xB1CA,0xA1EB,0xD10C,0xC12D,0xF14E,0xE16F, 0x1080,0x00A1,0x30C2,0x20E3,0x5004,0x4025,0x7046,0x6067, 0x83B9,0x9398,0xA3FB,0xB3DA,0xC33D,0xD31C,0xE37F,0xF35E, 0x02B1,0x1290,0x22F3,0x32D2,0x4235,0x5214,0x6277,0x7256, 0xB5EA,0xA5CB,0x95A8,0x8589,0xF56E,0xE54F,0xD52C,0xC50D, 0x34E2,0x24C3,0x14A0,0x0481,0x7466,0x6447,0x5424,0x4405, 0xA7DB,0xB7FA,0x8799,0x97B8,0xE75F,0xF77E,0xC71D,0xD73C, 0x26D3,0x36F2,0x0691,0x16B0,0x6657,0x7676,0x4615,0x5634, 0xD94C,0xC96D,0xF90E,0xE92F,0x99C8,0x89E9,0xB98A,0xA9AB, 0x5844,0x4865,0x7806,0x6827,0x18C0,0x08E1,0x3882,0x28A3, 0xCB7D,0xDB5C,0xEB3F,0xFB1E,0x8BF9,0x9BD8,0xABBB,0xBB9A, 0x4A75,0x5A54,0x6A37,0x7A16,0x0AF1,0x1AD0,0x2AB3,0x3A92, 0xFD2E,0xED0F,0xDD6C,0xCD4D,0xBDAA,0xAD8B,0x9DE8,0x8DC9, 0x7C26,0x6C07,0x5C64,0x4C45,0x3CA2,0x2C83,0x1CE0,0x0CC1, 0xEF1F,0xFF3E,0xCF5D,0xDF7C,0xAF9B,0xBFBA,0x8FD9,0x9FF8, 0x6E17,0x7E36,0x4E55,0x5E74,0x2E93,0x3EB2,0x0ED1,0x1EF0 }; unsigned short crc_16(unsigned char *buf, int len) { unsigned short crc = 0; while (len-- > 0) crc = (crc<<8) ^ crc16_table[((crc>>8) ^ *buf++)&0xFF]; return crc; } 2. swap # void swap(int *a,int *b) { *a ^= *b ^= *a ^= *b; } int main() { int a = 10; int b = 20; swap(&a,&b); return 0; }","title":"C\u4ee3\u7801\u7247\u6bb5"},{"location":"Embedded System/c&c++/snippet/#c","text":"","title":"C\u8bed\u8a00\u4ee3\u7801\u7247\u6bb5"},{"location":"Embedded System/c&c++/snippet/#1-crc16","text":"static const unsigned short crc16_table[256] = { 0x0000,0x1021,0x2042,0x3063,0x4084,0x50A5,0x60C6,0x70E7, 0x8108,0x9129,0xA14A,0xB16B,0xC18C,0xD1AD,0xE1CE,0xF1EF, 0x1231,0x0210,0x3273,0x2252,0x52B5,0x4294,0x72F7,0x62D6, 0x9339,0x8318,0xB37B,0xA35A,0xD3BD,0xC39C,0xF3FF,0xE3DE, 0x2462,0x3443,0x0420,0x1401,0x64E6,0x74C7,0x44A4,0x5485, 0xA56A,0xB54B,0x8528,0x9509,0xE5EE,0xF5CF,0xC5AC,0xD58D, 0x3653,0x2672,0x1611,0x0630,0x76D7,0x66F6,0x5695,0x46B4, 0xB75B,0xA77A,0x9719,0x8738,0xF7DF,0xE7FE,0xD79D,0xC7BC, 0x48C4,0x58E5,0x6886,0x78A7,0x0840,0x1861,0x2802,0x3823, 0xC9CC,0xD9ED,0xE98E,0xF9AF,0x8948,0x9969,0xA90A,0xB92B, 0x5AF5,0x4AD4,0x7AB7,0x6A96,0x1A71,0x0A50,0x3A33,0x2A12, 0xDBFD,0xCBDC,0xFBBF,0xEB9E,0x9B79,0x8B58,0xBB3B,0xAB1A, 0x6CA6,0x7C87,0x4CE4,0x5CC5,0x2C22,0x3C03,0x0C60,0x1C41, 0xEDAE,0xFD8F,0xCDEC,0xDDCD,0xAD2A,0xBD0B,0x8D68,0x9D49, 0x7E97,0x6EB6,0x5ED5,0x4EF4,0x3E13,0x2E32,0x1E51,0x0E70, 0xFF9F,0xEFBE,0xDFDD,0xCFFC,0xBF1B,0xAF3A,0x9F59,0x8F78, 0x9188,0x81A9,0xB1CA,0xA1EB,0xD10C,0xC12D,0xF14E,0xE16F, 0x1080,0x00A1,0x30C2,0x20E3,0x5004,0x4025,0x7046,0x6067, 0x83B9,0x9398,0xA3FB,0xB3DA,0xC33D,0xD31C,0xE37F,0xF35E, 0x02B1,0x1290,0x22F3,0x32D2,0x4235,0x5214,0x6277,0x7256, 0xB5EA,0xA5CB,0x95A8,0x8589,0xF56E,0xE54F,0xD52C,0xC50D, 0x34E2,0x24C3,0x14A0,0x0481,0x7466,0x6447,0x5424,0x4405, 0xA7DB,0xB7FA,0x8799,0x97B8,0xE75F,0xF77E,0xC71D,0xD73C, 0x26D3,0x36F2,0x0691,0x16B0,0x6657,0x7676,0x4615,0x5634, 0xD94C,0xC96D,0xF90E,0xE92F,0x99C8,0x89E9,0xB98A,0xA9AB, 0x5844,0x4865,0x7806,0x6827,0x18C0,0x08E1,0x3882,0x28A3, 0xCB7D,0xDB5C,0xEB3F,0xFB1E,0x8BF9,0x9BD8,0xABBB,0xBB9A, 0x4A75,0x5A54,0x6A37,0x7A16,0x0AF1,0x1AD0,0x2AB3,0x3A92, 0xFD2E,0xED0F,0xDD6C,0xCD4D,0xBDAA,0xAD8B,0x9DE8,0x8DC9, 0x7C26,0x6C07,0x5C64,0x4C45,0x3CA2,0x2C83,0x1CE0,0x0CC1, 0xEF1F,0xFF3E,0xCF5D,0xDF7C,0xAF9B,0xBFBA,0x8FD9,0x9FF8, 0x6E17,0x7E36,0x4E55,0x5E74,0x2E93,0x3EB2,0x0ED1,0x1EF0 }; unsigned short crc_16(unsigned char *buf, int len) { unsigned short crc = 0; while (len-- > 0) crc = (crc<<8) ^ crc16_table[((crc>>8) ^ *buf++)&0xFF]; return crc; }","title":"1. CRC16"},{"location":"Embedded System/c&c++/snippet/#2-swap","text":"void swap(int *a,int *b) { *a ^= *b ^= *a ^= *b; } int main() { int a = 10; int b = 20; swap(&a,&b); return 0; }","title":"2. swap"},{"location":"Embedded System/c&c++/typedef_tips/","text":"typedef\u4f7f\u7528\u6ce8\u610f # /* opus.c */ struct opus{ int Fs; }; \u53d8\u91cf\u5b9a\u4e49\u4e0d\u5728\u672c\u6587\u4ef6\u5185\uff0c\u53ea\u6709typedef\u5b9a\u65f6\u662f\u4e0d\u80fd\u6b63\u5e38\u4f7f\u7528\u7684 /* main.c */ #include <stdio.h> #include <stdlib.h> typedef struct opus opus; int main() { opus *test_opus; // it is ok // test_opus->Fs = 10; // it is error printf(\"Hello\"); return 0; }","title":"typedef\u4f7f\u7528\u6ce8\u610f"},{"location":"Embedded System/c&c++/typedef_tips/#typedef","text":"/* opus.c */ struct opus{ int Fs; }; \u53d8\u91cf\u5b9a\u4e49\u4e0d\u5728\u672c\u6587\u4ef6\u5185\uff0c\u53ea\u6709typedef\u5b9a\u65f6\u662f\u4e0d\u80fd\u6b63\u5e38\u4f7f\u7528\u7684 /* main.c */ #include <stdio.h> #include <stdlib.h> typedef struct opus opus; int main() { opus *test_opus; // it is ok // test_opus->Fs = 10; // it is error printf(\"Hello\"); return 0; }","title":"typedef\u4f7f\u7528\u6ce8\u610f"},{"location":"Embedded System/c&c++/data_structure_algorithm.md/generate_prime/","text":"\u751f\u6210\u8d28\u6570 # \u8d28\u6570\uff1a\u53ea\u80fd\u88ab1\u548c\u81ea\u5df1\u6574\u9664\uff0ceg: 1 2 3 5 7 11 \u8d28\u6570\uff1a\u6392\u96641\u7684\u5f71\u54cd\uff0c\u53ea\u80fd\u88ab\u81ea\u5df1\u6574\u9664 #include <stdio.h> void generate_prime(int value) { int i,j=0; printf(\"1\\n\"); for(i=2;i<=value;i++) { for(j=2;j<=i;j++) { if(i%j==0) { /* 1.\u6392\u96641\u7684\u5f71\u54cd\u540e\uff0c\u8d28\u6570\u53ea\u80fd\u88ab\u81ea\u5df1\u6574\u9664\uff08i%j\u53ea\u80fd\u6709\u4e00\u6b21\u4e3a0\uff09\uff1b * 2.\u6240\u4ee5\u4e00\u65e6\u51fa\u73b0\u88ab\u6574\u9664\u7684\u60c5\u51b5\uff08i%j==0\uff09\uff0c\u5c31\u7ec8\u6b62\u540e\u7eed\u7684\u6574\u9664\u5224\u65ad\uff08\u7ec8\u6b62\u5faa\u73af\uff09\uff0c * \u5e76\u5224\u65ad\u6b64\u65f6\u9664\u6570\uff08i\uff09\u4e0e\u88ab\u9664\u6570\uff08j\uff09\u662f\u5426\u76f8\u7b49\uff0c\u82e5\u76f8\u7b49\u5219\u8868\u660e\u662f\u88ab\u81ea\u8eab\u6574\u9664\uff0c * \u65e2i\u662f\u8d28\u6570\u3002 * */ break; } } if(j==i) { printf(\"%d\\n\",i); } } } int main() { generate_prime(23); return 0; }","title":"\u751f\u6210\u8d28\u6570"},{"location":"Embedded System/c&c++/data_structure_algorithm.md/generate_prime/#_1","text":"\u8d28\u6570\uff1a\u53ea\u80fd\u88ab1\u548c\u81ea\u5df1\u6574\u9664\uff0ceg: 1 2 3 5 7 11 \u8d28\u6570\uff1a\u6392\u96641\u7684\u5f71\u54cd\uff0c\u53ea\u80fd\u88ab\u81ea\u5df1\u6574\u9664 #include <stdio.h> void generate_prime(int value) { int i,j=0; printf(\"1\\n\"); for(i=2;i<=value;i++) { for(j=2;j<=i;j++) { if(i%j==0) { /* 1.\u6392\u96641\u7684\u5f71\u54cd\u540e\uff0c\u8d28\u6570\u53ea\u80fd\u88ab\u81ea\u5df1\u6574\u9664\uff08i%j\u53ea\u80fd\u6709\u4e00\u6b21\u4e3a0\uff09\uff1b * 2.\u6240\u4ee5\u4e00\u65e6\u51fa\u73b0\u88ab\u6574\u9664\u7684\u60c5\u51b5\uff08i%j==0\uff09\uff0c\u5c31\u7ec8\u6b62\u540e\u7eed\u7684\u6574\u9664\u5224\u65ad\uff08\u7ec8\u6b62\u5faa\u73af\uff09\uff0c * \u5e76\u5224\u65ad\u6b64\u65f6\u9664\u6570\uff08i\uff09\u4e0e\u88ab\u9664\u6570\uff08j\uff09\u662f\u5426\u76f8\u7b49\uff0c\u82e5\u76f8\u7b49\u5219\u8868\u660e\u662f\u88ab\u81ea\u8eab\u6574\u9664\uff0c * \u65e2i\u662f\u8d28\u6570\u3002 * */ break; } } if(j==i) { printf(\"%d\\n\",i); } } } int main() { generate_prime(23); return 0; }","title":"\u751f\u6210\u8d28\u6570"},{"location":"Embedded System/cs/character_set/","text":"\u5b57\u7b26\u96c6 # Unicode # Unicode provides a unique number for every character, no matter what the platform, program, or language is. \u66f4\u591a\u4fe1\u606f\u8bf7\u8bbf\u95eeUnicode\u5b98\u7f51 Unicode\u4e3a\u4e16\u754c\u4e0a\u7684\u6bcf\u4e00\u4e2a\u5b57\u7b26\u63d0\u4f9b\u552f\u4e00\u7684\u4e8c\u8fdb\u5236\u7f16\u7801\u3002\u4f46\u662f\u5e76\u6ca1\u6709\u89c4\u5b9a\u8fd9\u4e9b\u7f16\u7801\u5728\u4e92\u8054\u7f51\u4e2d\u7684\u4f20\u8f93\u548c\u5b58\u50a8\u65b9\u5f0f\u3002 \u6240\u4ee5\u968f\u4e4b\u51fa\u73b0\u4e86UTF-8, UTF-16,UTF-32\u7b49\uff0c\u9488\u5bf9Unicode\u5b57\u7b26\u96c6\u7684\u7f16\u7801\u65b9\u6848\uff0c\u4ed6\u4eec\u89e3\u51b3\u4e86Unicode\u5b57\u7b26\u5728\u4e92\u8054\u7f51\u4e2d\u7684\u4f20\u8f93\u548c\u5b58\u50a8\u95ee\u9898\u3002 \u5176\u4e2d\u5e94\u7528\u6700\u591a\u7684\u5c31\u662fUTF-8\u3002 Unicode\u5b57\u7b26\u8868\u67e5\u8be21 Unicode\u5b57\u7b26\u8868\u67e5\u8be22 Unicode\u5b57\u7b26\u8868\u67e5\u8be22 UTF-8 # UTF\u662f Unicode transformation format \u7684\u7f29\u5199\u3002 UTF-8\u662f\u4e00\u79cd\u53d8\u957f\u7684\u7f16\u7801\u65b9\u5f0f\uff0c\u4e00\u822c\u7528 1~4 \u4e2a\u5b57\u8282\u5e8f\u5217\u6765\u8868\u793a Unicode \u5b57\u7b26\uff0c\u4e5f\u662f\u76ee\u524d\u5e94\u7528\u6700\u5e7f\u6cdb\u7684\u4e00\u79cd Unicode \u7f16\u7801\u65b9\u5f0f\u3002 UTF-8\u7f16\u7801\u89c4\u5219\uff1a # \u9996\u5b57\u8282\u7801\u7528\u6765\u533a\u5206\u91c7\u7528\u7684\u7f16\u7801\u5b57\u8282\u6570\uff1a\u5982\u679c\u9996\u5b57\u8282\u4ee5 0 \u5f00\u5934\uff0c\u8868\u793a\u5355\u5b57\u8282\u7f16\u7801\uff1b\u5982\u679c\u9996\u5b57\u8282\u4ee5 110 \u5f00\u5934\uff0c\u8868\u793a\u53cc\u5b57\u8282\u7f16\u7801\uff1b\u5982\u679c\u9996\u5b57\u8282\u4ee5 1110 \u5f00\u5934\uff0c\u8868\u793a\u4e09\u5b57\u8282\u7f16\u7801\uff0c\u4ee5\u6b64\u7c7b\u63a8\uff1b \u9664\u4e86\u9996\u5b57\u8282\u7801\u5916\uff0c\u7528 10 \u5f00\u5934\u8868\u793a\u591a\u5b57\u8282\u7f16\u7801\u7684\u540e\u7eed\u5b57\u8282\uff0c\u4e0b\u56fe\u5217\u51fa\u4e86 UTF-8 \u7528 1~6 \u4e2a\u5b57\u8282\u6240\u8868\u793a\u7684\u7f16\u7801\u65b9\u5f0f\u548c\u7801\u70b9\u8303\u56f4\uff08\u5b9e\u9645\u4e0a 1~4 \u4e2a\u5b57\u8282\u57fa\u672c\u53ef\u4ee5\u8986\u76d6\u5927\u90e8\u5206 Unicode \u7801\u70b9\uff09\uff1b \u4e0e ASCII \u7f16\u7801\u65b9\u5f0f\u5b8c\u5168\u517c\u5bb9\uff1aU+0000 \u5230 U+007F \u8303\u56f4\u5185(\u5341\u8fdb\u5236\u4e3a 0~127)\u7684 Unicode \u7801\u70b9\u503c\u6240\u5bf9\u5e94\u7684\u5b57\u7b26\u5c31\u662f ASCII \u5b57\u7b26\u96c6\u4e2d\u7684\u5b57\u7b26\uff0c\u7528\u4e00\u4e2a\u5b57\u8282\u8868\u793a\uff0c\u7f16\u7801\u65b9\u5f0f\u548c ASCII \u7f16\u7801\u4e00\u81f4\uff1b \u4ece\u4ee5\u4e0aUTF-8\u7684\u7f16\u7801\u89c4\u5219\u4e2d\uff0c\u53ef\u4ee5\u770b\u51faUTF-8\u662f\u65e0\u5b57\u8282\u5e8f\u7684\uff08\u662f\u4e00\u4e2a\u5b57\u8282\u4e00\u4e2a\u5b57\u8282\u987a\u5e8f\u5b58\u50a8\u7684\uff09\u3002 UTF-8\u89e3\u7801\u8fc7\u7a0b # \u5728\u5b9e\u9645\u7684\u89e3\u7801\u8fc7\u7a0b\u4e2d\uff1a \u60c5\u51b5 1\uff1a\u8bfb\u53d6\u5230\u4e00\u4e2a\u5b57\u8282\u7684\u9996\u4f4d\u4e3a 0\uff0c\u8868\u793a\u8fd9\u662f\u4e00\u4e2a\u5355\u5b57\u8282\u7f16\u7801\u7684 ASCII \u5b57\u7b26\uff1b \u60c5\u51b5 2\uff1a\u8bfb\u53d6\u5230\u4e00\u4e2a\u5b57\u8282\u7684\u9996\u4f4d\u4e3a 1\uff0c\u8868\u793a\u8fd9\u662f\u4e00\u4e2a\u591a\u5b57\u8282\u7f16\u7801\u7684\u5b57\u7b26\uff0c\u5982\u7ee7\u7eed\u8bfb\u5230 1\uff0c\u5219\u786e\u5b9a\u8fd9\u662f\u9996\u5b57\u8282\uff0c\u5728\u7ee7\u7eed\u8bfb\u53d6\u76f4\u5230\u9047\u5230 0 \u4e3a\u6b62\uff0c\u4e00\u5171\u8bfb\u53d6\u4e86\u51e0\u4e2a 1\uff0c\u5c31\u8868\u793a\u5728\u5b57\u7b26\u4e3a\u51e0\u4e2a\u5b57\u8282\u7684\u7f16\u7801\uff1b \u60c5\u51b5 3\uff1a\u5f53\u8bfb\u53d6\u5230\u4e00\u4e2a\u5b57\u8282\u7684\u9996\u4f4d\u4e3a 1\uff0c\u7d27\u63a5\u7740\u8bfb\u53d6\u5230\u4e00\u4e2a 0\uff0c\u5219\u8be5\u5b57\u8282\u662f\u591a\u5b57\u8282\u7f16\u7801\u7684\u540e\u7eed\u5b57\u8282\u3002 UTF-8 BOM # BOM\u5373Byte Order Mark\uff08\u5b57\u8282\u5e8f\u6807\u8bb0\uff09\u3002 \u5e26BOM\u7684UTF-8\u6587\u4ef6\u7684\u5f00\u5934\u4f1a\u6709\u4e00\u4e2aUnicode\u5b57\u7b26 U+FEFF \uff0c\u8be5\u5b57\u7b26\u5728UTF-8\u4e0b\u7684\u7f16\u7801\u662f EF BB BF \u3002 UTF-8 \u4e0d\u9700\u8981 BOM \u6765\u8868\u660e\u5b57\u8282\u987a\u5e8f\uff0c\u4f46\u662f\u53ef\u4ee5\u7528 BOM\uff08EF BB BF \u79f0\u4e3a\u96f6\u5bbd\u65e0\u95f4\u65ad\u95f4\u9694\uff09\u6765\u8868\u660e\u7f16\u7801\u65b9\u5f0f\uff0c\u5982\u679c\u63a5\u6536\u8005\u6536\u5230\u4ee5 EF BB BF \u5f00\u5934\u7684\u5b57\u8282\u6d41\uff0c\u5c31\u77e5\u9053\u8fd9\u662f UTF-8 \u7f16\u7801\u3002 \u53c2\u8003\u94fe\u63a5 # Unicode \u53ca\u7f16\u7801\u65b9\u5f0f\u6982\u8ff0","title":"\u5b57\u7b26\u96c6"},{"location":"Embedded System/cs/character_set/#_1","text":"","title":"\u5b57\u7b26\u96c6"},{"location":"Embedded System/cs/character_set/#unicode","text":"Unicode provides a unique number for every character, no matter what the platform, program, or language is. \u66f4\u591a\u4fe1\u606f\u8bf7\u8bbf\u95eeUnicode\u5b98\u7f51 Unicode\u4e3a\u4e16\u754c\u4e0a\u7684\u6bcf\u4e00\u4e2a\u5b57\u7b26\u63d0\u4f9b\u552f\u4e00\u7684\u4e8c\u8fdb\u5236\u7f16\u7801\u3002\u4f46\u662f\u5e76\u6ca1\u6709\u89c4\u5b9a\u8fd9\u4e9b\u7f16\u7801\u5728\u4e92\u8054\u7f51\u4e2d\u7684\u4f20\u8f93\u548c\u5b58\u50a8\u65b9\u5f0f\u3002 \u6240\u4ee5\u968f\u4e4b\u51fa\u73b0\u4e86UTF-8, UTF-16,UTF-32\u7b49\uff0c\u9488\u5bf9Unicode\u5b57\u7b26\u96c6\u7684\u7f16\u7801\u65b9\u6848\uff0c\u4ed6\u4eec\u89e3\u51b3\u4e86Unicode\u5b57\u7b26\u5728\u4e92\u8054\u7f51\u4e2d\u7684\u4f20\u8f93\u548c\u5b58\u50a8\u95ee\u9898\u3002 \u5176\u4e2d\u5e94\u7528\u6700\u591a\u7684\u5c31\u662fUTF-8\u3002 Unicode\u5b57\u7b26\u8868\u67e5\u8be21 Unicode\u5b57\u7b26\u8868\u67e5\u8be22 Unicode\u5b57\u7b26\u8868\u67e5\u8be22","title":"Unicode"},{"location":"Embedded System/cs/character_set/#utf-8","text":"UTF\u662f Unicode transformation format \u7684\u7f29\u5199\u3002 UTF-8\u662f\u4e00\u79cd\u53d8\u957f\u7684\u7f16\u7801\u65b9\u5f0f\uff0c\u4e00\u822c\u7528 1~4 \u4e2a\u5b57\u8282\u5e8f\u5217\u6765\u8868\u793a Unicode \u5b57\u7b26\uff0c\u4e5f\u662f\u76ee\u524d\u5e94\u7528\u6700\u5e7f\u6cdb\u7684\u4e00\u79cd Unicode \u7f16\u7801\u65b9\u5f0f\u3002","title":"UTF-8"},{"location":"Embedded System/cs/character_set/#utf-8_1","text":"\u9996\u5b57\u8282\u7801\u7528\u6765\u533a\u5206\u91c7\u7528\u7684\u7f16\u7801\u5b57\u8282\u6570\uff1a\u5982\u679c\u9996\u5b57\u8282\u4ee5 0 \u5f00\u5934\uff0c\u8868\u793a\u5355\u5b57\u8282\u7f16\u7801\uff1b\u5982\u679c\u9996\u5b57\u8282\u4ee5 110 \u5f00\u5934\uff0c\u8868\u793a\u53cc\u5b57\u8282\u7f16\u7801\uff1b\u5982\u679c\u9996\u5b57\u8282\u4ee5 1110 \u5f00\u5934\uff0c\u8868\u793a\u4e09\u5b57\u8282\u7f16\u7801\uff0c\u4ee5\u6b64\u7c7b\u63a8\uff1b \u9664\u4e86\u9996\u5b57\u8282\u7801\u5916\uff0c\u7528 10 \u5f00\u5934\u8868\u793a\u591a\u5b57\u8282\u7f16\u7801\u7684\u540e\u7eed\u5b57\u8282\uff0c\u4e0b\u56fe\u5217\u51fa\u4e86 UTF-8 \u7528 1~6 \u4e2a\u5b57\u8282\u6240\u8868\u793a\u7684\u7f16\u7801\u65b9\u5f0f\u548c\u7801\u70b9\u8303\u56f4\uff08\u5b9e\u9645\u4e0a 1~4 \u4e2a\u5b57\u8282\u57fa\u672c\u53ef\u4ee5\u8986\u76d6\u5927\u90e8\u5206 Unicode \u7801\u70b9\uff09\uff1b \u4e0e ASCII \u7f16\u7801\u65b9\u5f0f\u5b8c\u5168\u517c\u5bb9\uff1aU+0000 \u5230 U+007F \u8303\u56f4\u5185(\u5341\u8fdb\u5236\u4e3a 0~127)\u7684 Unicode \u7801\u70b9\u503c\u6240\u5bf9\u5e94\u7684\u5b57\u7b26\u5c31\u662f ASCII \u5b57\u7b26\u96c6\u4e2d\u7684\u5b57\u7b26\uff0c\u7528\u4e00\u4e2a\u5b57\u8282\u8868\u793a\uff0c\u7f16\u7801\u65b9\u5f0f\u548c ASCII \u7f16\u7801\u4e00\u81f4\uff1b \u4ece\u4ee5\u4e0aUTF-8\u7684\u7f16\u7801\u89c4\u5219\u4e2d\uff0c\u53ef\u4ee5\u770b\u51faUTF-8\u662f\u65e0\u5b57\u8282\u5e8f\u7684\uff08\u662f\u4e00\u4e2a\u5b57\u8282\u4e00\u4e2a\u5b57\u8282\u987a\u5e8f\u5b58\u50a8\u7684\uff09\u3002","title":"UTF-8\u7f16\u7801\u89c4\u5219\uff1a"},{"location":"Embedded System/cs/character_set/#utf-8_2","text":"\u5728\u5b9e\u9645\u7684\u89e3\u7801\u8fc7\u7a0b\u4e2d\uff1a \u60c5\u51b5 1\uff1a\u8bfb\u53d6\u5230\u4e00\u4e2a\u5b57\u8282\u7684\u9996\u4f4d\u4e3a 0\uff0c\u8868\u793a\u8fd9\u662f\u4e00\u4e2a\u5355\u5b57\u8282\u7f16\u7801\u7684 ASCII \u5b57\u7b26\uff1b \u60c5\u51b5 2\uff1a\u8bfb\u53d6\u5230\u4e00\u4e2a\u5b57\u8282\u7684\u9996\u4f4d\u4e3a 1\uff0c\u8868\u793a\u8fd9\u662f\u4e00\u4e2a\u591a\u5b57\u8282\u7f16\u7801\u7684\u5b57\u7b26\uff0c\u5982\u7ee7\u7eed\u8bfb\u5230 1\uff0c\u5219\u786e\u5b9a\u8fd9\u662f\u9996\u5b57\u8282\uff0c\u5728\u7ee7\u7eed\u8bfb\u53d6\u76f4\u5230\u9047\u5230 0 \u4e3a\u6b62\uff0c\u4e00\u5171\u8bfb\u53d6\u4e86\u51e0\u4e2a 1\uff0c\u5c31\u8868\u793a\u5728\u5b57\u7b26\u4e3a\u51e0\u4e2a\u5b57\u8282\u7684\u7f16\u7801\uff1b \u60c5\u51b5 3\uff1a\u5f53\u8bfb\u53d6\u5230\u4e00\u4e2a\u5b57\u8282\u7684\u9996\u4f4d\u4e3a 1\uff0c\u7d27\u63a5\u7740\u8bfb\u53d6\u5230\u4e00\u4e2a 0\uff0c\u5219\u8be5\u5b57\u8282\u662f\u591a\u5b57\u8282\u7f16\u7801\u7684\u540e\u7eed\u5b57\u8282\u3002","title":"UTF-8\u89e3\u7801\u8fc7\u7a0b"},{"location":"Embedded System/cs/character_set/#utf-8-bom","text":"BOM\u5373Byte Order Mark\uff08\u5b57\u8282\u5e8f\u6807\u8bb0\uff09\u3002 \u5e26BOM\u7684UTF-8\u6587\u4ef6\u7684\u5f00\u5934\u4f1a\u6709\u4e00\u4e2aUnicode\u5b57\u7b26 U+FEFF \uff0c\u8be5\u5b57\u7b26\u5728UTF-8\u4e0b\u7684\u7f16\u7801\u662f EF BB BF \u3002 UTF-8 \u4e0d\u9700\u8981 BOM \u6765\u8868\u660e\u5b57\u8282\u987a\u5e8f\uff0c\u4f46\u662f\u53ef\u4ee5\u7528 BOM\uff08EF BB BF \u79f0\u4e3a\u96f6\u5bbd\u65e0\u95f4\u65ad\u95f4\u9694\uff09\u6765\u8868\u660e\u7f16\u7801\u65b9\u5f0f\uff0c\u5982\u679c\u63a5\u6536\u8005\u6536\u5230\u4ee5 EF BB BF \u5f00\u5934\u7684\u5b57\u8282\u6d41\uff0c\u5c31\u77e5\u9053\u8fd9\u662f UTF-8 \u7f16\u7801\u3002","title":"UTF-8 BOM"},{"location":"Embedded System/cs/character_set/#_2","text":"Unicode \u53ca\u7f16\u7801\u65b9\u5f0f\u6982\u8ff0","title":"\u53c2\u8003\u94fe\u63a5"},{"location":"Embedded System/linux/embedded_linux_dev_env/arm_compiler/","text":"ARM\u7f16\u8bd1\u5668\u90a3\u4e9b\u4e8b # \u57fa\u4e8eARM\u5185\u6838\u7684\u82af\u7247\u5728\u6211\u4eec\u7684\u4e16\u754c\u4e2d\u65e0\u5904\u4e0d\u5728\uff0c\u4ece\u7b80\u5355\u7684MCU\u5230\u9ad8\u7aef\u7684\u5e94\u7528\u5904\u7406\u5668\uff0c\u5404\u884c\u5404\u4e1a\u4e2d\u90fd\u6709\u5b83\u4eec\u7684\u8eab\u5f71\u3002\u5982\u4ecaARM\u751f\u6001\u7cfb\u7edf\u975e\u5e38\u7e41\u8363\uff0c\u5728\u8fd9\u7e41\u8363\u7684\u80cc\u540e\u7f16\u8bd1\u5668\u7684\u4f5c\u7528\u529f\u4e0d\u53ef\u6ca1\u3002 ARM\u7f16\u8bd1\u5668\u7684\u4f9b\u5e94\u5546\u4e3b\u8981\u662fARM\u516c\u53f8\uff0cIAR\u516c\u53f8\u548cGNU\u5f00\u6e90\u7ec4\u7ec7\u3002 1. \u9002\u7528\u4e8eCortex-M/R\u5185\u6838\u7684\u7f16\u8bd1\u5668 # \u3010\u6536\u8d39\u3011ARM Compiler(\u968fARM\u7684IDE\u53d1\u5e03)\uff1a Arm Development Studio \u548c Keil MDK \u3010\u6536\u8d39\u3011ARM Compiler(\u5355\u72ec\u53d1\u5e03)\uff1a Arm Compiler \u3010\u6536\u8d39\u3011IAR\u7f16\u8bd1\u5668\u4ec5\u968fIAR\u7684IDE\u53d1\u5e03\uff1a IAR ARM Compiler\u548cIAR\u5c5e\u4e8e\u6536\u8d39\u8f6f\u4ef6\uff0c\u7ed3\u5408ARM\u548cIAR\u7684IDE\u5c31\u80fd\u5f88\u65b9\u4fbf\u7684\u5b8c\u6210MCU\u7684\u8f6f\u4ef6\u5f00\u53d1\uff0c\u8fd9\u4e5f\u662f\u6211\u4eec\u5e73\u65f6\u4f7f\u7528\u6700\u591a\u7684\u65b9\u5f0f\u3002 \u3010\u514d\u8d39\u5f00\u6e90\u3011ARM Cortex-M/R GNU\u5de5\u5177\u94fe The GNU Toolchain for the Cortex-R/M GNU Toolchain for the Cortex-R/M\u662f\u57fa\u4e8eGCC\u5f00\u53d1\u7684\uff0c\u514d\u8d39\u8f6f\u4ef6\uff0c\u9002\u7528\u4e8eCortex-R/M\u4f5c\u4e3a\u5185\u6838\u7684MCU\u3002 ST\u516c\u53f8STM32CubeIDE\u5c31\u662f\u57fa\u4e8eGNU\u5de5\u5177\u94fe\u7684\u3002 \u4e00\u822c\u5b83\u4eec\u662f\u8fd9\u4e2a\u6837\u5b50\u7684: arm-none-eabi-gcc arm-none-eabi-g++ arm-none-eabi-ar arm-none-eabi-as ... 2. \u9002\u7528\u4e8eCortex-A\u5185\u6838\u7684\u7f16\u8bd1\u5668 # \u3010\u6536\u8d39\u3011ARM Compiler(\u968fARM\u7684IDE\u53d1\u5e03)\uff1a Arm Development Studio \u3010\u6536\u8d39\u3011ARM Compiler(\u5355\u72ec\u53d1\u5e03)\uff1a Arm Compiler \u3010\u6536\u8d39\u3011IAR\u7f16\u8bd1\u5668\u4ec5\u968fIAR\u7684IDE\u53d1\u5e03\uff1a IAR ARM Compiler\u4e3a\u6536\u8d39\u8f6f\u4ef6\uff0c\u9002\u7528\u4e8eARM\u5168\u7cfb\u5217\u5185\u6838\u3002IAR\u4e3a\u6536\u8d39\u8f6f\u4ef6\uff0c\u4e3b\u8981\u652f\u6301Cortex-M\u6838\uff0c\u4e5f\u652f\u6301\u90e8\u5206Cortex-A\u6838\u3002 \u3010\u514d\u8d39\u5f00\u6e90\u3011ARM Cortex-A GNU\u5de5\u5177\u94fe The GNU Toolchain for the Cortex-A Family GNU Toolchain for the Cortex-A\u662f\u57fa\u4e8eGCC\u5f00\u53d1\u7684\uff0c\u514d\u8d39\u8f6f\u4ef6\uff0c\u9002\u7528\u4e8e\u4ee5Cortex-A\u4f5c\u4e3a\u5185\u6838\u7684\u5e94\u7528\u5904\u7406\u5668\u3002 \u3010\u514d\u8d39\u3011 Android NDK Android NDK\u662f\u514d\u8d39\u8f6f\u4ef6\uff0c\u9002\u7528\u4e8e\u7f16\u8bd1Android Native(C/C++)\u5e94\u7528\u7a0b\u5e8f\u3002 3. GNU\u5de5\u5177\u94fe # GNU\u5de5\u5177\u94fe\u514d\u8d39\u5f00\u6e90\uff0c\u5728\u4e1a\u754c\u975e\u5e38\u53d7\u6b22\u8fce\u3002 \u9488\u5bf9ARM Cortex-M\u6838\u8fdb\u884c\u5f00\u53d1\u65f6\u5e38\u7528\u7684\u662fKeil\u548cIAR\uff0c\u4f46\u662fGNU\u5de5\u5177\u94fe\u4f7f\u7528\u7684\u4e5f\u975e\u5e38\u591a\uff0c\u6bd4\u5982ST\u516c\u53f8\u65b0\u63a8\u51fa\u7684STM32CubeIDE\u3002 \u4f46\u662f\u9488\u5bf9ARM Cortex-A\u6838\u8fdb\u884c\u5f00\u53d1\u65f6\u6700\u5e38\u7528\u7684\u662fGNU\u7f16\u8bd1\u5668\uff0cAndroid NDK\u4f7f\u7528\u7684\u5c31\u662fCNU\u5de5\u5177\u94fe\u3002 Cortex-A\u6838\u4e00\u822c\u7528\u4e8e\u590d\u6742\u5e94\u7528\uff0c\u901a\u5e38\u90fd\u4f1a\u4f7f\u7528Linux\u64cd\u4f5c\u7cfb\u7edf\uff0c\u6240\u4ee5Cortex-A\u6838\u7684\u7f16\u8bd1\u5668\u4ece\u7528\u9014\u4e0a\u53ef\u5206\u4e3a\u4e24\u79cd\uff1a \u7f16\u8bd1\u88f8\u673a\u7a0b\u5e8f\u7684\u7f16\u8bd1\u5668\uff0c\u6bd4\u5982\u7f16\u8bd1Uboot\u548cLinux\u3002 arm-none-eabi-gcc \u7f16\u8bd1\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u5e94\u7528\u7a0b\u5e8f\u7684\u7f16\u8bd1\u5668\uff0c\u6bd4\u5982\u7f16\u8bd1Linux\u5e94\u7528\u7a0b\u5e8f\u3002 arm-none-linux-gnueabihf-gcc 3.1 GNU for ARM\u7f16\u8bd1\u5668\u7684\u547d\u540d\u89c4\u5219 # arch [-vendor] [-os] [-(gnu)eabi] [-gcc] \u53c2\u6570 \u542b\u4e49 arch \u4f53\u7cfb\u67b6\u6784\uff0c\u5982 arm , aarch64 , mips vendo \u5de5\u5177\u94fe\u63d0\u4f9b\u5546\uff0c\u6ca1\u6709 vendor \u65f6\uff0c\u7528 none \u4ee3\u66ff\uff1b os \u76ee\u6807\u64cd\u4f5c\u7cfb\u7edf\uff0c\u6ca1\u6709 os \u652f\u6301\u65f6\uff0c\u4e5f\u7528 none \u4ee3\u66ff eabi \u5d4c\u5165\u5f0f\u5e94\u7528\u4e8c\u8fdb\u5236\u63a5\u53e3\uff08Embedded Application Binary Interface\uff09 \u5982\u679c\u540c\u65f6\u6ca1\u6709 vendor \u548c os \u652f\u6301\uff0c\u5219\u53ea\u7528\u4e00\u4e2a none \u4ee3\u66ff\u3002 3.2 GNU For ARM\u7684\u53d1\u5e03\u9014\u5f84 # GNU For ARM\u7684\u53d1\u5e03\u9014\u5f84\u4e3b\u8981\u6709\u56db\u79cd\uff1a Linaro GNU Toolchain For ARM \u4f7f\u7528 crosstool-ng \u81ea\u5df1\u7f16\u8bd1 Android NDK 4. Clang For ARM # Arm Compiler 6 \u73b0\u5728ARM Compiler 6\u5df2\u7ecf\u4f7f\u7528Clang\u4f5c\u4e3a\u7f16\u8bd1\u5668\u524d\u7aef\u4e86\uff0c\u5728\u6700\u65b0\u7248\u7684Keil\u4e2d\u5c31\u80fd\u4f7f\u7528\u3002 Android NDK \u76ee\u524dAndroid NDK\u4e5f\u5df2\u7ecf\u8f6c\u6295Clang\u3002 4.1 Clang\u4e0eGCC\u7684\u5173\u7cfb # \u7f16\u8bd1\u5668\u662f\u4e00\u5957\u8f6f\u4ef6\uff0c\u4e00\u822c\u5206\u4e3a\u7f16\u8bd1\u5668\u524d\u7aef\u548c\u7f16\u8bd1\u5668\u540e\u7aef\u3002 \u7f16\u8bd1\u5668\u524d\u7aef\uff1a\u8d1f\u8d23\u8bcd\u6cd5\u5206\u6790\u3001\u8bed\u6cd5\u5206\u6790\u3001\u8bed\u4e49\u5206\u6790\u548c\u751f\u6210\u4e2d\u95f4\u4ee3\u7801\u3002 \u7f16\u8bd1\u5668\u540e\u7aef\uff1a\u8d1f\u8d23\u4ee3\u7801\u4f18\u5316\u548c\u751f\u6210\u76ee\u6807\u7a0b\u5e8f\u3002 \u6211\u4eec\u901a\u5e38\u8bf4\u7684GCC\u662f\u4e00\u5957\u5b8c\u6574\u7684\u7f16\u8bd1\u5668\u8f6f\u4ef6\uff0c\u5305\u62ec\u7f16\u8bd1\u5668\u524d\u7aef\u548c\u540e\u7aef\u3002\u800cClang\u53ea\u662f\u4e00\u4e2a\u7f16\u8bd1\u5668\u524d\u7aef\uff0cClang\u7531\u82f9\u679c\u516c\u53f8\u5f00\u53d1\uff0c\u636e\u8bf4\u6548\u7387\u8981\u6bd4GCC\u9ad8\u5f88\u591a\uff0cClang\u901a\u5e38\u4f7f\u7528LLVM\u4f5c\u4e3a\u7f16\u8bd1\u5668\u540e\u7aef\u3002","title":"ARM\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177"},{"location":"Embedded System/linux/embedded_linux_dev_env/arm_compiler/#arm","text":"\u57fa\u4e8eARM\u5185\u6838\u7684\u82af\u7247\u5728\u6211\u4eec\u7684\u4e16\u754c\u4e2d\u65e0\u5904\u4e0d\u5728\uff0c\u4ece\u7b80\u5355\u7684MCU\u5230\u9ad8\u7aef\u7684\u5e94\u7528\u5904\u7406\u5668\uff0c\u5404\u884c\u5404\u4e1a\u4e2d\u90fd\u6709\u5b83\u4eec\u7684\u8eab\u5f71\u3002\u5982\u4ecaARM\u751f\u6001\u7cfb\u7edf\u975e\u5e38\u7e41\u8363\uff0c\u5728\u8fd9\u7e41\u8363\u7684\u80cc\u540e\u7f16\u8bd1\u5668\u7684\u4f5c\u7528\u529f\u4e0d\u53ef\u6ca1\u3002 ARM\u7f16\u8bd1\u5668\u7684\u4f9b\u5e94\u5546\u4e3b\u8981\u662fARM\u516c\u53f8\uff0cIAR\u516c\u53f8\u548cGNU\u5f00\u6e90\u7ec4\u7ec7\u3002","title":"ARM\u7f16\u8bd1\u5668\u90a3\u4e9b\u4e8b"},{"location":"Embedded System/linux/embedded_linux_dev_env/arm_compiler/#1-cortex-mr","text":"\u3010\u6536\u8d39\u3011ARM Compiler(\u968fARM\u7684IDE\u53d1\u5e03)\uff1a Arm Development Studio \u548c Keil MDK \u3010\u6536\u8d39\u3011ARM Compiler(\u5355\u72ec\u53d1\u5e03)\uff1a Arm Compiler \u3010\u6536\u8d39\u3011IAR\u7f16\u8bd1\u5668\u4ec5\u968fIAR\u7684IDE\u53d1\u5e03\uff1a IAR ARM Compiler\u548cIAR\u5c5e\u4e8e\u6536\u8d39\u8f6f\u4ef6\uff0c\u7ed3\u5408ARM\u548cIAR\u7684IDE\u5c31\u80fd\u5f88\u65b9\u4fbf\u7684\u5b8c\u6210MCU\u7684\u8f6f\u4ef6\u5f00\u53d1\uff0c\u8fd9\u4e5f\u662f\u6211\u4eec\u5e73\u65f6\u4f7f\u7528\u6700\u591a\u7684\u65b9\u5f0f\u3002 \u3010\u514d\u8d39\u5f00\u6e90\u3011ARM Cortex-M/R GNU\u5de5\u5177\u94fe The GNU Toolchain for the Cortex-R/M GNU Toolchain for the Cortex-R/M\u662f\u57fa\u4e8eGCC\u5f00\u53d1\u7684\uff0c\u514d\u8d39\u8f6f\u4ef6\uff0c\u9002\u7528\u4e8eCortex-R/M\u4f5c\u4e3a\u5185\u6838\u7684MCU\u3002 ST\u516c\u53f8STM32CubeIDE\u5c31\u662f\u57fa\u4e8eGNU\u5de5\u5177\u94fe\u7684\u3002 \u4e00\u822c\u5b83\u4eec\u662f\u8fd9\u4e2a\u6837\u5b50\u7684: arm-none-eabi-gcc arm-none-eabi-g++ arm-none-eabi-ar arm-none-eabi-as ...","title":"1. \u9002\u7528\u4e8eCortex-M/R\u5185\u6838\u7684\u7f16\u8bd1\u5668"},{"location":"Embedded System/linux/embedded_linux_dev_env/arm_compiler/#2-cortex-a","text":"\u3010\u6536\u8d39\u3011ARM Compiler(\u968fARM\u7684IDE\u53d1\u5e03)\uff1a Arm Development Studio \u3010\u6536\u8d39\u3011ARM Compiler(\u5355\u72ec\u53d1\u5e03)\uff1a Arm Compiler \u3010\u6536\u8d39\u3011IAR\u7f16\u8bd1\u5668\u4ec5\u968fIAR\u7684IDE\u53d1\u5e03\uff1a IAR ARM Compiler\u4e3a\u6536\u8d39\u8f6f\u4ef6\uff0c\u9002\u7528\u4e8eARM\u5168\u7cfb\u5217\u5185\u6838\u3002IAR\u4e3a\u6536\u8d39\u8f6f\u4ef6\uff0c\u4e3b\u8981\u652f\u6301Cortex-M\u6838\uff0c\u4e5f\u652f\u6301\u90e8\u5206Cortex-A\u6838\u3002 \u3010\u514d\u8d39\u5f00\u6e90\u3011ARM Cortex-A GNU\u5de5\u5177\u94fe The GNU Toolchain for the Cortex-A Family GNU Toolchain for the Cortex-A\u662f\u57fa\u4e8eGCC\u5f00\u53d1\u7684\uff0c\u514d\u8d39\u8f6f\u4ef6\uff0c\u9002\u7528\u4e8e\u4ee5Cortex-A\u4f5c\u4e3a\u5185\u6838\u7684\u5e94\u7528\u5904\u7406\u5668\u3002 \u3010\u514d\u8d39\u3011 Android NDK Android NDK\u662f\u514d\u8d39\u8f6f\u4ef6\uff0c\u9002\u7528\u4e8e\u7f16\u8bd1Android Native(C/C++)\u5e94\u7528\u7a0b\u5e8f\u3002","title":"2. \u9002\u7528\u4e8eCortex-A\u5185\u6838\u7684\u7f16\u8bd1\u5668"},{"location":"Embedded System/linux/embedded_linux_dev_env/arm_compiler/#3-gnu","text":"GNU\u5de5\u5177\u94fe\u514d\u8d39\u5f00\u6e90\uff0c\u5728\u4e1a\u754c\u975e\u5e38\u53d7\u6b22\u8fce\u3002 \u9488\u5bf9ARM Cortex-M\u6838\u8fdb\u884c\u5f00\u53d1\u65f6\u5e38\u7528\u7684\u662fKeil\u548cIAR\uff0c\u4f46\u662fGNU\u5de5\u5177\u94fe\u4f7f\u7528\u7684\u4e5f\u975e\u5e38\u591a\uff0c\u6bd4\u5982ST\u516c\u53f8\u65b0\u63a8\u51fa\u7684STM32CubeIDE\u3002 \u4f46\u662f\u9488\u5bf9ARM Cortex-A\u6838\u8fdb\u884c\u5f00\u53d1\u65f6\u6700\u5e38\u7528\u7684\u662fGNU\u7f16\u8bd1\u5668\uff0cAndroid NDK\u4f7f\u7528\u7684\u5c31\u662fCNU\u5de5\u5177\u94fe\u3002 Cortex-A\u6838\u4e00\u822c\u7528\u4e8e\u590d\u6742\u5e94\u7528\uff0c\u901a\u5e38\u90fd\u4f1a\u4f7f\u7528Linux\u64cd\u4f5c\u7cfb\u7edf\uff0c\u6240\u4ee5Cortex-A\u6838\u7684\u7f16\u8bd1\u5668\u4ece\u7528\u9014\u4e0a\u53ef\u5206\u4e3a\u4e24\u79cd\uff1a \u7f16\u8bd1\u88f8\u673a\u7a0b\u5e8f\u7684\u7f16\u8bd1\u5668\uff0c\u6bd4\u5982\u7f16\u8bd1Uboot\u548cLinux\u3002 arm-none-eabi-gcc \u7f16\u8bd1\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u5e94\u7528\u7a0b\u5e8f\u7684\u7f16\u8bd1\u5668\uff0c\u6bd4\u5982\u7f16\u8bd1Linux\u5e94\u7528\u7a0b\u5e8f\u3002 arm-none-linux-gnueabihf-gcc","title":"3. GNU\u5de5\u5177\u94fe"},{"location":"Embedded System/linux/embedded_linux_dev_env/arm_compiler/#31-gnu-for-arm","text":"arch [-vendor] [-os] [-(gnu)eabi] [-gcc] \u53c2\u6570 \u542b\u4e49 arch \u4f53\u7cfb\u67b6\u6784\uff0c\u5982 arm , aarch64 , mips vendo \u5de5\u5177\u94fe\u63d0\u4f9b\u5546\uff0c\u6ca1\u6709 vendor \u65f6\uff0c\u7528 none \u4ee3\u66ff\uff1b os \u76ee\u6807\u64cd\u4f5c\u7cfb\u7edf\uff0c\u6ca1\u6709 os \u652f\u6301\u65f6\uff0c\u4e5f\u7528 none \u4ee3\u66ff eabi \u5d4c\u5165\u5f0f\u5e94\u7528\u4e8c\u8fdb\u5236\u63a5\u53e3\uff08Embedded Application Binary Interface\uff09 \u5982\u679c\u540c\u65f6\u6ca1\u6709 vendor \u548c os \u652f\u6301\uff0c\u5219\u53ea\u7528\u4e00\u4e2a none \u4ee3\u66ff\u3002","title":"3.1 GNU for ARM\u7f16\u8bd1\u5668\u7684\u547d\u540d\u89c4\u5219"},{"location":"Embedded System/linux/embedded_linux_dev_env/arm_compiler/#32-gnu-for-arm","text":"GNU For ARM\u7684\u53d1\u5e03\u9014\u5f84\u4e3b\u8981\u6709\u56db\u79cd\uff1a Linaro GNU Toolchain For ARM \u4f7f\u7528 crosstool-ng \u81ea\u5df1\u7f16\u8bd1 Android NDK","title":"3.2 GNU For ARM\u7684\u53d1\u5e03\u9014\u5f84"},{"location":"Embedded System/linux/embedded_linux_dev_env/arm_compiler/#4-clang-for-arm","text":"Arm Compiler 6 \u73b0\u5728ARM Compiler 6\u5df2\u7ecf\u4f7f\u7528Clang\u4f5c\u4e3a\u7f16\u8bd1\u5668\u524d\u7aef\u4e86\uff0c\u5728\u6700\u65b0\u7248\u7684Keil\u4e2d\u5c31\u80fd\u4f7f\u7528\u3002 Android NDK \u76ee\u524dAndroid NDK\u4e5f\u5df2\u7ecf\u8f6c\u6295Clang\u3002","title":"4. Clang For ARM"},{"location":"Embedded System/linux/embedded_linux_dev_env/arm_compiler/#41-clanggcc","text":"\u7f16\u8bd1\u5668\u662f\u4e00\u5957\u8f6f\u4ef6\uff0c\u4e00\u822c\u5206\u4e3a\u7f16\u8bd1\u5668\u524d\u7aef\u548c\u7f16\u8bd1\u5668\u540e\u7aef\u3002 \u7f16\u8bd1\u5668\u524d\u7aef\uff1a\u8d1f\u8d23\u8bcd\u6cd5\u5206\u6790\u3001\u8bed\u6cd5\u5206\u6790\u3001\u8bed\u4e49\u5206\u6790\u548c\u751f\u6210\u4e2d\u95f4\u4ee3\u7801\u3002 \u7f16\u8bd1\u5668\u540e\u7aef\uff1a\u8d1f\u8d23\u4ee3\u7801\u4f18\u5316\u548c\u751f\u6210\u76ee\u6807\u7a0b\u5e8f\u3002 \u6211\u4eec\u901a\u5e38\u8bf4\u7684GCC\u662f\u4e00\u5957\u5b8c\u6574\u7684\u7f16\u8bd1\u5668\u8f6f\u4ef6\uff0c\u5305\u62ec\u7f16\u8bd1\u5668\u524d\u7aef\u548c\u540e\u7aef\u3002\u800cClang\u53ea\u662f\u4e00\u4e2a\u7f16\u8bd1\u5668\u524d\u7aef\uff0cClang\u7531\u82f9\u679c\u516c\u53f8\u5f00\u53d1\uff0c\u636e\u8bf4\u6548\u7387\u8981\u6bd4GCC\u9ad8\u5f88\u591a\uff0cClang\u901a\u5e38\u4f7f\u7528LLVM\u4f5c\u4e3a\u7f16\u8bd1\u5668\u540e\u7aef\u3002","title":"4.1 Clang\u4e0eGCC\u7684\u5173\u7cfb"},{"location":"Embedded System/linux/embedded_linux_dev_env/build_linux_source_tree_on_ubuntu/","text":"Ubuntu\u6784\u5efa\u5185\u6838\u6e90\u7801\u6811 # 1\u3001\u5217\u51fa\u53ef\u7528\u7684\u6e90\u7801\u5305 # sudo apt-cache search linux-source Ubuntu\u4f1a\u652f\u6301\u597d\u51e0\u4e2a\u7248\u672c\u7684Linux\u5185\u6838 2\u3001\u5b89\u88c5Linux\u5185\u6838\u6e90\u7801 # sudo apt-get install xx-xx-xx 3.\u5b89\u88c5\u7f16\u8bd1\u6e90\u7801\u6240\u9700\u7684\u4f9d\u8d56\u5e93 # sudo apt-get install build-essential libncurses5-dev libssl-dev \u7f16\u8bd1\u62a5\u9519\u7684\u8bdd\uff0c\u6ce8\u610f\u67e5\u770b\u62a5\u9519\u4fe1\u606f\uff0c\u5c11\u54ea\u4e2a\u4f9d\u8d56\u5e93\u5c31\u5b89\u88c5\u54ea\u4e2a 3.\u7f16\u8bd1\u6e90\u7801 # #\u6e05\u9664\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u4ea7\u751f\u7684\u6240\u6709\u4e2d\u95f4\u6587\u4ef6 sudo make mrproper #\u6e05\u7406\u4e0a\u4e00\u6b21\u4ea7\u751f\u7684\u7f16\u8bd1\u4e2d\u95f4\u6587\u4ef6 sudo make clean #\u914d\u7f6e\u540e\u751f\u6210.config\u6587\u4ef6 sudo make menuconfig #\u7f16\u8bd1\u6e90\u7801 sudo make \u5b89\u88c5\u5185\u6838\u6a21\u5757 # sudo make modules_install \u5b89\u88c5\u5185\u6838 # sudo make install \u542f\u7528\u5185\u6838\u4f5c\u4e3a\u5f15\u5bfc # \u4e00\u65e6 make install \u547d\u4ee4\u5b8c\u6210\u4e86\uff0c\u5c31\u662f\u65f6\u5019\u5c06\u5185\u6838\u542f\u7528\u6765\u4f5c\u4e3a\u5f15\u5bfc\u3002\u4f7f\u7528\u8fd9\u4e2a\u547d\u4ee4\u6765\u5b9e\u73b0\uff1a sudo update-initramfs -c -k 4.17-rc2 \u5f53\u7136\uff0c\u4f60\u9700\u8981\u5c06\u4e0a\u8ff0\u5185\u6838\u7248\u672c\u53f7\u66ff\u6362\u6210\u4f60\u7f16\u8bd1\u5b8c\u7684\u3002\u5f53\u547d\u4ee4\u6267\u884c\u5b8c\u6bd5\u540e\uff0c\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u6765\u66f4\u65b0 grub\uff1a sudo update-grub \u73b0\u5728\u4f60\u53ef\u4ee5\u91cd\u542f\u7cfb\u7edf\u5e76\u4e14\u9009\u62e9\u65b0\u5b89\u88c5\u7684\u5185\u6838\u4e86\u3002","title":"Ubuntu\u4e2d\u6784\u5efa\u5185\u6838\u6e90\u7801\u6811"},{"location":"Embedded System/linux/embedded_linux_dev_env/build_linux_source_tree_on_ubuntu/#ubuntu","text":"","title":"Ubuntu\u6784\u5efa\u5185\u6838\u6e90\u7801\u6811"},{"location":"Embedded System/linux/embedded_linux_dev_env/build_linux_source_tree_on_ubuntu/#1","text":"sudo apt-cache search linux-source Ubuntu\u4f1a\u652f\u6301\u597d\u51e0\u4e2a\u7248\u672c\u7684Linux\u5185\u6838","title":"1\u3001\u5217\u51fa\u53ef\u7528\u7684\u6e90\u7801\u5305"},{"location":"Embedded System/linux/embedded_linux_dev_env/build_linux_source_tree_on_ubuntu/#2linux","text":"sudo apt-get install xx-xx-xx","title":"2\u3001\u5b89\u88c5Linux\u5185\u6838\u6e90\u7801"},{"location":"Embedded System/linux/embedded_linux_dev_env/build_linux_source_tree_on_ubuntu/#3","text":"sudo apt-get install build-essential libncurses5-dev libssl-dev \u7f16\u8bd1\u62a5\u9519\u7684\u8bdd\uff0c\u6ce8\u610f\u67e5\u770b\u62a5\u9519\u4fe1\u606f\uff0c\u5c11\u54ea\u4e2a\u4f9d\u8d56\u5e93\u5c31\u5b89\u88c5\u54ea\u4e2a","title":"3.\u5b89\u88c5\u7f16\u8bd1\u6e90\u7801\u6240\u9700\u7684\u4f9d\u8d56\u5e93"},{"location":"Embedded System/linux/embedded_linux_dev_env/build_linux_source_tree_on_ubuntu/#3_1","text":"#\u6e05\u9664\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u4ea7\u751f\u7684\u6240\u6709\u4e2d\u95f4\u6587\u4ef6 sudo make mrproper #\u6e05\u7406\u4e0a\u4e00\u6b21\u4ea7\u751f\u7684\u7f16\u8bd1\u4e2d\u95f4\u6587\u4ef6 sudo make clean #\u914d\u7f6e\u540e\u751f\u6210.config\u6587\u4ef6 sudo make menuconfig #\u7f16\u8bd1\u6e90\u7801 sudo make","title":"3.\u7f16\u8bd1\u6e90\u7801"},{"location":"Embedded System/linux/embedded_linux_dev_env/build_linux_source_tree_on_ubuntu/#_1","text":"sudo make modules_install","title":"\u5b89\u88c5\u5185\u6838\u6a21\u5757"},{"location":"Embedded System/linux/embedded_linux_dev_env/build_linux_source_tree_on_ubuntu/#_2","text":"sudo make install","title":"\u5b89\u88c5\u5185\u6838"},{"location":"Embedded System/linux/embedded_linux_dev_env/build_linux_source_tree_on_ubuntu/#_3","text":"\u4e00\u65e6 make install \u547d\u4ee4\u5b8c\u6210\u4e86\uff0c\u5c31\u662f\u65f6\u5019\u5c06\u5185\u6838\u542f\u7528\u6765\u4f5c\u4e3a\u5f15\u5bfc\u3002\u4f7f\u7528\u8fd9\u4e2a\u547d\u4ee4\u6765\u5b9e\u73b0\uff1a sudo update-initramfs -c -k 4.17-rc2 \u5f53\u7136\uff0c\u4f60\u9700\u8981\u5c06\u4e0a\u8ff0\u5185\u6838\u7248\u672c\u53f7\u66ff\u6362\u6210\u4f60\u7f16\u8bd1\u5b8c\u7684\u3002\u5f53\u547d\u4ee4\u6267\u884c\u5b8c\u6bd5\u540e\uff0c\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u6765\u66f4\u65b0 grub\uff1a sudo update-grub \u73b0\u5728\u4f60\u53ef\u4ee5\u91cd\u542f\u7cfb\u7edf\u5e76\u4e14\u9009\u62e9\u65b0\u5b89\u88c5\u7684\u5185\u6838\u4e86\u3002","title":"\u542f\u7528\u5185\u6838\u4f5c\u4e3a\u5f15\u5bfc"},{"location":"Embedded System/linux/embedded_linux_dev_env/ftp_server/","text":"FTP\u670d\u52a1\u642d\u5efa # \u672c\u6587\u5b9e\u9a8c\u73af\u5883\uff1aUbuntu16.04 64bit LTS vsftpd - Secure, fast FTP server for UNIX-like systems 1. \u5b89\u88c5FTP\u670d\u52a1 # $ sudo apt-get install vsftpd 2. \u914d\u7f6eFTP\u670d\u52a1 # \u6253\u5f00FTP\u914d\u7f6e\u6587\u4ef6 $ sudo vim /etc/vsftpd.conf \u5c06 \u201d write_enable=YES \u201c\u524d\u7684\u6ce8\u91ca\u7b26\u53f7\u201c#\u201d\u53bb\u6389\uff0c\u4fdd\u5b58\u9000\u51fa 3. \u542f\u52a8FTP\u670d\u52a1 # $ sudo service vsftpd restart # \u6709\u65f6\u91cd\u542f\u4e0d\u751f\u6548\uff0c\u53ef\u4ee5\u5148\u5173\u95ed\u518d\u542f\u52a8 $ sudo service vsftpd stop $ sudo service vsftpd start 4. Windows\u4e2d\u8bbf\u95eeFTP\u670d\u52a1\u5668 # \u63a8\u8350\u4f7f\u7528\u514d\u8d39\u8f6f\u4ef6 FileZilla \u3002 \u66f4\u591a\u7cbe\u5f69\u8d44\u8baf\uff0c\u8bf7\u626b\u7801\u5173\u6ce8\uff01","title":"FTP\u670d\u52a1\u914d\u7f6e"},{"location":"Embedded System/linux/embedded_linux_dev_env/ftp_server/#ftp","text":"\u672c\u6587\u5b9e\u9a8c\u73af\u5883\uff1aUbuntu16.04 64bit LTS vsftpd - Secure, fast FTP server for UNIX-like systems","title":"FTP\u670d\u52a1\u642d\u5efa"},{"location":"Embedded System/linux/embedded_linux_dev_env/ftp_server/#1-ftp","text":"$ sudo apt-get install vsftpd","title":"1. \u5b89\u88c5FTP\u670d\u52a1"},{"location":"Embedded System/linux/embedded_linux_dev_env/ftp_server/#2-ftp","text":"\u6253\u5f00FTP\u914d\u7f6e\u6587\u4ef6 $ sudo vim /etc/vsftpd.conf \u5c06 \u201d write_enable=YES \u201c\u524d\u7684\u6ce8\u91ca\u7b26\u53f7\u201c#\u201d\u53bb\u6389\uff0c\u4fdd\u5b58\u9000\u51fa","title":"2. \u914d\u7f6eFTP\u670d\u52a1"},{"location":"Embedded System/linux/embedded_linux_dev_env/ftp_server/#3-ftp","text":"$ sudo service vsftpd restart # \u6709\u65f6\u91cd\u542f\u4e0d\u751f\u6548\uff0c\u53ef\u4ee5\u5148\u5173\u95ed\u518d\u542f\u52a8 $ sudo service vsftpd stop $ sudo service vsftpd start","title":"3. \u542f\u52a8FTP\u670d\u52a1"},{"location":"Embedded System/linux/embedded_linux_dev_env/ftp_server/#4-windowsftp","text":"\u63a8\u8350\u4f7f\u7528\u514d\u8d39\u8f6f\u4ef6 FileZilla \u3002 \u66f4\u591a\u7cbe\u5f69\u8d44\u8baf\uff0c\u8bf7\u626b\u7801\u5173\u6ce8\uff01","title":"4. Windows\u4e2d\u8bbf\u95eeFTP\u670d\u52a1\u5668"},{"location":"Embedded System/linux/embedded_linux_dev_env/linux_kernel_compile/","text":"Linux\u5185\u6838\u7f16\u8bd1 #","title":"Linux\u5185\u6838\u7f16\u8bd1"},{"location":"Embedded System/linux/embedded_linux_dev_env/linux_kernel_compile/#linux","text":"","title":"Linux\u5185\u6838\u7f16\u8bd1"},{"location":"Embedded System/linux/embedded_linux_dev_env/nfs_server/","text":"1. \u5b89\u88c5NFS\u670d\u52a1 # sudo apt-get install nfs-kernel-server 2. \u914d\u7f6eNFS # \u6253\u5f00NFS\u914d\u7f6e\u6587\u4ef6/etc/exports\uff0c\u8be5\u6587\u4ef6\u4e2d\u7684\u76ee\u5f55\u4f1a\u6309\u7167\u914d\u7f6e\u8981\u6c42\u66b4\u9732\u7ed9\u6307\u5b9a\u7684NFS\u5ba2\u6237\u7aef\u3002 $ sudo vim /etc/exports \u5728/etc/exports\u672b\u5c3e\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9\uff1a /path/to/nfs/ *(rw,sync,no_root_squash,no_subtree_check) \u53c2\u6570\u8bf4\u660e\uff1a \u683c\u5f0f\uff1a<\u8f93\u51fa\u76ee\u5f55> [hostname1 (\u6743\u9650\u914d\u7f6e)] [hostname2 (\u6743\u9650\u914d\u7f6e)] /path/to/nfs/ \u8981\u66b4\u9732\u7ed9NFS\u5ba2\u6237\u7aef\u7684\u76ee\u5f55 /* \u4ee3\u8868\u6240\u6709\uff0c\u8868\u793a\u66b4\u9732\u7ed9\u6240\u6709\u7684NFS\u5ba2\u6237\u7aef \u5c0f\u62ec\u53f7\u4e2d\u7684\u5185\u5bb9\u662fNFS\u5ba2\u6237\u7aef\u7684\u6743\u9650\u914d\u7f6e \u4e3e\u4f8b: # \u5c06/path/to/nfs/\u76ee\u5f55\u66b4\u9732\u7ed9NFS\u5ba2\u6237\u7aef192.168.2.100 /home/xxx/nfs 192.168.2.100/24(rw,sync,no_root_squash,no_subtree_check) # \u5c06/home/xxx/nfs\u76ee\u5f55\u66b4\u9732\u7ed9\u4efb\u610fNFS\u5ba2\u6237\u7aef /home/xxx/nfs *(rw,sync,no_root_squash,no_subtree_check) rw\uff1a\u8bfb\u5199\u6743\u9650 sync\uff1a\u540c\u6b65\u6a21\u5f0f\uff0c\u5185\u5b58\u4e2d\u6570\u636e\u65f6\u65f6\u5199\u5165\u78c1\u76d8 no_root_squash\uff1a\u5f53NFS\u5ba2\u6237\u7aef\u4ee5root\u8eab\u4efd\u8bbf\u95ee\u65f6\uff0c\u6620\u5c04\u4e3aNFS\u670d\u52a1\u5668\u7684root\u7528\u6237 no_subtree_check\uff1a\u4e0d\u68c0\u67e5\u7236\u76ee\u5f55\u6743\u9650 3. \u91cd\u542fNFS\u670d\u52a1 # sudo /etc/init.d/nfs-kernel-server restart 4. \u67e5\u770bNFS\u670d\u52a1\u72b6\u6001 # sudo /etc/init.d/nfs-kernel-server status 5. \u5f00\u53d1\u677f\u6302\u8f7dNFS\u76ee\u5f55 # 5.1 \u5f00\u53d1\u677f\u542f\u52a8Linux\u7cfb\u7edf\u540e\uff0c\u5728Linux\u7cfb\u7edf\u4e2d\u6302\u8f7d # mount -t nfs -o nolock 192.168.2.200:/home/book/fhc/nfs /mnt \u53c2\u6570\u4ecb\u7ecd\uff1a mount\uff1aLinux\u7cfb\u7edf\u4e2d\u6302\u8f7d\u6587\u4ef6\u7cfb\u7edf\u7684\u6307\u4ee4\uff0c\u5378\u8f7d\u662fumount -t nfs\uff1a\u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b\u4e3anfs -o nolock\uff1a\u4e0d\u52a0\u9501 192.168.2.200\uff1anfs\u670d\u52a1\u7aefIP /home/book/fhc/nfs\uff1anfs\u670d\u52a1\u7aef\u66b4\u9732\u7684\u6587\u4ef6\u5939 /mnt\uff1anfs\u5ba2\u6237\u7aef\u6302\u8f7d\u70b9 5.2 \u5728linux\u5185\u6838\u542f\u52a8\u65f6\u6302\u8f7d\uff08u-boot\u4e2d\u8bbe\u7f6e\u542f\u52a8\u53c2\u6570\uff09 # setenv bootargs root=/dev/nfs nfsroot=192.168.10.110:/home/xxx/nfs ip=192.168.10.122 init=/linuxrc console=ttySAC0,115200 5.3 u-boot\u4e2d\u4f7f\u7528NFS # \u65e9\u671f\u7684u-boot\uff082012\u5e74\uff09\u9ed8\u8ba4\u652f\u6301NFS Version 2\uff08\u636e\u8bf4\u6700\u65b0\u76842019\u5e74\u662f\u652f\u6301NFS Version 3\uff09\uff0c\u4f46\u662fUbuntu 18.04\u9ed8\u8ba4\u652f\u6301\u7684\u662fNFS Version 3\u548cNFS Version 4\u3002 \u6240\u4ee5\u4e3a\u4e86\u786e\u4fddu-boot\u80fd\u591f\u6b63\u5e38\u7684\u4f7f\u7528NFS\uff0c\u6211\u4eec\u9700\u8981\u5c06Ubuntu 18.04 \u4e2d\u7684NFS\u8bbe\u7f6e\u4e3a\u652f\u6301Version 2, Version 3 \u548cVersion 4\u3002 \u6253\u5f00NFS\u914d\u7f6e\u6587\u4ef6\uff1a $ sudo vim /etc/default/nfs-kernel-server \u5728\u6587\u4ef6\u672b\u5c3e\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9\uff1a RPCNFSDOPTS=\"--nfs-version 2,3,4 --debug --syslog\" \u68c0\u67e5\u662f\u5426\u8bbe\u7f6e\u6210\u529f\uff1a rpcinfo -p localhost","title":"NFS"},{"location":"Embedded System/linux/embedded_linux_dev_env/nfs_server/#1-nfs","text":"sudo apt-get install nfs-kernel-server","title":"1. \u5b89\u88c5NFS\u670d\u52a1"},{"location":"Embedded System/linux/embedded_linux_dev_env/nfs_server/#2-nfs","text":"\u6253\u5f00NFS\u914d\u7f6e\u6587\u4ef6/etc/exports\uff0c\u8be5\u6587\u4ef6\u4e2d\u7684\u76ee\u5f55\u4f1a\u6309\u7167\u914d\u7f6e\u8981\u6c42\u66b4\u9732\u7ed9\u6307\u5b9a\u7684NFS\u5ba2\u6237\u7aef\u3002 $ sudo vim /etc/exports \u5728/etc/exports\u672b\u5c3e\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9\uff1a /path/to/nfs/ *(rw,sync,no_root_squash,no_subtree_check) \u53c2\u6570\u8bf4\u660e\uff1a \u683c\u5f0f\uff1a<\u8f93\u51fa\u76ee\u5f55> [hostname1 (\u6743\u9650\u914d\u7f6e)] [hostname2 (\u6743\u9650\u914d\u7f6e)] /path/to/nfs/ \u8981\u66b4\u9732\u7ed9NFS\u5ba2\u6237\u7aef\u7684\u76ee\u5f55 /* \u4ee3\u8868\u6240\u6709\uff0c\u8868\u793a\u66b4\u9732\u7ed9\u6240\u6709\u7684NFS\u5ba2\u6237\u7aef \u5c0f\u62ec\u53f7\u4e2d\u7684\u5185\u5bb9\u662fNFS\u5ba2\u6237\u7aef\u7684\u6743\u9650\u914d\u7f6e \u4e3e\u4f8b: # \u5c06/path/to/nfs/\u76ee\u5f55\u66b4\u9732\u7ed9NFS\u5ba2\u6237\u7aef192.168.2.100 /home/xxx/nfs 192.168.2.100/24(rw,sync,no_root_squash,no_subtree_check) # \u5c06/home/xxx/nfs\u76ee\u5f55\u66b4\u9732\u7ed9\u4efb\u610fNFS\u5ba2\u6237\u7aef /home/xxx/nfs *(rw,sync,no_root_squash,no_subtree_check) rw\uff1a\u8bfb\u5199\u6743\u9650 sync\uff1a\u540c\u6b65\u6a21\u5f0f\uff0c\u5185\u5b58\u4e2d\u6570\u636e\u65f6\u65f6\u5199\u5165\u78c1\u76d8 no_root_squash\uff1a\u5f53NFS\u5ba2\u6237\u7aef\u4ee5root\u8eab\u4efd\u8bbf\u95ee\u65f6\uff0c\u6620\u5c04\u4e3aNFS\u670d\u52a1\u5668\u7684root\u7528\u6237 no_subtree_check\uff1a\u4e0d\u68c0\u67e5\u7236\u76ee\u5f55\u6743\u9650","title":"2. \u914d\u7f6eNFS"},{"location":"Embedded System/linux/embedded_linux_dev_env/nfs_server/#3-nfs","text":"sudo /etc/init.d/nfs-kernel-server restart","title":"3. \u91cd\u542fNFS\u670d\u52a1"},{"location":"Embedded System/linux/embedded_linux_dev_env/nfs_server/#4-nfs","text":"sudo /etc/init.d/nfs-kernel-server status","title":"4. \u67e5\u770bNFS\u670d\u52a1\u72b6\u6001"},{"location":"Embedded System/linux/embedded_linux_dev_env/nfs_server/#5-nfs","text":"","title":"5. \u5f00\u53d1\u677f\u6302\u8f7dNFS\u76ee\u5f55"},{"location":"Embedded System/linux/embedded_linux_dev_env/nfs_server/#51-linuxlinux","text":"mount -t nfs -o nolock 192.168.2.200:/home/book/fhc/nfs /mnt \u53c2\u6570\u4ecb\u7ecd\uff1a mount\uff1aLinux\u7cfb\u7edf\u4e2d\u6302\u8f7d\u6587\u4ef6\u7cfb\u7edf\u7684\u6307\u4ee4\uff0c\u5378\u8f7d\u662fumount -t nfs\uff1a\u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b\u4e3anfs -o nolock\uff1a\u4e0d\u52a0\u9501 192.168.2.200\uff1anfs\u670d\u52a1\u7aefIP /home/book/fhc/nfs\uff1anfs\u670d\u52a1\u7aef\u66b4\u9732\u7684\u6587\u4ef6\u5939 /mnt\uff1anfs\u5ba2\u6237\u7aef\u6302\u8f7d\u70b9","title":"5.1 \u5f00\u53d1\u677f\u542f\u52a8Linux\u7cfb\u7edf\u540e\uff0c\u5728Linux\u7cfb\u7edf\u4e2d\u6302\u8f7d"},{"location":"Embedded System/linux/embedded_linux_dev_env/nfs_server/#52-linuxu-boot","text":"setenv bootargs root=/dev/nfs nfsroot=192.168.10.110:/home/xxx/nfs ip=192.168.10.122 init=/linuxrc console=ttySAC0,115200","title":"5.2 \u5728linux\u5185\u6838\u542f\u52a8\u65f6\u6302\u8f7d\uff08u-boot\u4e2d\u8bbe\u7f6e\u542f\u52a8\u53c2\u6570\uff09"},{"location":"Embedded System/linux/embedded_linux_dev_env/nfs_server/#53-u-bootnfs","text":"\u65e9\u671f\u7684u-boot\uff082012\u5e74\uff09\u9ed8\u8ba4\u652f\u6301NFS Version 2\uff08\u636e\u8bf4\u6700\u65b0\u76842019\u5e74\u662f\u652f\u6301NFS Version 3\uff09\uff0c\u4f46\u662fUbuntu 18.04\u9ed8\u8ba4\u652f\u6301\u7684\u662fNFS Version 3\u548cNFS Version 4\u3002 \u6240\u4ee5\u4e3a\u4e86\u786e\u4fddu-boot\u80fd\u591f\u6b63\u5e38\u7684\u4f7f\u7528NFS\uff0c\u6211\u4eec\u9700\u8981\u5c06Ubuntu 18.04 \u4e2d\u7684NFS\u8bbe\u7f6e\u4e3a\u652f\u6301Version 2, Version 3 \u548cVersion 4\u3002 \u6253\u5f00NFS\u914d\u7f6e\u6587\u4ef6\uff1a $ sudo vim /etc/default/nfs-kernel-server \u5728\u6587\u4ef6\u672b\u5c3e\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9\uff1a RPCNFSDOPTS=\"--nfs-version 2,3,4 --debug --syslog\" \u68c0\u67e5\u662f\u5426\u8bbe\u7f6e\u6210\u529f\uff1a rpcinfo -p localhost","title":"5.3 u-boot\u4e2d\u4f7f\u7528NFS"},{"location":"Embedded System/linux/embedded_linux_dev_env/rm/","text":"\u5b89\u5168\u7684\u4f7f\u7528rm # 1. \u521b\u5efa\u4e00\u4e2a\u811a\u672c # \u521b\u5efa\u811a\u672c my_rm.sh ,\u8be5\u811a\u672c\u7684\u529f\u80fd\u662f\uff1a\u5c06\u6587\u4ef6\u79fb\u52a8\u5230\u56de\u6536\u7ad9\u3002 # script to send removed files to trash directory mv $@ ~/.local/share/Trash/files #\u6709$1~$9\u4e2a\u6570\u91cf, $@\u4ee3\u8868all 2. \u7ed9rm\u547d\u4ee4\u8d77\u4e00\u4e2a\u522b\u540d # \u6253\u5f00 .bashrc \u6587\u4ef6 # \u8fdb\u5165home\u76ee\u5f55 cd # \u6253\u5f00 .bashrc \u6587\u4ef6 vim .bashrc \u5728 .bashrc \u6587\u4ef6\u672b\u5c3e\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9\uff1a alias rm=/home/your_name/my_rm.sh \u4f7f\u4fee\u6539\u751f\u6548\uff0c\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u6216\u8005\u91cd\u542f\u7ec8\u7aef\uff1a source ~/.bashrc \u73b0\u5728\u4f7f\u7528 rm \u6307\u4ee4\u5220\u9664\u7684\u6587\u4ef6\uff0c\u90fd\u4f1a\u5148\u8fdb\u5165\u56de\u6536\u7ad9\uff0c\u4e0d\u4f1a\u76f4\u63a5\u6c38\u4e45\u5220\u9664\u3002","title":"\u5b89\u5168\u7684\u4f7f\u7528rm"},{"location":"Embedded System/linux/embedded_linux_dev_env/rm/#rm","text":"","title":"\u5b89\u5168\u7684\u4f7f\u7528rm"},{"location":"Embedded System/linux/embedded_linux_dev_env/rm/#1","text":"\u521b\u5efa\u811a\u672c my_rm.sh ,\u8be5\u811a\u672c\u7684\u529f\u80fd\u662f\uff1a\u5c06\u6587\u4ef6\u79fb\u52a8\u5230\u56de\u6536\u7ad9\u3002 # script to send removed files to trash directory mv $@ ~/.local/share/Trash/files #\u6709$1~$9\u4e2a\u6570\u91cf, $@\u4ee3\u8868all","title":"1. \u521b\u5efa\u4e00\u4e2a\u811a\u672c"},{"location":"Embedded System/linux/embedded_linux_dev_env/rm/#2-rm","text":"\u6253\u5f00 .bashrc \u6587\u4ef6 # \u8fdb\u5165home\u76ee\u5f55 cd # \u6253\u5f00 .bashrc \u6587\u4ef6 vim .bashrc \u5728 .bashrc \u6587\u4ef6\u672b\u5c3e\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9\uff1a alias rm=/home/your_name/my_rm.sh \u4f7f\u4fee\u6539\u751f\u6548\uff0c\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u6216\u8005\u91cd\u542f\u7ec8\u7aef\uff1a source ~/.bashrc \u73b0\u5728\u4f7f\u7528 rm \u6307\u4ee4\u5220\u9664\u7684\u6587\u4ef6\uff0c\u90fd\u4f1a\u5148\u8fdb\u5165\u56de\u6536\u7ad9\uff0c\u4e0d\u4f1a\u76f4\u63a5\u6c38\u4e45\u5220\u9664\u3002","title":"2. \u7ed9rm\u547d\u4ee4\u8d77\u4e00\u4e2a\u522b\u540d"},{"location":"Embedded System/linux/embedded_linux_dev_env/samba_server/","text":"Samba # \u4e00\u3001\u5b89\u88c5 # sudo apt-get install samba Samba\u670d\u52a1\u9ed8\u8ba4\u914d\u7f6e\u6587\u4ef6\u5934 \u901a\u8fc7 man 5 smb.conf\u67e5\u770b\u914d\u7f6e\u6587\u4ef6\u7684\u8be6\u7ec6\u4fe1\u606f \"#\"\u6ce8\u91ca\u548c\";\"\u6ce8\u91ca\u7684\u533a\u522b # Sample configuration file for the Samba suite for Debian GNU/Linux. # # # This is the main Samba configuration file. You should read the # smb.conf(5) manual page in order to understand the options listed # here. Samba has a huge number of configurable options most of which # are not shown in this example # # Some options that are often worth tuning have been included as # commented-out examples in this file. # - When such options are commented with \";\", the proposed setting # differs from the default Samba behaviour # - When commented with \"#\", the proposed setting is the default # behaviour of Samba but the option is considered important # enough to be mentioned here # # NOTE: Whenever you modify this file you should run the command # \"testparm\" to check that you have not made any basic syntactic # errors. \u4e8c\u3001\u914d\u7f6e # 2.1. \u6253\u5f00Samba\u914d\u7f6e\u6587\u4ef6 sudo vim /etc/samba/smb.conf 2.2. \u914d\u7f6e\u5171\u4eabHome\u76ee\u5f55 \u5047\u5982\u4f60\u53ea\u6709\u4e00\u4e2asamba\u7528\u6237\uff0c\u90a3\u4e48\u53ea\u9700\u8981\u5171\u4eabHome\u76ee\u5f55\u5373\u53ef\u6ee1\u8db3\u9700\u6c42\u3002 \u591a\u4eba\u4f7f\u7528\u7684Samba\u670d\u52a1\uff0c\u8bf7\u53c2\u770b2.3\u8282 # Un-comment the following (and tweak the other settings below to suit) # to enable the default home directory shares. This will share each # user's home directory as \\\\server\\username [homes] comment = Home Directories browseable = no #\u4e0d\u5141\u8bb8\u6d4f\u89c8\uff0c\u5176\u4ed6\u7528\u6237\u767b\u5f55\u65f6\u770b\u4e0d\u5230\u6b64\u6587\u4ef6\u5939 # By default, the home directories are exported read-only. Change the # next parameter to 'no' if you want to be able to write to them. read only = no # File creation mask is set to 0700 for security reasons. If you want to # create files with group=rw permissions, set next parameter to 0775. ; create mask = 0700 # Directory creation mask is set to 0700 for security reasons. If you want to # create dirs. with group=rw permissions, set next parameter to 0775. ; directory mask = 0700 # By default, \\\\server\\username shares can be connected to by anyone # with access to the samba server. # Un-comment the following parameter to make sure that only \"username\" # can connect to \\\\server\\username # This might need tweaking when using external authentication schemes ; valid users = %S \"#\"\u6ce8\u91ca\u548c\";\"\u6ce8\u91ca\u7684\u533a\u522b\uff0c\u8bf7\u53c2\u770bsmb.conf\u6587\u4ef6\u5934\u90e8 valid users = xxx,yyy,zzz \u201c\u6709\u6548\u7684\u8bbf\u95ee\u7528\u6237\u201d \u6307\u7684\u662f\u53ea\u6709\u7528\u6237xxx,yyy,zzz\u624d\u53ef\u4ee5\u8bbf\u95ee\\server\\xxx valid users = %S \u5176\u4e2d%S\u6307\u7684\u662f\u5f53\u524d\u767b\u5f55\u7684\u7528\u6237 2.3. \u4e3a\u7279\u5b9a\u7684\u7528\u6237\u6307\u5b9a\u5171\u4eab\u6587\u4ef6\u5939 [xxx's shared folder] comment = Home Directories path = /home/xxx/sharedFolder browseable = no #\u4e0d\u5141\u8bb8\u6d4f\u89c8\uff0c\u5176\u4ed6\u7528\u6237\u767b\u5f55\u65f6\u770b\u4e0d\u5230\u6b64\u6587\u4ef6\u5939 read only = no #\u53ef\u8bfb\u5199 create mask = 0700 #\u65b0\u5efa\u6587\u4ef6\u6743\u9650\uff0c\u6839\u636e\u81ea\u5df1\u9700\u6c42\u914d\u7f6e directory mask = 0700 #\u65b0\u5efa\u6587\u4ef6\u5939\u6743\u9650\uff0c\u6839\u636e\u81ea\u5df1\u9700\u6c42\u914d\u7f6e valid users = xxx #\u6307\u5b9a\u6709\u6548\u7528\u6237 \u901a\u8fc7create mask\u548cdirectory mask\u63a7\u5236\u6587\u4ef6\u548c\u6587\u4ef6\u5939\u7684\u8bbf\u95ee\u6743\u9650 \u53ef\u4f7f\u7528\u5206\u7ec4\u7684\u5f62\u5f0f\uff0c\u5b9e\u73b0\u4e0d\u540c\u7528\u6237\u62e5\u6709\u4e0d\u540c\u7684\u8bbf\u95ee\u6743\u9650 [Optional]\u901a\u8fc7Samba\u670d\u52a1\u914d\u7f6e\u6587\u4ef6write list = user1,user2 \u4e09\u3001\u5e38\u7528\u6307\u4ee4 # Warning \u5728\u67d0\u4e9b\u7535\u8111\u4e0a\uff0c\u6709\u65f6restart\u914d\u7f6e\u4e0d\u80fd\u91cd\u65b0\u751f\u6548\uff0c\u53ea\u80fd\u5148stop\u7136\u540e\u5728start\uff0c\u5177\u4f53\u539f\u56e0\u6ca1\u6709\u6df1\u7a76 sudo service smbd status #\u67e5\u770bsmd\u670d\u52a1\u7684\u72b6\u6001 sudo service smbd start #\u8fd0\u884csmb\u670d\u52a1 sudo service smbd stop #\u505c\u6b62\u670d\u52a1 sudo service smbd restart #\u91cd\u542f\u670d\u52a1\uff0c\u4f46\u5728\u5b9e\u9645\u4e2d\u4e00\u822c\u4e0d\u91c7\u7528 sudo service smbd reload #\u91cd\u8f7d\u670d\u52a1\uff0c\u5728\u5b9e\u9645\u4e2d\u8f83\u5e38\u7528\uff0c\u4e0d\u7528\u505c\u6b62\u670d\u52a1 \u56db\u3001\u521b\u5efasamba\u7528\u6237 # Warning \u666e\u901a\u7528\u6237\u4e0d\u53ef\u7528\uff0c\u5fc5\u987b\u4f7f\u7528smbpasswd\u521b\u5efasamba\u7528\u6237! useradd tst1_samba sudo smbpasswd -a tst1_samba # -a add user \u4e94\u3001Windows\u4e0b\u6ce8\u9500\u7528\u6237 # net use * /del \u516d\u3001\u53c2\u8003\u94fe\u63a5 # Important \u53c2\u8003\u94fe\u63a5\uff0c\u5f88\u91cd\u8981\uff01\uff01\uff01 smb.conf man 5 smb.conf","title":"samba\u670d\u52a1\u914d\u7f6e"},{"location":"Embedded System/linux/embedded_linux_dev_env/samba_server/#samba","text":"","title":"Samba"},{"location":"Embedded System/linux/embedded_linux_dev_env/samba_server/#_1","text":"sudo apt-get install samba Samba\u670d\u52a1\u9ed8\u8ba4\u914d\u7f6e\u6587\u4ef6\u5934 \u901a\u8fc7 man 5 smb.conf\u67e5\u770b\u914d\u7f6e\u6587\u4ef6\u7684\u8be6\u7ec6\u4fe1\u606f \"#\"\u6ce8\u91ca\u548c\";\"\u6ce8\u91ca\u7684\u533a\u522b # Sample configuration file for the Samba suite for Debian GNU/Linux. # # # This is the main Samba configuration file. You should read the # smb.conf(5) manual page in order to understand the options listed # here. Samba has a huge number of configurable options most of which # are not shown in this example # # Some options that are often worth tuning have been included as # commented-out examples in this file. # - When such options are commented with \";\", the proposed setting # differs from the default Samba behaviour # - When commented with \"#\", the proposed setting is the default # behaviour of Samba but the option is considered important # enough to be mentioned here # # NOTE: Whenever you modify this file you should run the command # \"testparm\" to check that you have not made any basic syntactic # errors.","title":"\u4e00\u3001\u5b89\u88c5"},{"location":"Embedded System/linux/embedded_linux_dev_env/samba_server/#_2","text":"2.1. \u6253\u5f00Samba\u914d\u7f6e\u6587\u4ef6 sudo vim /etc/samba/smb.conf 2.2. \u914d\u7f6e\u5171\u4eabHome\u76ee\u5f55 \u5047\u5982\u4f60\u53ea\u6709\u4e00\u4e2asamba\u7528\u6237\uff0c\u90a3\u4e48\u53ea\u9700\u8981\u5171\u4eabHome\u76ee\u5f55\u5373\u53ef\u6ee1\u8db3\u9700\u6c42\u3002 \u591a\u4eba\u4f7f\u7528\u7684Samba\u670d\u52a1\uff0c\u8bf7\u53c2\u770b2.3\u8282 # Un-comment the following (and tweak the other settings below to suit) # to enable the default home directory shares. This will share each # user's home directory as \\\\server\\username [homes] comment = Home Directories browseable = no #\u4e0d\u5141\u8bb8\u6d4f\u89c8\uff0c\u5176\u4ed6\u7528\u6237\u767b\u5f55\u65f6\u770b\u4e0d\u5230\u6b64\u6587\u4ef6\u5939 # By default, the home directories are exported read-only. Change the # next parameter to 'no' if you want to be able to write to them. read only = no # File creation mask is set to 0700 for security reasons. If you want to # create files with group=rw permissions, set next parameter to 0775. ; create mask = 0700 # Directory creation mask is set to 0700 for security reasons. If you want to # create dirs. with group=rw permissions, set next parameter to 0775. ; directory mask = 0700 # By default, \\\\server\\username shares can be connected to by anyone # with access to the samba server. # Un-comment the following parameter to make sure that only \"username\" # can connect to \\\\server\\username # This might need tweaking when using external authentication schemes ; valid users = %S \"#\"\u6ce8\u91ca\u548c\";\"\u6ce8\u91ca\u7684\u533a\u522b\uff0c\u8bf7\u53c2\u770bsmb.conf\u6587\u4ef6\u5934\u90e8 valid users = xxx,yyy,zzz \u201c\u6709\u6548\u7684\u8bbf\u95ee\u7528\u6237\u201d \u6307\u7684\u662f\u53ea\u6709\u7528\u6237xxx,yyy,zzz\u624d\u53ef\u4ee5\u8bbf\u95ee\\server\\xxx valid users = %S \u5176\u4e2d%S\u6307\u7684\u662f\u5f53\u524d\u767b\u5f55\u7684\u7528\u6237 2.3. \u4e3a\u7279\u5b9a\u7684\u7528\u6237\u6307\u5b9a\u5171\u4eab\u6587\u4ef6\u5939 [xxx's shared folder] comment = Home Directories path = /home/xxx/sharedFolder browseable = no #\u4e0d\u5141\u8bb8\u6d4f\u89c8\uff0c\u5176\u4ed6\u7528\u6237\u767b\u5f55\u65f6\u770b\u4e0d\u5230\u6b64\u6587\u4ef6\u5939 read only = no #\u53ef\u8bfb\u5199 create mask = 0700 #\u65b0\u5efa\u6587\u4ef6\u6743\u9650\uff0c\u6839\u636e\u81ea\u5df1\u9700\u6c42\u914d\u7f6e directory mask = 0700 #\u65b0\u5efa\u6587\u4ef6\u5939\u6743\u9650\uff0c\u6839\u636e\u81ea\u5df1\u9700\u6c42\u914d\u7f6e valid users = xxx #\u6307\u5b9a\u6709\u6548\u7528\u6237 \u901a\u8fc7create mask\u548cdirectory mask\u63a7\u5236\u6587\u4ef6\u548c\u6587\u4ef6\u5939\u7684\u8bbf\u95ee\u6743\u9650 \u53ef\u4f7f\u7528\u5206\u7ec4\u7684\u5f62\u5f0f\uff0c\u5b9e\u73b0\u4e0d\u540c\u7528\u6237\u62e5\u6709\u4e0d\u540c\u7684\u8bbf\u95ee\u6743\u9650 [Optional]\u901a\u8fc7Samba\u670d\u52a1\u914d\u7f6e\u6587\u4ef6write list = user1,user2","title":"\u4e8c\u3001\u914d\u7f6e"},{"location":"Embedded System/linux/embedded_linux_dev_env/samba_server/#_3","text":"Warning \u5728\u67d0\u4e9b\u7535\u8111\u4e0a\uff0c\u6709\u65f6restart\u914d\u7f6e\u4e0d\u80fd\u91cd\u65b0\u751f\u6548\uff0c\u53ea\u80fd\u5148stop\u7136\u540e\u5728start\uff0c\u5177\u4f53\u539f\u56e0\u6ca1\u6709\u6df1\u7a76 sudo service smbd status #\u67e5\u770bsmd\u670d\u52a1\u7684\u72b6\u6001 sudo service smbd start #\u8fd0\u884csmb\u670d\u52a1 sudo service smbd stop #\u505c\u6b62\u670d\u52a1 sudo service smbd restart #\u91cd\u542f\u670d\u52a1\uff0c\u4f46\u5728\u5b9e\u9645\u4e2d\u4e00\u822c\u4e0d\u91c7\u7528 sudo service smbd reload #\u91cd\u8f7d\u670d\u52a1\uff0c\u5728\u5b9e\u9645\u4e2d\u8f83\u5e38\u7528\uff0c\u4e0d\u7528\u505c\u6b62\u670d\u52a1","title":"\u4e09\u3001\u5e38\u7528\u6307\u4ee4"},{"location":"Embedded System/linux/embedded_linux_dev_env/samba_server/#samba_1","text":"Warning \u666e\u901a\u7528\u6237\u4e0d\u53ef\u7528\uff0c\u5fc5\u987b\u4f7f\u7528smbpasswd\u521b\u5efasamba\u7528\u6237! useradd tst1_samba sudo smbpasswd -a tst1_samba # -a add user","title":"\u56db\u3001\u521b\u5efasamba\u7528\u6237"},{"location":"Embedded System/linux/embedded_linux_dev_env/samba_server/#windows","text":"net use * /del","title":"\u4e94\u3001Windows\u4e0b\u6ce8\u9500\u7528\u6237"},{"location":"Embedded System/linux/embedded_linux_dev_env/samba_server/#_4","text":"Important \u53c2\u8003\u94fe\u63a5\uff0c\u5f88\u91cd\u8981\uff01\uff01\uff01 smb.conf man 5 smb.conf","title":"\u516d\u3001\u53c2\u8003\u94fe\u63a5"},{"location":"Embedded System/linux/embedded_linux_dev_env/tftp_server/","text":"TFTP # TFTP: Trivial File Transfer Protocol. u-boot\u4e2d\u4f1a\u4f7f\u7528\u5230tftp\u534f\u8bae\uff08\u6ce8\u610f\uff01\u4e0d\u662fFTP\u534f\u8bae\uff09\u3002 1. \u5b89\u88c5TFTP\u670d\u52a1 # sudo apt install tftpd-hpa 2. \u914d\u7f6eTFTP # sudo vim /etc/default/tftpd-hpa 3. \u542f\u52a8TFTP\u670d\u52a1 # $ sudo systemctl enable tftpd-hpa $ sudo systemctl restart tftpd-hpa sudo service tftpd-hpa start sudo service tftpd-hpa stop sudo service tftpd-hpa restart // to restart, or use 'stop', or 'start' as needed. 4. \u68c0\u67e5TFTP\u8fd0\u884c\u72b6\u6001 # sudo service tftpd-hpa status","title":"TFTP\u670d\u52a1\u914d\u7f6e"},{"location":"Embedded System/linux/embedded_linux_dev_env/tftp_server/#tftp","text":"TFTP: Trivial File Transfer Protocol. u-boot\u4e2d\u4f1a\u4f7f\u7528\u5230tftp\u534f\u8bae\uff08\u6ce8\u610f\uff01\u4e0d\u662fFTP\u534f\u8bae\uff09\u3002","title":"TFTP"},{"location":"Embedded System/linux/embedded_linux_dev_env/tftp_server/#1-tftp","text":"sudo apt install tftpd-hpa","title":"1. \u5b89\u88c5TFTP\u670d\u52a1"},{"location":"Embedded System/linux/embedded_linux_dev_env/tftp_server/#2-tftp","text":"sudo vim /etc/default/tftpd-hpa","title":"2. \u914d\u7f6eTFTP"},{"location":"Embedded System/linux/embedded_linux_dev_env/tftp_server/#3-tftp","text":"$ sudo systemctl enable tftpd-hpa $ sudo systemctl restart tftpd-hpa sudo service tftpd-hpa start sudo service tftpd-hpa stop sudo service tftpd-hpa restart // to restart, or use 'stop', or 'start' as needed.","title":"3. \u542f\u52a8TFTP\u670d\u52a1"},{"location":"Embedded System/linux/embedded_linux_dev_env/tftp_server/#4-tftp","text":"sudo service tftpd-hpa status","title":"4. \u68c0\u67e5TFTP\u8fd0\u884c\u72b6\u6001"},{"location":"Embedded System/linux/embedded_linux_dev_env/ubuntu_boot_error/","text":"Ubuntu\u542f\u52a8\u9519\u8bef\u89e3\u51b3 # 1.home systemd-modules-load[278] # \u9519\u8bef\u4fe1\u606f\uff1a home systemd-modules-load[278] could not open moddep file '/lib/modiles/5.0.0.-37-generic.modules.dep.bin' \u89e3\u51b3\u65b9\u6cd5\uff1a sudo depmod 2.Stopping User Manager for UID 121 # \u9519\u8bef\u4fe1\u606f\uff1a ... Stopping User Manager for UID 121 ... \u89e3\u51b3\u65b9\u6848\uff1a \u8be5\u542f\u52a8\u9519\u8bef\u662f\u7531\u4e8e\u786c\u76d8\u7a7a\u95f4\u4e0d\u8db3\u9020\u6210\u7684\u3002 Alt+F3 \u5f00\u542f\u65b0\u7684\u7ec8\u7aef\uff0c\u7136\u540e\u5220\u9664\u4e00\u4e9b\u6587\u4ef6\u5373\u53ef\u3002","title":"Ubuntu\u542f\u52a8\u9519\u8bef"},{"location":"Embedded System/linux/embedded_linux_dev_env/ubuntu_boot_error/#ubuntu","text":"","title":"Ubuntu\u542f\u52a8\u9519\u8bef\u89e3\u51b3"},{"location":"Embedded System/linux/embedded_linux_dev_env/ubuntu_boot_error/#1home-systemd-modules-load278","text":"\u9519\u8bef\u4fe1\u606f\uff1a home systemd-modules-load[278] could not open moddep file '/lib/modiles/5.0.0.-37-generic.modules.dep.bin' \u89e3\u51b3\u65b9\u6cd5\uff1a sudo depmod","title":"1.home systemd-modules-load[278]"},{"location":"Embedded System/linux/embedded_linux_dev_env/ubuntu_boot_error/#2stopping-user-manager-for-uid-121","text":"\u9519\u8bef\u4fe1\u606f\uff1a ... Stopping User Manager for UID 121 ... \u89e3\u51b3\u65b9\u6848\uff1a \u8be5\u542f\u52a8\u9519\u8bef\u662f\u7531\u4e8e\u786c\u76d8\u7a7a\u95f4\u4e0d\u8db3\u9020\u6210\u7684\u3002 Alt+F3 \u5f00\u542f\u65b0\u7684\u7ec8\u7aef\uff0c\u7136\u540e\u5220\u9664\u4e00\u4e9b\u6587\u4ef6\u5373\u53ef\u3002","title":"2.Stopping User Manager for UID 121"},{"location":"Embedded System/linux/embedded_linux_dev_env/ubuntu_configure/","text":"Ubuntu\u7cfb\u7edf\u4f7f\u7528\u914d\u7f6e # 1. \u9690\u85cf\u4fa7\u8fb9\u680f\u548c\u9876\u680f # 1.1 \u9690\u85cf\u4fa7\u8fb9\u680f # 1.2 \u9690\u85cf\u9876\u680f # \u5b89\u88c5\u8f6f\u4ef6 Hide Top Bar\u3002","title":"Ubuntu\u7cfb\u7edf\u4f7f\u7528\u914d\u7f6e"},{"location":"Embedded System/linux/embedded_linux_dev_env/ubuntu_configure/#ubuntu","text":"","title":"Ubuntu\u7cfb\u7edf\u4f7f\u7528\u914d\u7f6e"},{"location":"Embedded System/linux/embedded_linux_dev_env/ubuntu_configure/#1","text":"","title":"1. \u9690\u85cf\u4fa7\u8fb9\u680f\u548c\u9876\u680f"},{"location":"Embedded System/linux/embedded_linux_dev_env/ubuntu_configure/#11","text":"","title":"1.1 \u9690\u85cf\u4fa7\u8fb9\u680f"},{"location":"Embedded System/linux/embedded_linux_dev_env/ubuntu_configure/#12","text":"\u5b89\u88c5\u8f6f\u4ef6 Hide Top Bar\u3002","title":"1.2 \u9690\u85cf\u9876\u680f"},{"location":"Embedded System/linux/embedded_linux_dev_env/ubuntu_get_kernel_tree/","text":"Ubuntu \u5185\u6838\u6e90\u7801\u6811 # \u67e5\u770bUbuntu\u6b63\u5728\u4f7f\u7528\u7684Linux\u5185\u6838\u7248\u672c uname -r \u4e00\u822c\u5728/usr/src \u76ee\u5f55\u4e0b\u5c31\u4f1a\u6709\u5185\u6838\u6e90\u7801\u6811\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u5b89\u88c5 sudo apt-get install linux-source sudo apt-get install linux-headers-`uname -r`","title":"Ubuntu \u5185\u6838\u6e90\u7801\u6811"},{"location":"Embedded System/linux/embedded_linux_dev_env/ubuntu_get_kernel_tree/#ubuntu","text":"\u67e5\u770bUbuntu\u6b63\u5728\u4f7f\u7528\u7684Linux\u5185\u6838\u7248\u672c uname -r \u4e00\u822c\u5728/usr/src \u76ee\u5f55\u4e0b\u5c31\u4f1a\u6709\u5185\u6838\u6e90\u7801\u6811\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u5b89\u88c5 sudo apt-get install linux-source sudo apt-get install linux-headers-`uname -r`","title":"Ubuntu \u5185\u6838\u6e90\u7801\u6811"},{"location":"Embedded System/linux/embedded_linux_dev_env/virtual_box_disk_expand/","text":"VirtualBox\u786c\u76d8\u6269\u5bb9 # # .\\VBoxManage.exe modifyhd \"C:\\Users\\Administrator\\VirtualBox VMs\\Ubuntu18.04\\Ubuntu18.04.vdi\" --resize 51200","title":"VirtualBox\u786c\u76d8\u6269\u5bb9"},{"location":"Embedded System/linux/embedded_linux_dev_env/virtual_box_disk_expand/#virtualbox","text":"","title":"VirtualBox\u786c\u76d8\u6269\u5bb9"},{"location":"Embedded System/linux/embedded_linux_dev_env/virtual_box_env/","text":"VirtualBox\u5f00\u53d1\u73af\u5883\u642d\u5efa # \u4e00\u3001 VirtualBox\u4e0eWindows\u5171\u4eab\u526a\u5207\u677f # \u5b9e\u73b0\u5171\u4eab\u526a\u5207\u677f\u529f\u80fd\u53ea\u9700\u4e09\u6b65\uff0c\u5982\u4e0b\uff1a 1.1 \u4f7f\u80fd\u5171\u4eab\u526a\u5207\u677f\u548c\u62d6\u62fd\u6587\u4ef6\u529f\u80fd # 1.2 \u5b89\u88c5\u63d2\u4ef6 # 1.3 \u91cd\u542fUbuntu # \u91cd\u542f\u7cfb\u7edf\u4e4b\u540e\uff0c\u8bbe\u7f6e\u624d\u80fd\u751f\u6548\u3002 \u91cd\u542f\u540e\u8bf7\u5378\u8f7d\u6389\u201cGuest Additions.iso\u201d\u5149\u76d8\u3002 1.4 \u53ef\u80fd\u9047\u5230\u7684\u95ee\u9898 # \u5982\u679c\u6302\u8f7d\u201cGuest Additions.iso\u201d\u5149\u76d8\u540e\u518d\u6b21\u6302\u8f7d\uff0cVirtualBox\u4f1a\u62a5\u9519\u5d29\u6e83\uff0c\u5e76\u4e14\u5bfc\u81f4\u65e0\u6cd5\u518d\u6b21\u542f\u52a8\u7cfb\u7edf\u3002\u62a5\u9519\u4fe1\u606f\u5982\u4e0b\uff1a Cannot attach medium 'C:/Program Files/Oracle/VirtualBox/VBoxGuestAdditions.iso'... \u6b64\u65f6\u4f7f\u7528\u6587\u672c\u7f16\u8f91\u5668\u6253\u5f00\u865a\u62df\u673a\u6587\u4ef6xxx.vbox\uff0c\u5c06\u4e0b\u9762\u8fd9\u4e2a\u5220\u9664\uff1a <DVDImages> <Image uuid=\"{49c18a29-332b-4b24-b7e5-d88f63fd4733}\" location=\"C:/Program Files/Oracle/VirtualBox/VBoxGuestAdditions.iso\"/> ... </DVDImages> \u4e8c\u3001 VirtualBox\u53cc\u7f51\u5361\u914d\u7f6e # \u7535\u8111\u6709\u4e24\u5757\u7269\u7406\u7f51\u5361\uff0c\u8bf7\u6309\u7167\u4e0b\u9762\u6b65\u9aa4\u64cd\u4f5c\uff1a 2.1 \u6865\u63a5\u5230\u65e0\u7ebf\u7f51\u5361 # 2.2 \u6865\u63a5\u5230\u6709\u7ebf\u7f51\u5361 # 2.3 \u914d\u7f6eIP # \u7528\u6765\u4e0a\u7f51\u7684\u7f51\u5361\u4f7f\u7528\u9ed8\u8ba4\u7684DHCP\u81ea\u52a8\u5206\u914dIP\u5373\u53ef \u8fde\u63a5\u5f00\u53d1\u677f\u7684\u6709\u7ebf\u7f51\u5361\u914d\u7f6e\u4e3a\u9759\u6001IP\uff0c\u4e0d\u8981\u8bbe\u7f6e\u7f51\u5173\uff08\u76f4\u8fde\u7684\u8bdd\uff09 \u4e09\u3001\u5171\u4eab\u6587\u4ef6\u5939\u914d\u7f6e # 3.1 \u624b\u52a8\u6302\u8f7d # \u8bbe\u7f6eWindows\u4e0b\u8981\u5171\u4eab\u7684\u6587\u4ef6\u5939 \u9996\u5148\u5c06\u865a\u62df\u673a\uff08Guest OS\uff09\u5173\u95ed\uff0c\u7136\u540e\u505a\u5982\u4e0b\u8bbe\u7f6e\uff1a \u8bbe\u7f6e\u5b8c\u6210\u540e\u542f\u52a8\u865a\u62df\u673a\uff08Guest OS\uff09 \u5728Ubuntu\u4e2d\u6302\u8f7d\u5171\u4eab\u6587\u4ef6\u5939 # \u547d\u4ee4\u884c\u624b\u52a8\u6302\u8f7d sudo mount -t vboxsf sharename mountpoint # \u5f00\u673a\u81ea\u52a8\u6302\u8f7d # \u5728/etc/fstab\u672b\u5c3e\u6dfb\u52a0 sharename mountpoint vboxsf defaults 0 0 VirtualBox\u5171\u4eab\u6587\u4ef6\u5939\u5b98\u65b9\u6587\u6863 \uff0c\u624b\u52a8\u6302\u8f7d\u5171\u4eab\u6587\u4ef6\u5939\u8282\u9009\uff1a # In a Linux guest, use the following command: mount -t vboxsf [-o OPTIONS] sharename mountpoint # To mount a shared folder during boot, add the following entry to /etc/fstab: sharename mountpoint vboxsf defaults 0 0 3.2 \u81ea\u52a8\u6302\u8f7d # \u81ea\u52a8\u6302\u8f7d\u5230/media\u76ee\u5f55\uff0c\u4e14\u6587\u4ef6\u7684\u6743\u9650\u662f root vboxsf\uff0c\u4f7f\u7528\u8d77\u6765\u975e\u5e38\u4e0d\u65b9\u4fbf\uff0c\u6240\u4ee5\u4e0d\u5efa\u8bae\u4f7f\u7528\u81ea\u52a8\u6302\u8f7d\u3002 \u56db\u3001VirtualBox\u786c\u76d8\u6269\u5bb9 # ./VBoxManage.exe modifyhd \"C:/Users/Administrator/VirtualBox VMs/Ubuntu18.04/Ubuntu18.04.vdi\" --resize 51200","title":"VirtualBox\u5f00\u53d1\u73af\u5883\u642d\u5efa"},{"location":"Embedded System/linux/embedded_linux_dev_env/virtual_box_env/#virtualbox","text":"","title":"VirtualBox\u5f00\u53d1\u73af\u5883\u642d\u5efa"},{"location":"Embedded System/linux/embedded_linux_dev_env/virtual_box_env/#virtualboxwindows","text":"\u5b9e\u73b0\u5171\u4eab\u526a\u5207\u677f\u529f\u80fd\u53ea\u9700\u4e09\u6b65\uff0c\u5982\u4e0b\uff1a","title":"\u4e00\u3001 VirtualBox\u4e0eWindows\u5171\u4eab\u526a\u5207\u677f"},{"location":"Embedded System/linux/embedded_linux_dev_env/virtual_box_env/#11","text":"","title":"1.1 \u4f7f\u80fd\u5171\u4eab\u526a\u5207\u677f\u548c\u62d6\u62fd\u6587\u4ef6\u529f\u80fd"},{"location":"Embedded System/linux/embedded_linux_dev_env/virtual_box_env/#12","text":"","title":"1.2 \u5b89\u88c5\u63d2\u4ef6"},{"location":"Embedded System/linux/embedded_linux_dev_env/virtual_box_env/#13-ubuntu","text":"\u91cd\u542f\u7cfb\u7edf\u4e4b\u540e\uff0c\u8bbe\u7f6e\u624d\u80fd\u751f\u6548\u3002 \u91cd\u542f\u540e\u8bf7\u5378\u8f7d\u6389\u201cGuest Additions.iso\u201d\u5149\u76d8\u3002","title":"1.3 \u91cd\u542fUbuntu"},{"location":"Embedded System/linux/embedded_linux_dev_env/virtual_box_env/#14","text":"\u5982\u679c\u6302\u8f7d\u201cGuest Additions.iso\u201d\u5149\u76d8\u540e\u518d\u6b21\u6302\u8f7d\uff0cVirtualBox\u4f1a\u62a5\u9519\u5d29\u6e83\uff0c\u5e76\u4e14\u5bfc\u81f4\u65e0\u6cd5\u518d\u6b21\u542f\u52a8\u7cfb\u7edf\u3002\u62a5\u9519\u4fe1\u606f\u5982\u4e0b\uff1a Cannot attach medium 'C:/Program Files/Oracle/VirtualBox/VBoxGuestAdditions.iso'... \u6b64\u65f6\u4f7f\u7528\u6587\u672c\u7f16\u8f91\u5668\u6253\u5f00\u865a\u62df\u673a\u6587\u4ef6xxx.vbox\uff0c\u5c06\u4e0b\u9762\u8fd9\u4e2a\u5220\u9664\uff1a <DVDImages> <Image uuid=\"{49c18a29-332b-4b24-b7e5-d88f63fd4733}\" location=\"C:/Program Files/Oracle/VirtualBox/VBoxGuestAdditions.iso\"/> ... </DVDImages>","title":"1.4 \u53ef\u80fd\u9047\u5230\u7684\u95ee\u9898"},{"location":"Embedded System/linux/embedded_linux_dev_env/virtual_box_env/#virtualbox_1","text":"\u7535\u8111\u6709\u4e24\u5757\u7269\u7406\u7f51\u5361\uff0c\u8bf7\u6309\u7167\u4e0b\u9762\u6b65\u9aa4\u64cd\u4f5c\uff1a","title":"\u4e8c\u3001 VirtualBox\u53cc\u7f51\u5361\u914d\u7f6e"},{"location":"Embedded System/linux/embedded_linux_dev_env/virtual_box_env/#21","text":"","title":"2.1 \u6865\u63a5\u5230\u65e0\u7ebf\u7f51\u5361"},{"location":"Embedded System/linux/embedded_linux_dev_env/virtual_box_env/#22","text":"","title":"2.2 \u6865\u63a5\u5230\u6709\u7ebf\u7f51\u5361"},{"location":"Embedded System/linux/embedded_linux_dev_env/virtual_box_env/#23-ip","text":"\u7528\u6765\u4e0a\u7f51\u7684\u7f51\u5361\u4f7f\u7528\u9ed8\u8ba4\u7684DHCP\u81ea\u52a8\u5206\u914dIP\u5373\u53ef \u8fde\u63a5\u5f00\u53d1\u677f\u7684\u6709\u7ebf\u7f51\u5361\u914d\u7f6e\u4e3a\u9759\u6001IP\uff0c\u4e0d\u8981\u8bbe\u7f6e\u7f51\u5173\uff08\u76f4\u8fde\u7684\u8bdd\uff09","title":"2.3 \u914d\u7f6eIP"},{"location":"Embedded System/linux/embedded_linux_dev_env/virtual_box_env/#_1","text":"","title":"\u4e09\u3001\u5171\u4eab\u6587\u4ef6\u5939\u914d\u7f6e"},{"location":"Embedded System/linux/embedded_linux_dev_env/virtual_box_env/#31","text":"\u8bbe\u7f6eWindows\u4e0b\u8981\u5171\u4eab\u7684\u6587\u4ef6\u5939 \u9996\u5148\u5c06\u865a\u62df\u673a\uff08Guest OS\uff09\u5173\u95ed\uff0c\u7136\u540e\u505a\u5982\u4e0b\u8bbe\u7f6e\uff1a \u8bbe\u7f6e\u5b8c\u6210\u540e\u542f\u52a8\u865a\u62df\u673a\uff08Guest OS\uff09 \u5728Ubuntu\u4e2d\u6302\u8f7d\u5171\u4eab\u6587\u4ef6\u5939 # \u547d\u4ee4\u884c\u624b\u52a8\u6302\u8f7d sudo mount -t vboxsf sharename mountpoint # \u5f00\u673a\u81ea\u52a8\u6302\u8f7d # \u5728/etc/fstab\u672b\u5c3e\u6dfb\u52a0 sharename mountpoint vboxsf defaults 0 0 VirtualBox\u5171\u4eab\u6587\u4ef6\u5939\u5b98\u65b9\u6587\u6863 \uff0c\u624b\u52a8\u6302\u8f7d\u5171\u4eab\u6587\u4ef6\u5939\u8282\u9009\uff1a # In a Linux guest, use the following command: mount -t vboxsf [-o OPTIONS] sharename mountpoint # To mount a shared folder during boot, add the following entry to /etc/fstab: sharename mountpoint vboxsf defaults 0 0","title":"3.1 \u624b\u52a8\u6302\u8f7d"},{"location":"Embedded System/linux/embedded_linux_dev_env/virtual_box_env/#32","text":"\u81ea\u52a8\u6302\u8f7d\u5230/media\u76ee\u5f55\uff0c\u4e14\u6587\u4ef6\u7684\u6743\u9650\u662f root vboxsf\uff0c\u4f7f\u7528\u8d77\u6765\u975e\u5e38\u4e0d\u65b9\u4fbf\uff0c\u6240\u4ee5\u4e0d\u5efa\u8bae\u4f7f\u7528\u81ea\u52a8\u6302\u8f7d\u3002","title":"3.2 \u81ea\u52a8\u6302\u8f7d"},{"location":"Embedded System/linux/embedded_linux_dev_env/virtual_box_env/#virtualbox_2","text":"./VBoxManage.exe modifyhd \"C:/Users/Administrator/VirtualBox VMs/Ubuntu18.04/Ubuntu18.04.vdi\" --resize 51200","title":"\u56db\u3001VirtualBox\u786c\u76d8\u6269\u5bb9"},{"location":"Embedded System/linux/embedded_linux_dev_env/vscode_remote_dev/","text":"\u4f7f\u7528VSCode\u8fdc\u7a0b\u5f00\u53d1 # 1. VSCode\u901a\u8fc7SSH\u8fde\u63a5\u670d\u52a1\u5668 # \u5728VSCode\u4e2d\u5b89\u88c5SSH\u63d2\u4ef6\uff0c\u7136\u540e\u6839\u636e\u63d0\u793a\u64cd\u4f5c\u3002","title":"\u4f7f\u7528VSCode\u8fdc\u7a0b\u5f00\u53d1"},{"location":"Embedded System/linux/embedded_linux_dev_env/vscode_remote_dev/#vscode","text":"","title":"\u4f7f\u7528VSCode\u8fdc\u7a0b\u5f00\u53d1"},{"location":"Embedded System/linux/embedded_linux_dev_env/vscode_remote_dev/#1-vscodessh","text":"\u5728VSCode\u4e2d\u5b89\u88c5SSH\u63d2\u4ef6\uff0c\u7136\u540e\u6839\u636e\u63d0\u793a\u64cd\u4f5c\u3002","title":"1. VSCode\u901a\u8fc7SSH\u8fde\u63a5\u670d\u52a1\u5668"},{"location":"Embedded System/linux/embedded_linux_dev_env/wsl_shared_folder/","text":"WSL\u4e0eWindows\u5171\u4eab\u6587\u4ef6\u5939 # WSL\u672c\u8eab\u5c31\u662f\u652f\u6301\u8bbf\u95eeWindows\u7684\u6587\u4ef6\u7cfb\u7edf\u7684 \u9ed8\u8ba4\u60c5\u51b5\u4e0bWSL\u5c06Windows\u6587\u4ef6\u7cfb\u7edf\u6302\u8f7d\u5230/mnt\u76ee\u5f55\u4e0b \u5982\u679c\u9700\u8981\u8bbf\u95ee\u7684Windows\u4e0b\u7684\u6587\u4ef6\u5939\u7684\u8def\u5f84\u6bd4\u8f83\u957f\uff0c\u4e3a\u4e86\u65b9\u4fbfWSL\u4e0eWindows\u4e92\u8bbf\u6587\u4ef6\uff0c\u53ef\u4ee5\u8fd9\u4e48\u505a\uff1a $ ln -s /mnt/c/xxx ~/win10","title":"WSL\u4e0eWindows\u5171\u4eab\u6587\u4ef6"},{"location":"Embedded System/linux/embedded_linux_dev_env/wsl_shared_folder/#wslwindows","text":"WSL\u672c\u8eab\u5c31\u662f\u652f\u6301\u8bbf\u95eeWindows\u7684\u6587\u4ef6\u7cfb\u7edf\u7684 \u9ed8\u8ba4\u60c5\u51b5\u4e0bWSL\u5c06Windows\u6587\u4ef6\u7cfb\u7edf\u6302\u8f7d\u5230/mnt\u76ee\u5f55\u4e0b \u5982\u679c\u9700\u8981\u8bbf\u95ee\u7684Windows\u4e0b\u7684\u6587\u4ef6\u5939\u7684\u8def\u5f84\u6bd4\u8f83\u957f\uff0c\u4e3a\u4e86\u65b9\u4fbfWSL\u4e0eWindows\u4e92\u8bbf\u6587\u4ef6\uff0c\u53ef\u4ee5\u8fd9\u4e48\u505a\uff1a $ ln -s /mnt/c/xxx ~/win10","title":"WSL\u4e0eWindows\u5171\u4eab\u6587\u4ef6\u5939"},{"location":"Embedded System/linux/jz2440/cmake_cross_compile/","text":"CMake\u4ea4\u53c9\u7f16\u8bd1 # 1.\u521b\u5efa\u6d4b\u8bd5\u6587\u4ef6hello.c # #include<stdio.h> int main() { printf(\"Hello ARM CMake!/n\"); return 0; } 2.\u521b\u5efaCMakeList.txt\u6587\u4ef6 # cmake_minimum_required(VERSION 3.0.0) project(hello_cmake VERSION 0.1.0) add_executable(hello_cmake hello.c) 3.\u521b\u5efatoolchain.cmake\u6587\u4ef6 # \u8be5\u6587\u4ef6\u6307\u660e\u4e86\u4ea4\u53c9\u7f16\u8bd1\u5668\u4fe1\u606f ### toolchain.cmake ### # this is required SET(CMAKE_SYSTEM_NAME Linux) # specify the cross compiler SET(CMAKE_C_COMPILER /home/fhc/linux_driver/gcc-3.4.5-glibc-2.3.6/bin/arm-linux-gcc) SET(CMAKE_CXX_COMPILER /home/fhc/linux_driver/gcc-3.4.5-glibc-2.3.6/bin/arm-linux-g++) # where is the target environment SET(CMAKE_FIND_ROOT_PATH /home/fhc/linux_driver/gcc-3.4.5-glibc-2.3.6) # search for programs in the build host directories (not necessary) SET(CMAKE_FIND_ROOT_PATH_MODE_PROGRAM NEVER) # for libraries and headers in the target directories SET(CMAKE_FIND_ROOT_PATH_MODE_LIBRARY ONLY) SET(CMAKE_FIND_ROOT_PATH_MODE_INCLUDE ONLY) 4.\u6267\u884cCMake\u6307\u4ee4\u751f\u6210Makefile # \u6709\u4e24\u79cd\u65b9\u5f0f\uff1a camke-gui \u547d\u4ee4\u884c cmake -DCMAKE_TOOLCHAIN_FILE=../toolchain/toolchain.cmake ..","title":"CMake\u4ea4\u53c9\u7f16\u8bd1"},{"location":"Embedded System/linux/jz2440/cmake_cross_compile/#cmake","text":"","title":"CMake\u4ea4\u53c9\u7f16\u8bd1"},{"location":"Embedded System/linux/jz2440/cmake_cross_compile/#1helloc","text":"#include<stdio.h> int main() { printf(\"Hello ARM CMake!/n\"); return 0; }","title":"1.\u521b\u5efa\u6d4b\u8bd5\u6587\u4ef6hello.c"},{"location":"Embedded System/linux/jz2440/cmake_cross_compile/#2cmakelisttxt","text":"cmake_minimum_required(VERSION 3.0.0) project(hello_cmake VERSION 0.1.0) add_executable(hello_cmake hello.c)","title":"2.\u521b\u5efaCMakeList.txt\u6587\u4ef6"},{"location":"Embedded System/linux/jz2440/cmake_cross_compile/#3toolchaincmake","text":"\u8be5\u6587\u4ef6\u6307\u660e\u4e86\u4ea4\u53c9\u7f16\u8bd1\u5668\u4fe1\u606f ### toolchain.cmake ### # this is required SET(CMAKE_SYSTEM_NAME Linux) # specify the cross compiler SET(CMAKE_C_COMPILER /home/fhc/linux_driver/gcc-3.4.5-glibc-2.3.6/bin/arm-linux-gcc) SET(CMAKE_CXX_COMPILER /home/fhc/linux_driver/gcc-3.4.5-glibc-2.3.6/bin/arm-linux-g++) # where is the target environment SET(CMAKE_FIND_ROOT_PATH /home/fhc/linux_driver/gcc-3.4.5-glibc-2.3.6) # search for programs in the build host directories (not necessary) SET(CMAKE_FIND_ROOT_PATH_MODE_PROGRAM NEVER) # for libraries and headers in the target directories SET(CMAKE_FIND_ROOT_PATH_MODE_LIBRARY ONLY) SET(CMAKE_FIND_ROOT_PATH_MODE_INCLUDE ONLY)","title":"3.\u521b\u5efatoolchain.cmake\u6587\u4ef6"},{"location":"Embedded System/linux/jz2440/cmake_cross_compile/#4cmakemakefile","text":"\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a camke-gui \u547d\u4ee4\u884c cmake -DCMAKE_TOOLCHAIN_FILE=../toolchain/toolchain.cmake ..","title":"4.\u6267\u884cCMake\u6307\u4ee4\u751f\u6210Makefile"},{"location":"Embedded System/linux/jz2440/easy_open_jtag/","text":"EOP(Easy Open JTAG) # EOP\u767e\u95ee\u79d1\u6280\u51fa\u54c1\u7684\u8c03\u8bd5\u5668\uff0c\u7528\u4e8e\u4e0b\u8f7d\u88f8\u673a\u7a0b\u5e8f\u3002 EOP\u7684\u9a71\u52a8\u5728Windows10\u4e0b\u9a71\u52a8\u5b89\u88c5\u5341\u5206\u9ebb\u70e6\uff0c\u4e0d\u60f3\u6298\u817e\u53ef\u4ee5\u5728Ubuntu\u4e0a\u4f7f\u7528EOP\uff08\u514d\u9a71\uff09\u3002 EOP for Ubuntu\u4e0b\u8f7d\u5730\u5740 1. Ubuntu\u8fde\u63a5EOP # 2. \u4f7f\u7528\u65b9\u6cd51 # # \u8981\u5199\u6587\u4ef6\u7684\u7edd\u5bf9\u8def\u5f84 sudo oflash file_name.bin 3.\u4f7f\u7528\u65b9\u6cd52 # sudo oflash \u7136\u540e\u6839\u636e\u6307\u4ee4\u64cd\u4f5c\u3002","title":"OpenJTAG\u70e7\u5199\u88f8\u673a\u7a0b\u5e8fuboot"},{"location":"Embedded System/linux/jz2440/easy_open_jtag/#eopeasy-open-jtag","text":"EOP\u767e\u95ee\u79d1\u6280\u51fa\u54c1\u7684\u8c03\u8bd5\u5668\uff0c\u7528\u4e8e\u4e0b\u8f7d\u88f8\u673a\u7a0b\u5e8f\u3002 EOP\u7684\u9a71\u52a8\u5728Windows10\u4e0b\u9a71\u52a8\u5b89\u88c5\u5341\u5206\u9ebb\u70e6\uff0c\u4e0d\u60f3\u6298\u817e\u53ef\u4ee5\u5728Ubuntu\u4e0a\u4f7f\u7528EOP\uff08\u514d\u9a71\uff09\u3002 EOP for Ubuntu\u4e0b\u8f7d\u5730\u5740","title":"EOP(Easy Open JTAG)"},{"location":"Embedded System/linux/jz2440/easy_open_jtag/#1-ubuntueop","text":"","title":"1. Ubuntu\u8fde\u63a5EOP"},{"location":"Embedded System/linux/jz2440/easy_open_jtag/#2-1","text":"# \u8981\u5199\u6587\u4ef6\u7684\u7edd\u5bf9\u8def\u5f84 sudo oflash file_name.bin","title":"2. \u4f7f\u7528\u65b9\u6cd51"},{"location":"Embedded System/linux/jz2440/easy_open_jtag/#32","text":"sudo oflash \u7136\u540e\u6839\u636e\u6307\u4ee4\u64cd\u4f5c\u3002","title":"3.\u4f7f\u7528\u65b9\u6cd52"},{"location":"Embedded System/linux/jz2440/jz2440_dev_tips/","text":"JZ2440\u5f00\u53d1Tips # 1.\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe # \u767e\u95ee\u7f51\u63d0\u4f9b\u7684\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe\u662f32\u4f4d\u7684\uff0c\u6240\u4ee5\u4e0d\u80fd\u518d64\u4f4dLinux\u7cfb\u7edf\u4e0a\u8fd0\u884c\uff0c\u6bd4\u5982Ubuntu18.04\u3002 \u89e3\u51b3\u65b9\u6848\uff1a # \u5b89\u88c532\u4f4d\u7684\u5e93 sudo apt-get install lib32ncurses5 lib32z1 2.\u5185\u6838\u6253\u8865\u4e01 # patch -p1 < path/to/patch_file.patch cp config_ok .config","title":"JZ2440 dev tips"},{"location":"Embedded System/linux/jz2440/jz2440_dev_tips/#jz2440tips","text":"","title":"JZ2440\u5f00\u53d1Tips"},{"location":"Embedded System/linux/jz2440/jz2440_dev_tips/#1","text":"\u767e\u95ee\u7f51\u63d0\u4f9b\u7684\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe\u662f32\u4f4d\u7684\uff0c\u6240\u4ee5\u4e0d\u80fd\u518d64\u4f4dLinux\u7cfb\u7edf\u4e0a\u8fd0\u884c\uff0c\u6bd4\u5982Ubuntu18.04\u3002 \u89e3\u51b3\u65b9\u6848\uff1a # \u5b89\u88c532\u4f4d\u7684\u5e93 sudo apt-get install lib32ncurses5 lib32z1","title":"1.\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe"},{"location":"Embedded System/linux/jz2440/jz2440_dev_tips/#2","text":"patch -p1 < path/to/patch_file.patch cp config_ok .config","title":"2.\u5185\u6838\u6253\u8865\u4e01"},{"location":"Embedded System/linux/jz2440/linux_kernel_porting/","text":"Linux Kernel # 1. \u4f7f\u7528\u516c\u677f\u9ed8\u8ba4\u914d\u7f6e\u7f16\u8bd1linux kernel # \u4fee\u6539\u9876\u5c42Makefile\uff0c\u4fee\u6539\u5982\u4e0b\u5185\u5bb9\uff1a ARCH ?=arm CROSS_COMPILE ?= arm-linux-gnueabi- \u627e\u5230\u9ed8\u8ba4\u914d\u7f6es3c2410_defconfig find -name \"*defconfig\" \u914d\u7f6elinux kernel\uff1a make s3c2410_defconfig \u7f16\u8bd1linux kernel\uff1a make uImage \u7f16\u8bd1\u5b8c\u6210\u540e\u751f\u6210\u7684linux kernel\u6620\u50cf\u6587\u4ef6\u8def\u5f84\u662f\uff1aarch/arm/boot/uImage 2.\u52a0\u8f7dlinux kernel # \u901a\u8fc7\u7f51\u7edc\u4ece\u670d\u52a1\u5668\u4e0a\u4e0b\u8f7duImage\uff1a nfs 32000000 192.168.2.200:/home/fhc/linux_driver/nfs/uImage tftpboot 32000000 /home/fhc/linux_driver/nfs/uImage \u542f\u52a8linux kernel\uff1a bootm 32000000 \u5185\u6838\u6253\u8865\u4e01\u7684\u65b9\u6cd5 # patch -p1 < path/to/patch_file.patch cp config_ok .config","title":"Linux Kernel\u79fb\u690d"},{"location":"Embedded System/linux/jz2440/linux_kernel_porting/#linux-kernel","text":"","title":"Linux Kernel"},{"location":"Embedded System/linux/jz2440/linux_kernel_porting/#1-linux-kernel","text":"\u4fee\u6539\u9876\u5c42Makefile\uff0c\u4fee\u6539\u5982\u4e0b\u5185\u5bb9\uff1a ARCH ?=arm CROSS_COMPILE ?= arm-linux-gnueabi- \u627e\u5230\u9ed8\u8ba4\u914d\u7f6es3c2410_defconfig find -name \"*defconfig\" \u914d\u7f6elinux kernel\uff1a make s3c2410_defconfig \u7f16\u8bd1linux kernel\uff1a make uImage \u7f16\u8bd1\u5b8c\u6210\u540e\u751f\u6210\u7684linux kernel\u6620\u50cf\u6587\u4ef6\u8def\u5f84\u662f\uff1aarch/arm/boot/uImage","title":"1. \u4f7f\u7528\u516c\u677f\u9ed8\u8ba4\u914d\u7f6e\u7f16\u8bd1linux kernel"},{"location":"Embedded System/linux/jz2440/linux_kernel_porting/#2linux-kernel","text":"\u901a\u8fc7\u7f51\u7edc\u4ece\u670d\u52a1\u5668\u4e0a\u4e0b\u8f7duImage\uff1a nfs 32000000 192.168.2.200:/home/fhc/linux_driver/nfs/uImage tftpboot 32000000 /home/fhc/linux_driver/nfs/uImage \u542f\u52a8linux kernel\uff1a bootm 32000000","title":"2.\u52a0\u8f7dlinux kernel"},{"location":"Embedded System/linux/jz2440/linux_kernel_porting/#_1","text":"patch -p1 < path/to/patch_file.patch cp config_ok .config","title":"\u5185\u6838\u6253\u8865\u4e01\u7684\u65b9\u6cd5"},{"location":"Embedded System/linux/jz2440/load_address_link_address/","text":"\u88c5\u8f7d\u5730\u5740\u548c\u8fd0\u884c\u5730\u5740 # \u88c5\u8f7d\u5730\u5740\uff1a\u4e8c\u8fdb\u5236\u5e94\u7528\u7a0b\u5e8f\u6587\u4ef6\u5e94\u8be5\u5b58\u50a8\u7684\u5730\u65b9 \u8fd0\u884c\u5730\u5740\uff1a\u7a0b\u5e8f\u8fd0\u884c\u65f6\u5e94\u8be5\u5728\u7684\u5730\u65b9","title":"\u88c5\u8f7d\u5730\u5740\u548c\u8fd0\u884c\u5730\u5740"},{"location":"Embedded System/linux/jz2440/load_address_link_address/#_1","text":"\u88c5\u8f7d\u5730\u5740\uff1a\u4e8c\u8fdb\u5236\u5e94\u7528\u7a0b\u5e8f\u6587\u4ef6\u5e94\u8be5\u5b58\u50a8\u7684\u5730\u65b9 \u8fd0\u884c\u5730\u5740\uff1a\u7a0b\u5e8f\u8fd0\u884c\u65f6\u5e94\u8be5\u5728\u7684\u5730\u65b9","title":"\u88c5\u8f7d\u5730\u5740\u548c\u8fd0\u884c\u5730\u5740"},{"location":"Embedded System/linux/jz2440/uboot/","text":"Uboot # Uboot\u5b98\u7f51 Uboot\u4e0b\u8f7d\u5730\u5740 1. Uboot\u53c2\u6570\u914d\u7f6e # # \u67e5\u770b\u652f\u6301\u7684\u547d\u4ee4 help / ? # \u67e5\u770b\u67d0\u4e2a\u547d\u4ee4\u7684\u4ecb\u7ecd ? cmd_name # \u8bbe\u7f6e\u53c2\u6570 setenv ipaddr 192.168.1.100 # \u5220\u9664\u53c2\u6570 setenv ipaddr # \u5c06\u53c2\u6570\u6c38\u4e45\u4fdd\u5b58\u5230Flash saveenv nfs 32000000 192.168.2.200:/home/fhc/linux_driver/nfs/uImage","title":"Uboot\u547d\u4ee4"},{"location":"Embedded System/linux/jz2440/uboot/#uboot","text":"Uboot\u5b98\u7f51 Uboot\u4e0b\u8f7d\u5730\u5740","title":"Uboot"},{"location":"Embedded System/linux/jz2440/uboot/#1-uboot","text":"# \u67e5\u770b\u652f\u6301\u7684\u547d\u4ee4 help / ? # \u67e5\u770b\u67d0\u4e2a\u547d\u4ee4\u7684\u4ecb\u7ecd ? cmd_name # \u8bbe\u7f6e\u53c2\u6570 setenv ipaddr 192.168.1.100 # \u5220\u9664\u53c2\u6570 setenv ipaddr # \u5c06\u53c2\u6570\u6c38\u4e45\u4fdd\u5b58\u5230Flash saveenv nfs 32000000 192.168.2.200:/home/fhc/linux_driver/nfs/uImage","title":"1. Uboot\u53c2\u6570\u914d\u7f6e"},{"location":"Embedded System/linux/jz2440/uboot_porting/","text":"Uboot \u79fb\u690d # 1. \u8d44\u6e90\u4e0b\u8f7d # u-boot 2012.04.01\u4e0b\u8f7d \u8865\u4e01\u548c\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe\u4e0b\u8f7d 2.\u914d\u7f6e\u5de5\u5177\u94fe # \u4f7f\u7528\u5de5\u5177\u94fearm-linux-gcc 4.3.2\u3002 # \u4ec5\u5f53\u524d\u73af\u5883\u751f\u6548 export PATH=$PATH:/path/to/4.3.2/bin 3. Uboot\u6253\u8865\u4e01 # \u4f7f\u7528JZ2440\u5b98\u65b9\u7684\u8865\u4e01 cd uboot_root_dir patch -p1 < path/to/patch_file.patch 4. \u7f16\u8bd1 # make distclean make smdk2410_config make","title":"Uboot\u79fb\u690d"},{"location":"Embedded System/linux/jz2440/uboot_porting/#uboot","text":"","title":"Uboot \u79fb\u690d"},{"location":"Embedded System/linux/jz2440/uboot_porting/#1","text":"u-boot 2012.04.01\u4e0b\u8f7d \u8865\u4e01\u548c\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe\u4e0b\u8f7d","title":"1. \u8d44\u6e90\u4e0b\u8f7d"},{"location":"Embedded System/linux/jz2440/uboot_porting/#2","text":"\u4f7f\u7528\u5de5\u5177\u94fearm-linux-gcc 4.3.2\u3002 # \u4ec5\u5f53\u524d\u73af\u5883\u751f\u6548 export PATH=$PATH:/path/to/4.3.2/bin","title":"2.\u914d\u7f6e\u5de5\u5177\u94fe"},{"location":"Embedded System/linux/jz2440/uboot_porting/#3-uboot","text":"\u4f7f\u7528JZ2440\u5b98\u65b9\u7684\u8865\u4e01 cd uboot_root_dir patch -p1 < path/to/patch_file.patch","title":"3. Uboot\u6253\u8865\u4e01"},{"location":"Embedded System/linux/jz2440/uboot_porting/#4","text":"make distclean make smdk2410_config make","title":"4. \u7f16\u8bd1"},{"location":"Embedded System/linux/jz2440/write_system_use_uboot/","text":"\u4f7f\u7528Uboot\u70e7\u5199\u5185\u6838\u548c\u6587\u4ef6\u7cfb\u7edf # 1.\u67e5\u770bFlash\u5206\u533a\u60c5\u51b5 # \u5728Uboot\u547d\u4ee4\u884c\u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff1a mtdpart \u7136\u540e\u5c31\u4f1a\u5217\u51faFlash\u7684\u5206\u533a\u60c5\u51b5\u3002\u5728\u70e7\u5199\u5185\u6838\u548c\u6587\u4ef6\u7cfb\u7edf\u7684\u65f6\u5019\uff0c\u8981\u4e25\u683c\u6309\u7167\u8fd9\u91cc\u7684\u5206\u533a\u540d\u79f0\u6765\u5199\u3002 2.\u70e7\u5199\u5185\u6838 # nfs 32000000 192.168.2.200:/home/fhc/linux_driver/nfs/uImage nand erase kernel nand write.jffs2 32000000 kernel 3.\u70e7\u5199\u6587\u4ef6\u7cfb\u7edf # // \u6587\u4ef6\u7cfb\u7edf\u7684\u5927\u5c0f\u4e0d\u80fd\u8d85\u8fc7\u5185\u5b58\u7684\u5927\u5c0f\uff0c\u5426\u5219\u4e0b\u8f7d\u4f1a\u51fa\u9519\uff0c\u6240\u4ee5\u4e00\u822c\u5c06\u5185\u5b58\u5730\u5740\u8bbe\u7f6e\u4e3a\u5185\u5b58\u7684\u8d77\u59cb\u5730\u5740 nfs 30000000 192.168.2.200:/home/fhc/linux_driver/nfs/fs_qtopia.yaffs2 nand erase root // nand write.[\u6587\u4ef6\u7cfb\u7edf\u7c7b\u578bjaffs2\u6216\u8005yaff] \u6587\u4ef6\u6e90\u7684\u5185\u5b58\u5730\u5740 flash\u4e0a\u7684\u70e7\u5199\u5730\u5740 \u6587\u4ef6\u6e90\u7684\u5927\u5c0f\uff08\u7f51\u7edc\u4e0b\u8f7d\u540e\u6709\u63d0\u793a\uff09 nand write.yaff 30000000 0x00260000 0x791340","title":"\u4f7f\u7528Uboot\u70e7\u5199\u5185\u6838\u548c\u6587\u4ef6\u7cfb\u7edf"},{"location":"Embedded System/linux/jz2440/write_system_use_uboot/#uboot","text":"","title":"\u4f7f\u7528Uboot\u70e7\u5199\u5185\u6838\u548c\u6587\u4ef6\u7cfb\u7edf"},{"location":"Embedded System/linux/jz2440/write_system_use_uboot/#1flash","text":"\u5728Uboot\u547d\u4ee4\u884c\u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff1a mtdpart \u7136\u540e\u5c31\u4f1a\u5217\u51faFlash\u7684\u5206\u533a\u60c5\u51b5\u3002\u5728\u70e7\u5199\u5185\u6838\u548c\u6587\u4ef6\u7cfb\u7edf\u7684\u65f6\u5019\uff0c\u8981\u4e25\u683c\u6309\u7167\u8fd9\u91cc\u7684\u5206\u533a\u540d\u79f0\u6765\u5199\u3002","title":"1.\u67e5\u770bFlash\u5206\u533a\u60c5\u51b5"},{"location":"Embedded System/linux/jz2440/write_system_use_uboot/#2","text":"nfs 32000000 192.168.2.200:/home/fhc/linux_driver/nfs/uImage nand erase kernel nand write.jffs2 32000000 kernel","title":"2.\u70e7\u5199\u5185\u6838"},{"location":"Embedded System/linux/jz2440/write_system_use_uboot/#3","text":"// \u6587\u4ef6\u7cfb\u7edf\u7684\u5927\u5c0f\u4e0d\u80fd\u8d85\u8fc7\u5185\u5b58\u7684\u5927\u5c0f\uff0c\u5426\u5219\u4e0b\u8f7d\u4f1a\u51fa\u9519\uff0c\u6240\u4ee5\u4e00\u822c\u5c06\u5185\u5b58\u5730\u5740\u8bbe\u7f6e\u4e3a\u5185\u5b58\u7684\u8d77\u59cb\u5730\u5740 nfs 30000000 192.168.2.200:/home/fhc/linux_driver/nfs/fs_qtopia.yaffs2 nand erase root // nand write.[\u6587\u4ef6\u7cfb\u7edf\u7c7b\u578bjaffs2\u6216\u8005yaff] \u6587\u4ef6\u6e90\u7684\u5185\u5b58\u5730\u5740 flash\u4e0a\u7684\u70e7\u5199\u5730\u5740 \u6587\u4ef6\u6e90\u7684\u5927\u5c0f\uff08\u7f51\u7edc\u4e0b\u8f7d\u540e\u6709\u63d0\u793a\uff09 nand write.yaff 30000000 0x00260000 0x791340","title":"3.\u70e7\u5199\u6587\u4ef6\u7cfb\u7edf"},{"location":"Embedded System/linux/makefile/two_flavors_of_variables/","text":"GNU make\u4e2d\u76842\u79cd\u53d8\u91cf # \u5b98\u7f51\u7684\u4ecb\u7ecd 1. recursively expanded variable # = 2. Simply expanded variables # Variables defined with := in GNU make are expanded when they are defined rather than when they are used. :=","title":"GNU make\u4e2d\u76842\u79cd\u53d8\u91cf"},{"location":"Embedded System/linux/makefile/two_flavors_of_variables/#gnu-make2","text":"\u5b98\u7f51\u7684\u4ecb\u7ecd","title":"GNU make\u4e2d\u76842\u79cd\u53d8\u91cf"},{"location":"Embedded System/linux/makefile/two_flavors_of_variables/#1-recursively-expanded-variable","text":"=","title":"1. recursively expanded variable"},{"location":"Embedded System/linux/makefile/two_flavors_of_variables/#2-simply-expanded-variables","text":"Variables defined with := in GNU make are expanded when they are defined rather than when they are used. :=","title":"2. Simply expanded variables"},{"location":"Embedded System/motor_control/dc_motor_driver_chip/","text":"\u76f4\u6d41\u5237\u5f0f\u7535\u673a\u9a71\u52a8\u82af\u7247DRV8848 # \u53ccH\u6865\uff0c\u53ef\u9a71\u52a8\u4e24\u4e2a\u5237\u5f0f\u76f4\u6d41\u7535\u673a\u548c\u4e00\u4e2a\u6b65\u8fdb\u7535\u673a","title":"\u76f4\u6d41\u5237\u5f0f\u7535\u673a"},{"location":"Embedded System/motor_control/dc_motor_driver_chip/#drv8848","text":"\u53ccH\u6865\uff0c\u53ef\u9a71\u52a8\u4e24\u4e2a\u5237\u5f0f\u76f4\u6d41\u7535\u673a\u548c\u4e00\u4e2a\u6b65\u8fdb\u7535\u673a","title":"\u76f4\u6d41\u5237\u5f0f\u7535\u673a\u9a71\u52a8\u82af\u7247DRV8848"},{"location":"Embedded System/motor_control/stepper_motor_driver_chip/","text":"\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u82af\u7247DRV8846 # \u5177\u6709\u5fae\u6b65\u529f\u80fd\uff0c\u53ef\u9a71\u52a8\u4e00\u53f02\u76f84\u7ebf\u5236\u6b65\u8fdb\u7535\u673a","title":"\u6b65\u8fdb\u7535\u673a"},{"location":"Embedded System/motor_control/stepper_motor_driver_chip/#drv8846","text":"\u5177\u6709\u5fae\u6b65\u529f\u80fd\uff0c\u53ef\u9a71\u52a8\u4e00\u53f02\u76f84\u7ebf\u5236\u6b65\u8fdb\u7535\u673a","title":"\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u82af\u7247DRV8846"},{"location":"Embedded System/motor_control/torque/","text":"\u626d\u77e9 #","title":"\u8f6c\u77e9"},{"location":"Embedded System/motor_control/torque/#_1","text":"","title":"\u626d\u77e9"},{"location":"Hardware/battery_work_time/","text":"\u4ece\u80fd\u91cf\u7684\u89d2\u5ea6\u8ba1\u7b97\u7535\u6c60\u7684\u5de5\u4f5c\u65f6\u95f4 # \u540d\u8bcd\u89e3\u91ca # \u5e93\u4f26\uff1a\u5e93\u4ed1\uff08\u82f1\u8bed\uff1aCoulomb\uff09\u662f\u7535\u91cf\u7684\u5355\u4f4d\uff0c\u7b80\u79f0\u5e93\uff0c\u7b26\u53f7\u4e3aC\u3002\u82e5\u5bfc\u7ebf\u4e2d\u8f7d\u67091\u5b89\u57f9\u7684\u7a33\u5b9a\u7535\u6d41\uff0c\u5219\u57281\u79d2\u5185\u901a\u8fc7\u5bfc\u7ebf\u6a2a\u622a\u9762\u79ef\u7684\u7535\u91cf\u4e3a1\u5e93\u4ed1\u30021C=1A*1S \u7535\u80fd\u7684\u5355\u4f4d\u662f\u201c\u5ea6\u201d\uff0c\u5b83\u7684\u5b66\u540d\u53eb\u505a\u5343\u74e6\u65f6\uff0c\u7b26\u53f7\u662fkW\u00b7h\u3002\u5728\u7269\u7406\u5b66\u4e2d\uff0c\u66f4\u5e38\u7528\u7684\u80fd\u91cf\u5355\u4f4d\uff08\u4e5f\u5c31\u662f\u4e3b\u5355\u4f4d\uff0c\u6709\u65f6\u4e5f\u53eb\u56fd\u9645\u5355\u4f4d\uff09\u662f\u7126\u8033\uff0c\u7b80\u79f0\u7126\uff0c\u7b26\u53f7\u662fJ\u3002 \u5b83\u4eec\u7684\u5173\u7cfb\u662f\uff1a 1kW\u00b7h=3.6\u00d710^6J \u7535\u80fd\u516c\u5f0f\uff1aW=UIt=Pt \u8ba1\u7b97 # 1C=1A*1s \u5047\u8bbe\u7535\u6c60\u7535\u91cf\u662f2200mAh\uff0c\u989d\u5b9a\u7535\u538b\u662f4.2V\uff0c\u90a3\u4e48\u5176\u7535\u91cf\u662f2.2A * 3600s = 7920C\uff0c\u5176\u7535\u80fd\u662f2.2A * 3600s * 4.2V = 33264J \u5047\u8bbe\u8d1f\u8f7d\u7684\u529f\u8017\u7684500mW\uff0c\u989d\u5b9a\u7535\u538b\u662f3.3V\uff0c\u90a3\u4e48\u5b83\u7684\u5de5\u4f5c\u65f6\u957f\u662ft = W/P = 33264J / 500mW = 66528s = 18.48h \u4e5f\u5c31\u76f8\u5f53\u4e8e\u529f\u7387\u76f8\u9664 (2.2A * 4.2V) / 0.5W = 18.48h","title":"\u7535\u6c60\u5de5\u4f5c\u65f6\u95f4\u7684\u8ba1\u7b97"},{"location":"Hardware/battery_work_time/#_1","text":"","title":"\u4ece\u80fd\u91cf\u7684\u89d2\u5ea6\u8ba1\u7b97\u7535\u6c60\u7684\u5de5\u4f5c\u65f6\u95f4"},{"location":"Hardware/battery_work_time/#_2","text":"\u5e93\u4f26\uff1a\u5e93\u4ed1\uff08\u82f1\u8bed\uff1aCoulomb\uff09\u662f\u7535\u91cf\u7684\u5355\u4f4d\uff0c\u7b80\u79f0\u5e93\uff0c\u7b26\u53f7\u4e3aC\u3002\u82e5\u5bfc\u7ebf\u4e2d\u8f7d\u67091\u5b89\u57f9\u7684\u7a33\u5b9a\u7535\u6d41\uff0c\u5219\u57281\u79d2\u5185\u901a\u8fc7\u5bfc\u7ebf\u6a2a\u622a\u9762\u79ef\u7684\u7535\u91cf\u4e3a1\u5e93\u4ed1\u30021C=1A*1S \u7535\u80fd\u7684\u5355\u4f4d\u662f\u201c\u5ea6\u201d\uff0c\u5b83\u7684\u5b66\u540d\u53eb\u505a\u5343\u74e6\u65f6\uff0c\u7b26\u53f7\u662fkW\u00b7h\u3002\u5728\u7269\u7406\u5b66\u4e2d\uff0c\u66f4\u5e38\u7528\u7684\u80fd\u91cf\u5355\u4f4d\uff08\u4e5f\u5c31\u662f\u4e3b\u5355\u4f4d\uff0c\u6709\u65f6\u4e5f\u53eb\u56fd\u9645\u5355\u4f4d\uff09\u662f\u7126\u8033\uff0c\u7b80\u79f0\u7126\uff0c\u7b26\u53f7\u662fJ\u3002 \u5b83\u4eec\u7684\u5173\u7cfb\u662f\uff1a 1kW\u00b7h=3.6\u00d710^6J \u7535\u80fd\u516c\u5f0f\uff1aW=UIt=Pt","title":"\u540d\u8bcd\u89e3\u91ca"},{"location":"Hardware/battery_work_time/#_3","text":"1C=1A*1s \u5047\u8bbe\u7535\u6c60\u7535\u91cf\u662f2200mAh\uff0c\u989d\u5b9a\u7535\u538b\u662f4.2V\uff0c\u90a3\u4e48\u5176\u7535\u91cf\u662f2.2A * 3600s = 7920C\uff0c\u5176\u7535\u80fd\u662f2.2A * 3600s * 4.2V = 33264J \u5047\u8bbe\u8d1f\u8f7d\u7684\u529f\u8017\u7684500mW\uff0c\u989d\u5b9a\u7535\u538b\u662f3.3V\uff0c\u90a3\u4e48\u5b83\u7684\u5de5\u4f5c\u65f6\u957f\u662ft = W/P = 33264J / 500mW = 66528s = 18.48h \u4e5f\u5c31\u76f8\u5f53\u4e8e\u529f\u7387\u76f8\u9664 (2.2A * 4.2V) / 0.5W = 18.48h","title":"\u8ba1\u7b97"},{"location":"Hardware/hardware/","text":"","title":"Hardware"},{"location":"ML/caffe_temp/","text":"Caffe\u76f8\u5173\u4e34\u65f6\u76ee\u5f55 # Caffe\u6a21\u578b\u53ef\u89c6\u5316 # 1. \u7f16\u8bd1pycaffe # make pycaffe 2.\u5b89\u88c5\u4f9d\u8d56 # pip install pydot sudo apt-get install graphviz 3.\u53ef\u89c6\u5316\u6a21\u578b # cd $(CAFFE_ROOT)/python/ $ ./draw_net.py ../models/bvlc_googlenet/deploy.prototxt bvlc_googlenet.caffemodel.jpg","title":"Caffe\u76f8\u5173\u4e34\u65f6\u76ee\u5f55"},{"location":"ML/caffe_temp/#caffe","text":"","title":"Caffe\u76f8\u5173\u4e34\u65f6\u76ee\u5f55"},{"location":"ML/caffe_temp/#caffe_1","text":"","title":"Caffe\u6a21\u578b\u53ef\u89c6\u5316"},{"location":"ML/caffe_temp/#1-pycaffe","text":"make pycaffe","title":"1. \u7f16\u8bd1pycaffe"},{"location":"ML/caffe_temp/#2","text":"pip install pydot sudo apt-get install graphviz","title":"2.\u5b89\u88c5\u4f9d\u8d56"},{"location":"ML/caffe_temp/#3","text":"cd $(CAFFE_ROOT)/python/ $ ./draw_net.py ../models/bvlc_googlenet/deploy.prototxt bvlc_googlenet.caffemodel.jpg","title":"3.\u53ef\u89c6\u5316\u6a21\u578b"},{"location":"ML/how_to_run_dl_model_on_stm32/","text":"STM32\u56fe\u50cf\u5206\u7c7b # 1.\u524d\u8a00 # \u5d4c\u5165\u5f0f\u673a\u5668\u5b66\u4e60(EmbeddedML)\u662f\u4e00\u4e2a\u5f88\u5927\u7684\u8bdd\u9898\uff0c\u6d89\u53ca\u5230\u7684\u6280\u672f\u5f88\u591a\uff1a \u5d4c\u5165\u5f0f\u8f6f\u786c\u4ef6\u6280\u672f\uff1aARM\u3001C/C++\u3001Linux\u3001Android\u7b49 \u56fe\u50cf\u5904\u7406\uff1a\u6570\u5b57\u56fe\u50cf\u7406\u8bba\u3001OpenCV\u7b49 \u673a\u5668\u5b66\u4e60\u7406\u8bba\uff1a\u9ad8\u6570\u3001\u7ebf\u4ee3\u3001CNN\u3001\u6fc0\u6d3b\u51fd\u6570\u3001\u635f\u5931\u51fd\u6570\u3001\u68af\u5ea6\u4e0b\u964d\u7b49 \u673a\u5668\u5b66\u4e60\u6846\u67b6\uff1aTensorFlow\u3001Caffe\u7b49 Python \u4e0d\u662f\u4e00\u4e24\u7bc7\u6587\u7ae0\u5c31\u80fd\u8868\u8ff0\u6e05\u695a\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u51b3\u5b9a\u505a\u4e00\u4e2a\u5d4c\u5165\u5f0f\u673a\u5668\u5b66\u4e60(EmbeddedML)\u4e13\u680f\uff0c\u901a\u8fc7\u4e00\u7cfb\u5217\u7684\u6587\u7ae0\u548c\u89c6\u9891\uff0c\u5e26\u4f60\u8d70\u8fdb\u8fd9\u4e2a\u65b0\u5947\u7684\u4e16\u754c\uff01 \u4eb2\u81ea\u52a8\u624b\u5c1d\u8bd5\uff0c\u662f\u4e86\u89e3\u4e00\u4e2a\u65b0\u4e8b\u7269\u6700\u597d\u7684\u65b9\u5f0f\u3002\u6211\u4eec\u4e3a\u4f60\u51c6\u5907\u4e86\u4e00\u4e2a\u5b9e\u9645\u53ef\u8fd0\u884c\u7684\u9879\u76ee\uff0c\u4e0d\u9700\u8981\u5f00\u53d1\u677f\uff0c\u53ea\u8981\u4f60\u6709\u4e00\u53f0\u7535\u8111\u5c31\u80fd\u8fd0\u884c\u3002\u4e0b\u9762\u5f00\u59cb\uff01 2.\u673a\u5668\u5b66\u4e60\u6280\u672f\u7b80\u4ecb # \u673a\u5668\u5b66\u4e60\u53ef\u4ee5\u8ba4\u4e3a\u662f\u4e00\u79cd\u65b0\u7684\u7f16\u7a0b\u65b9\u5f0f\uff0c\u4e00\u79cd\u8ba9\u673a\u5668\u80fd\u591f\u5177\u6709\u5b66\u4e60\u80fd\u529b\u7684\u7f16\u7a0b\u65b9\u5f0f\u3002 \u6211\u4eec\u6765\u770b\u770b\u4f20\u7edf\u7684\u7f16\u7a0b\u65b9\u5f0f\u4e0e\u673a\u5668\u5b66\u4e60\u8fd9\u79cd\u7f16\u7a0b\u65b9\u5f0f\u6709\u4f55\u4e0d\u540c\uff1a \u4f20\u7edf\u7684\u7f16\u7a0b\u65b9\u5f0f\u662f\uff1a\u4f7f\u7528\u89c4\u5219\uff08\u7531\u7a0b\u5e8f\u8981\u7f16\u5199\uff09\u548c\u6570\u636e\u751f\u6210\u7ed3\u679c\u3002 \u673a\u5668\u5b66\u4e60\uff1a\u4e0e\u4f20\u7edf\u7684\u7f16\u7a0b\u65b9\u5f0f\u76f8\u53cd\uff0c\u6211\u4eec\u8f93\u5165\u7684\u662f\u7ed3\u679c\u548c\u6570\u636e\uff0c\u5f97\u5230\u7684\u662f\u89c4\u5219\uff0c\u8fd9\u4e2a\u89c4\u5219\u662f\u901a\u8fc7\u673a\u5668\u5b66\u4e60\u6280\u672f\u5f97\u5230\u7684\uff0c\u800c\u4e0d\u662f\u7531\u7a0b\u5e8f\u5458\u7f16\u5199\u7684\u3002 2.1 \u4e3a\u4ec0\u4e48\u8981\u4f7f\u7528\u673a\u5668\u5b66\u4e60\u6280\u672f\u5462\uff1f # \u5728\u67d0\u4e9b\u5e94\u7528\u573a\u666f\u4e2d\uff0c\u4f7f\u7528\u673a\u5668\u5b66\u4e60\u6280\u672f\u7684\u597d\u5904\u662f\u663e\u800c\u6613\u89c1\u7684\u3002\u5bf9\u4e8e\u8ba1\u7b97\u673a\u6765\u8bf4\uff0c\u5b9e\u9645\u751f\u6d3b\u4e2d\u7684\u5f88\u591a\u5e94\u7528\u573a\u666f\u90fd\u975e\u5e38\u7684\u590d\u6742\uff0c\u6bd4\u5982\u5206\u8fa8\u732b\u548c\u72d7\uff0c\u5927\u591a\u6570\u65f6\u5019\uff0c\u6211\u4eec\u65e0\u6cd5\u4e8b\u5148\u7f16\u5199\u4e00\u5957\u89c4\u5219\u8ba9\u8ba1\u7b97\u673a\u5206\u8fa8\u51fa\u54ea\u4e2a\u662f\u732b\u54ea\u4e2a\u662f\u72d7\uff0c\u6b64\u65f6\u673a\u5668\u5b66\u4e60\u6280\u672f\u7684\u4f18\u8d8a\u6027\u5c31\u663e\u73b0\u51fa\u6765\u4e86\uff0c\u6211\u4eec\u4f7f\u7528\u5927\u91cf\u5df2\u6807\u8bb0\u7684\u732b\u72d7\u56fe\u7247\uff0c\u53bb\u8bad\u7ec3\u6df1\u5ea6\u7f51\u7edc\uff0c\u5f97\u5230\u4e00\u4e2a\u8bc6\u522b\u732b\u72d7\u7684\u89c4\u5219\uff0c\u8ba1\u7b97\u673a\u5229\u7528\u8fd9\u4e2a\u89c4\u5219\u5c31\u80fd\u8bc6\u522b\u732b\u548c\u72d7\u4e86\u3002 2.2 \u673a\u5668\u5b66\u4e60\u7684\u8fc7\u7a0b # \u673a\u5668\u5b66\u4e60\u5e94\u7528\u4e00\u822c\u5206\u4e3a\u4e24\u4e2a\u8fc7\u7a0b\uff1a \u4e00\u662f\u6a21\u578b\u7684\u8bad\u7ec3\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u9700\u8981\u5927\u91cf\u7684\u6570\u636e\u548c\u8ba1\u7b97\u91cf\uff0c\u4e00\u822c\u5728\u8ba1\u7b97\u80fd\u529b\u5f88\u5f3a\u7684\u8ba1\u7b97\u673a\u4e0a\u8fdb\u884c \u4e8c\u662f\u4f7f\u7528\u8bad\u7ec3\u6240\u5f97\u7684\u6a21\u578b\u5bf9\u8f93\u5165\u8fdb\u884c\u9884\u6d4b\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u8ba1\u7b97\u91cf\u76f8\u5bf9\u5c31\u4f1a\u5c0f\u5f88\u591a\uff0c\u53ef\u4ee5\u5728\u624b\u673a\u4e0a\uff0c\u751a\u81f3\u662f\u5728MCU\u4e0a\u8fdb\u884c 3. \u5728STM32\u4e0a\u8fdb\u884c\u56fe\u50cf\u5206\u7c7b\u8bd5\u9a8c # \u8fd9\u91cc\u4ec5\u4ecb\u7ecd\u5982\u4f55\u5728STM32\u4e0a\u8fd0\u884c\u673a\u5668\u5b66\u4e60\u6a21\u578b\uff0c\u4ece\u800c\u5bf9\u8f93\u5165\u56fe\u50cf\u7684\u7c7b\u522b\u8fdb\u884c\u9884\u6d4b\u3002\u81f3\u4e8e\u6a21\u578b\u7684\u7f51\u7edc\u642d\u5efa\u3001\u8bad\u7ec3\u548c\u8f6c\u6362\u5c06\u5728\u540e\u7eed\u6587\u7ae0\u4e2d\u4ecb\u7ecd\u3002 \u9879\u76ee\u5730\u5740\uff1ahttps://github.com/edgeML/cifar10_image_classifier_on_stm32 3.1 \u9879\u76ee\u7b80\u4ecb # \u672c\u9879\u76ee\u5b9e\u73b0\u4e86\u5728STM32\u4e0a\u8fdb\u884c\u56fe\u50cf\u5206\u7c7b\u7684\u4efb\u52a1\u3002\u4f7f\u7528CIFAR-10\u6570\u636e\u96c6\uff0c\u901a\u8fc7Caffe\u673a\u5668\u5b66\u4e60\u6846\u67b6\u642d\u5efa\u548c\u8bad\u7ec3\u795e\u7ecf\u7f51\u7edc\u6a21\u578b\uff0c\u7136\u540e\u5c06\u6240\u5f97\u6a21\u578b\u8fdb\u884c\u8f6c\u6362\uff0c\u4f7f\u5176\u80fd\u591f\u8fd0\u884c\u5728STM32\u4e0a\u3002\u672c\u9879\u76ee\u8fd0\u884c\u5728Keil\u7684\u6a21\u62df\u5668\u4e2d\uff0c\u6240\u4ee5\u65e0\u9700\u5f00\u53d1\u677f\u5373\u53ef\u4f53\u9a8c\u673a\u5668\u5b66\u4e60\u5728STM32\u4e0a\u7684\u5e94\u7528\u6548\u679c\u3002 3.2 CIFAR-10\u6570\u636e\u96c6\u4ecb\u7ecd # CIFAR-10\u6570\u636e\u96c6\u753110\u7c7b32x32\u7684\u5f69\u8272\u56fe\u7247\u7ec4\u6210\uff0c\u4e00\u5171\u5305\u542b60000\u5f20\u56fe\u7247\uff0c\u6bcf\u4e00\u7c7b\u5305\u542b6000\u56fe\u7247\u3002\u5176\u4e2d50000\u5f20\u56fe\u7247\u4f5c\u4e3a\u8bad\u7ec3\u96c6\uff0c10000\u5f20\u56fe\u7247\u4f5c\u4e3a\u6d4b\u8bd5\u96c6\u3002 \u6709\u4e86CIFAR-10\u6570\u636e\u96c6\u6211\u4eec\u5c31\u4e0d\u7528\u81ea\u5df1\u5230\u5904\u53bb\u6536\u96c6\u7167\u7247\u4e86\uff0c\u53ef\u4ee5\u76f4\u63a5\u5f00\u59cb\u8bad\u7ec3\u6a21\u578b\uff0c\u7136\u540e\u4f7f\u7528\u6a21\u578b\u3002 CIFAR-10\u6570\u636e\u96c6\u5b98\u7f51\uff1ahttps://www.cs.toronto.edu/~kriz/cifar.html 3.3 \u9879\u76ee\u7684\u8f93\u5165 # \u4e00\u5e45\u5bbd32\u50cf\u7d20\u9ad832\u50cf\u7d20\u7684\u5f69\u8272\u56fe\u50cf\uff0c\u4e3a\u65b9\u4fbfSTM32\u5b9e\u9a8c\u64cd\u4f5c\uff0c\u4e8b\u5148\u5c06\u56fe\u50cf\u8f6c\u6362\u4e3a\u50cf\u7d20\u503c\u6570\u7ec4\uff0c\u5b58\u653e\u5728arm_nnexamples_cifar10_inputs.h\u4e2d\u3002 3.4 \u9879\u76ee\u7684\u8f93\u51fa # \u8f93\u51fa\u662f\u6d4b\u8bd5\u56fe\u50cf\u6240\u5c5e\u7684\u7c7b\u522b\u7684\u6982\u7387\uff0c\u6982\u7387\u503c\u6700\u5927\u7684\u5c31\u662f\u76ee\u6807\u56fe\u50cf\u7684\u6240\u5c5e\u7c7b\u522b\uff0c\u8f93\u51fa\u7ed3\u679c\u5982\u4e0b\u56fe\u6240\u793a\uff1a \u7ec6\u5fc3\u7684\u540c\u5b66\u53ef\u80fd\u8981\u95ee\u4e86\uff0c\u4e3a\u4ec0\u4e48\u8fd9\u91cc\u7684\u8f93\u51fa\u662f127\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a0~1\u4e4b\u95f4\u7684\u6570\uff1f \u8fd9\u4e2a\u8ddf\u6211\u4eec\u4f7f\u7528\u7684Softmax\u51fd\u6570\u6709\u5173\uff0c\u4e00\u822cSoftmax\u51fd\u6570\u7684\u516c\u5f0f\u662f\u8fd9\u6837\u7684\uff1a y_i = e^(x_i) / sum(e^x_j) \u800c\u5728STM32\u4e0a\u6211\u4eec\u91c7\u7528\u7684\u662f\u4ee52\u4e3a\u5e95Softmax\u51fd\u6570\uff0c\u6240\u4ee5\u5176\u8f93\u51fa\u4f1a\u6709\u6240\u4e0d\u540c\u3002 y_i = 2^(x_i) / sum(2^x_j) \u4f17\u6240\u5468\u77e5\uff0c\u5fae\u63a7\u5236\u5668\u7684\u8ba1\u7b97\u6027\u80fd\u6709\u9650\uff0c\u8fd9\u6837\u505a\u53ef\u4ee5\u5927\u5927\u51cf\u5c0f\u8ba1\u7b97\u91cf\uff0c\u5e76\u4e14\u4ece\u6570\u5b66\u4e0a\u6765\u8bb2\u68af\u5ea6\u662f\u4e00\u6837\u7684\uff0c\u6211\u4eec\u4f9d\u7136\u80fd\u591f\u5f88\u597d\u5730\u5206\u8fa8\u51fa\u76ee\u6807\u56fe\u50cf\u7684\u6240\u5c5e\u7c7b\u522b\u3002 3.5 \u4f7f\u7528\u8bf4\u660e\uff1a # \u7f16\u8bd1 -> Debug\u8c03\u8bd5\u8fd0\u884c -> \u6253\u5f00Debug (printf) Viewer (View->Serial Windows->Debug (printf) Viewer) 4. \u4f7f\u7528\u6765\u81ea\u7269\u8054\u7f51\u7684\u56fe\u7247\u8fdb\u884c\u6d4b\u8bd5 # \u9996\u5148\u5728\u4e92\u8054\u7f51\u4e0b\u8f7d\u56fe\u7247\uff0c\u7136\u540e\u4f7f\u7528\u811a\u672c\u5bf9\u56fe\u7247\u5c3a\u5bf8\u8c03\u6574\u4e3a32x32\uff0c\u7136\u540e\u518d\u5c0632x32\u56fe\u7247\u8f6c\u6362\u6210\u4e00\u7ef4\u6570\u7ec4\u4f9bSTM32\u4f7f\u7528\u3002\u5927\u6982\u8fc7\u7a0b\u5982\u4e0b\u6240\u793a\uff1a \u56fe\u7247\u5904\u7406\u7684\u811a\u672c\u53ef\u5728\u672c\u9879\u76eeGithub\u4ed3\u5e93\u83b7\u53d6\uff0c\u9879\u76ee\u5730\u5740\uff1ahttps://github.com/edgeML/cifar10_image_classifier_on_stm32 5. \u76f8\u5173\u94fe\u63a5 # https://mp.weixin.qq.com/s/KUaZlZa6GuHJkKwhGmzczw https://github.com/BVLC/caffe https://github.com/ARM-software/ML-examples/tree/master/cmsisnn-cifar10 https://github.com/ARM-software/CMSIS_5/tree/develop/CMSIS/NN/Examples/ARM/arm_nn_examples/cifar10 \u9879\u76ee\u5730\u5740\uff1ahttps://github.com/EdgeAI-Lab/cifar10_image_classifier_on_stm32","title":"00\uff1aSTM32\u56fe\u50cf\u5206\u7c7b"},{"location":"ML/how_to_run_dl_model_on_stm32/#stm32","text":"","title":"STM32\u56fe\u50cf\u5206\u7c7b"},{"location":"ML/how_to_run_dl_model_on_stm32/#1","text":"\u5d4c\u5165\u5f0f\u673a\u5668\u5b66\u4e60(EmbeddedML)\u662f\u4e00\u4e2a\u5f88\u5927\u7684\u8bdd\u9898\uff0c\u6d89\u53ca\u5230\u7684\u6280\u672f\u5f88\u591a\uff1a \u5d4c\u5165\u5f0f\u8f6f\u786c\u4ef6\u6280\u672f\uff1aARM\u3001C/C++\u3001Linux\u3001Android\u7b49 \u56fe\u50cf\u5904\u7406\uff1a\u6570\u5b57\u56fe\u50cf\u7406\u8bba\u3001OpenCV\u7b49 \u673a\u5668\u5b66\u4e60\u7406\u8bba\uff1a\u9ad8\u6570\u3001\u7ebf\u4ee3\u3001CNN\u3001\u6fc0\u6d3b\u51fd\u6570\u3001\u635f\u5931\u51fd\u6570\u3001\u68af\u5ea6\u4e0b\u964d\u7b49 \u673a\u5668\u5b66\u4e60\u6846\u67b6\uff1aTensorFlow\u3001Caffe\u7b49 Python \u4e0d\u662f\u4e00\u4e24\u7bc7\u6587\u7ae0\u5c31\u80fd\u8868\u8ff0\u6e05\u695a\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u51b3\u5b9a\u505a\u4e00\u4e2a\u5d4c\u5165\u5f0f\u673a\u5668\u5b66\u4e60(EmbeddedML)\u4e13\u680f\uff0c\u901a\u8fc7\u4e00\u7cfb\u5217\u7684\u6587\u7ae0\u548c\u89c6\u9891\uff0c\u5e26\u4f60\u8d70\u8fdb\u8fd9\u4e2a\u65b0\u5947\u7684\u4e16\u754c\uff01 \u4eb2\u81ea\u52a8\u624b\u5c1d\u8bd5\uff0c\u662f\u4e86\u89e3\u4e00\u4e2a\u65b0\u4e8b\u7269\u6700\u597d\u7684\u65b9\u5f0f\u3002\u6211\u4eec\u4e3a\u4f60\u51c6\u5907\u4e86\u4e00\u4e2a\u5b9e\u9645\u53ef\u8fd0\u884c\u7684\u9879\u76ee\uff0c\u4e0d\u9700\u8981\u5f00\u53d1\u677f\uff0c\u53ea\u8981\u4f60\u6709\u4e00\u53f0\u7535\u8111\u5c31\u80fd\u8fd0\u884c\u3002\u4e0b\u9762\u5f00\u59cb\uff01","title":"1.\u524d\u8a00"},{"location":"ML/how_to_run_dl_model_on_stm32/#2","text":"\u673a\u5668\u5b66\u4e60\u53ef\u4ee5\u8ba4\u4e3a\u662f\u4e00\u79cd\u65b0\u7684\u7f16\u7a0b\u65b9\u5f0f\uff0c\u4e00\u79cd\u8ba9\u673a\u5668\u80fd\u591f\u5177\u6709\u5b66\u4e60\u80fd\u529b\u7684\u7f16\u7a0b\u65b9\u5f0f\u3002 \u6211\u4eec\u6765\u770b\u770b\u4f20\u7edf\u7684\u7f16\u7a0b\u65b9\u5f0f\u4e0e\u673a\u5668\u5b66\u4e60\u8fd9\u79cd\u7f16\u7a0b\u65b9\u5f0f\u6709\u4f55\u4e0d\u540c\uff1a \u4f20\u7edf\u7684\u7f16\u7a0b\u65b9\u5f0f\u662f\uff1a\u4f7f\u7528\u89c4\u5219\uff08\u7531\u7a0b\u5e8f\u8981\u7f16\u5199\uff09\u548c\u6570\u636e\u751f\u6210\u7ed3\u679c\u3002 \u673a\u5668\u5b66\u4e60\uff1a\u4e0e\u4f20\u7edf\u7684\u7f16\u7a0b\u65b9\u5f0f\u76f8\u53cd\uff0c\u6211\u4eec\u8f93\u5165\u7684\u662f\u7ed3\u679c\u548c\u6570\u636e\uff0c\u5f97\u5230\u7684\u662f\u89c4\u5219\uff0c\u8fd9\u4e2a\u89c4\u5219\u662f\u901a\u8fc7\u673a\u5668\u5b66\u4e60\u6280\u672f\u5f97\u5230\u7684\uff0c\u800c\u4e0d\u662f\u7531\u7a0b\u5e8f\u5458\u7f16\u5199\u7684\u3002","title":"2.\u673a\u5668\u5b66\u4e60\u6280\u672f\u7b80\u4ecb"},{"location":"ML/how_to_run_dl_model_on_stm32/#21","text":"\u5728\u67d0\u4e9b\u5e94\u7528\u573a\u666f\u4e2d\uff0c\u4f7f\u7528\u673a\u5668\u5b66\u4e60\u6280\u672f\u7684\u597d\u5904\u662f\u663e\u800c\u6613\u89c1\u7684\u3002\u5bf9\u4e8e\u8ba1\u7b97\u673a\u6765\u8bf4\uff0c\u5b9e\u9645\u751f\u6d3b\u4e2d\u7684\u5f88\u591a\u5e94\u7528\u573a\u666f\u90fd\u975e\u5e38\u7684\u590d\u6742\uff0c\u6bd4\u5982\u5206\u8fa8\u732b\u548c\u72d7\uff0c\u5927\u591a\u6570\u65f6\u5019\uff0c\u6211\u4eec\u65e0\u6cd5\u4e8b\u5148\u7f16\u5199\u4e00\u5957\u89c4\u5219\u8ba9\u8ba1\u7b97\u673a\u5206\u8fa8\u51fa\u54ea\u4e2a\u662f\u732b\u54ea\u4e2a\u662f\u72d7\uff0c\u6b64\u65f6\u673a\u5668\u5b66\u4e60\u6280\u672f\u7684\u4f18\u8d8a\u6027\u5c31\u663e\u73b0\u51fa\u6765\u4e86\uff0c\u6211\u4eec\u4f7f\u7528\u5927\u91cf\u5df2\u6807\u8bb0\u7684\u732b\u72d7\u56fe\u7247\uff0c\u53bb\u8bad\u7ec3\u6df1\u5ea6\u7f51\u7edc\uff0c\u5f97\u5230\u4e00\u4e2a\u8bc6\u522b\u732b\u72d7\u7684\u89c4\u5219\uff0c\u8ba1\u7b97\u673a\u5229\u7528\u8fd9\u4e2a\u89c4\u5219\u5c31\u80fd\u8bc6\u522b\u732b\u548c\u72d7\u4e86\u3002","title":"2.1 \u4e3a\u4ec0\u4e48\u8981\u4f7f\u7528\u673a\u5668\u5b66\u4e60\u6280\u672f\u5462\uff1f"},{"location":"ML/how_to_run_dl_model_on_stm32/#22","text":"\u673a\u5668\u5b66\u4e60\u5e94\u7528\u4e00\u822c\u5206\u4e3a\u4e24\u4e2a\u8fc7\u7a0b\uff1a \u4e00\u662f\u6a21\u578b\u7684\u8bad\u7ec3\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u9700\u8981\u5927\u91cf\u7684\u6570\u636e\u548c\u8ba1\u7b97\u91cf\uff0c\u4e00\u822c\u5728\u8ba1\u7b97\u80fd\u529b\u5f88\u5f3a\u7684\u8ba1\u7b97\u673a\u4e0a\u8fdb\u884c \u4e8c\u662f\u4f7f\u7528\u8bad\u7ec3\u6240\u5f97\u7684\u6a21\u578b\u5bf9\u8f93\u5165\u8fdb\u884c\u9884\u6d4b\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u8ba1\u7b97\u91cf\u76f8\u5bf9\u5c31\u4f1a\u5c0f\u5f88\u591a\uff0c\u53ef\u4ee5\u5728\u624b\u673a\u4e0a\uff0c\u751a\u81f3\u662f\u5728MCU\u4e0a\u8fdb\u884c","title":"2.2 \u673a\u5668\u5b66\u4e60\u7684\u8fc7\u7a0b"},{"location":"ML/how_to_run_dl_model_on_stm32/#3-stm32","text":"\u8fd9\u91cc\u4ec5\u4ecb\u7ecd\u5982\u4f55\u5728STM32\u4e0a\u8fd0\u884c\u673a\u5668\u5b66\u4e60\u6a21\u578b\uff0c\u4ece\u800c\u5bf9\u8f93\u5165\u56fe\u50cf\u7684\u7c7b\u522b\u8fdb\u884c\u9884\u6d4b\u3002\u81f3\u4e8e\u6a21\u578b\u7684\u7f51\u7edc\u642d\u5efa\u3001\u8bad\u7ec3\u548c\u8f6c\u6362\u5c06\u5728\u540e\u7eed\u6587\u7ae0\u4e2d\u4ecb\u7ecd\u3002 \u9879\u76ee\u5730\u5740\uff1ahttps://github.com/edgeML/cifar10_image_classifier_on_stm32","title":"3. \u5728STM32\u4e0a\u8fdb\u884c\u56fe\u50cf\u5206\u7c7b\u8bd5\u9a8c"},{"location":"ML/how_to_run_dl_model_on_stm32/#31","text":"\u672c\u9879\u76ee\u5b9e\u73b0\u4e86\u5728STM32\u4e0a\u8fdb\u884c\u56fe\u50cf\u5206\u7c7b\u7684\u4efb\u52a1\u3002\u4f7f\u7528CIFAR-10\u6570\u636e\u96c6\uff0c\u901a\u8fc7Caffe\u673a\u5668\u5b66\u4e60\u6846\u67b6\u642d\u5efa\u548c\u8bad\u7ec3\u795e\u7ecf\u7f51\u7edc\u6a21\u578b\uff0c\u7136\u540e\u5c06\u6240\u5f97\u6a21\u578b\u8fdb\u884c\u8f6c\u6362\uff0c\u4f7f\u5176\u80fd\u591f\u8fd0\u884c\u5728STM32\u4e0a\u3002\u672c\u9879\u76ee\u8fd0\u884c\u5728Keil\u7684\u6a21\u62df\u5668\u4e2d\uff0c\u6240\u4ee5\u65e0\u9700\u5f00\u53d1\u677f\u5373\u53ef\u4f53\u9a8c\u673a\u5668\u5b66\u4e60\u5728STM32\u4e0a\u7684\u5e94\u7528\u6548\u679c\u3002","title":"3.1 \u9879\u76ee\u7b80\u4ecb"},{"location":"ML/how_to_run_dl_model_on_stm32/#32-cifar-10","text":"CIFAR-10\u6570\u636e\u96c6\u753110\u7c7b32x32\u7684\u5f69\u8272\u56fe\u7247\u7ec4\u6210\uff0c\u4e00\u5171\u5305\u542b60000\u5f20\u56fe\u7247\uff0c\u6bcf\u4e00\u7c7b\u5305\u542b6000\u56fe\u7247\u3002\u5176\u4e2d50000\u5f20\u56fe\u7247\u4f5c\u4e3a\u8bad\u7ec3\u96c6\uff0c10000\u5f20\u56fe\u7247\u4f5c\u4e3a\u6d4b\u8bd5\u96c6\u3002 \u6709\u4e86CIFAR-10\u6570\u636e\u96c6\u6211\u4eec\u5c31\u4e0d\u7528\u81ea\u5df1\u5230\u5904\u53bb\u6536\u96c6\u7167\u7247\u4e86\uff0c\u53ef\u4ee5\u76f4\u63a5\u5f00\u59cb\u8bad\u7ec3\u6a21\u578b\uff0c\u7136\u540e\u4f7f\u7528\u6a21\u578b\u3002 CIFAR-10\u6570\u636e\u96c6\u5b98\u7f51\uff1ahttps://www.cs.toronto.edu/~kriz/cifar.html","title":"3.2 CIFAR-10\u6570\u636e\u96c6\u4ecb\u7ecd"},{"location":"ML/how_to_run_dl_model_on_stm32/#33","text":"\u4e00\u5e45\u5bbd32\u50cf\u7d20\u9ad832\u50cf\u7d20\u7684\u5f69\u8272\u56fe\u50cf\uff0c\u4e3a\u65b9\u4fbfSTM32\u5b9e\u9a8c\u64cd\u4f5c\uff0c\u4e8b\u5148\u5c06\u56fe\u50cf\u8f6c\u6362\u4e3a\u50cf\u7d20\u503c\u6570\u7ec4\uff0c\u5b58\u653e\u5728arm_nnexamples_cifar10_inputs.h\u4e2d\u3002","title":"3.3 \u9879\u76ee\u7684\u8f93\u5165"},{"location":"ML/how_to_run_dl_model_on_stm32/#34","text":"\u8f93\u51fa\u662f\u6d4b\u8bd5\u56fe\u50cf\u6240\u5c5e\u7684\u7c7b\u522b\u7684\u6982\u7387\uff0c\u6982\u7387\u503c\u6700\u5927\u7684\u5c31\u662f\u76ee\u6807\u56fe\u50cf\u7684\u6240\u5c5e\u7c7b\u522b\uff0c\u8f93\u51fa\u7ed3\u679c\u5982\u4e0b\u56fe\u6240\u793a\uff1a \u7ec6\u5fc3\u7684\u540c\u5b66\u53ef\u80fd\u8981\u95ee\u4e86\uff0c\u4e3a\u4ec0\u4e48\u8fd9\u91cc\u7684\u8f93\u51fa\u662f127\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a0~1\u4e4b\u95f4\u7684\u6570\uff1f \u8fd9\u4e2a\u8ddf\u6211\u4eec\u4f7f\u7528\u7684Softmax\u51fd\u6570\u6709\u5173\uff0c\u4e00\u822cSoftmax\u51fd\u6570\u7684\u516c\u5f0f\u662f\u8fd9\u6837\u7684\uff1a y_i = e^(x_i) / sum(e^x_j) \u800c\u5728STM32\u4e0a\u6211\u4eec\u91c7\u7528\u7684\u662f\u4ee52\u4e3a\u5e95Softmax\u51fd\u6570\uff0c\u6240\u4ee5\u5176\u8f93\u51fa\u4f1a\u6709\u6240\u4e0d\u540c\u3002 y_i = 2^(x_i) / sum(2^x_j) \u4f17\u6240\u5468\u77e5\uff0c\u5fae\u63a7\u5236\u5668\u7684\u8ba1\u7b97\u6027\u80fd\u6709\u9650\uff0c\u8fd9\u6837\u505a\u53ef\u4ee5\u5927\u5927\u51cf\u5c0f\u8ba1\u7b97\u91cf\uff0c\u5e76\u4e14\u4ece\u6570\u5b66\u4e0a\u6765\u8bb2\u68af\u5ea6\u662f\u4e00\u6837\u7684\uff0c\u6211\u4eec\u4f9d\u7136\u80fd\u591f\u5f88\u597d\u5730\u5206\u8fa8\u51fa\u76ee\u6807\u56fe\u50cf\u7684\u6240\u5c5e\u7c7b\u522b\u3002","title":"3.4 \u9879\u76ee\u7684\u8f93\u51fa"},{"location":"ML/how_to_run_dl_model_on_stm32/#35","text":"\u7f16\u8bd1 -> Debug\u8c03\u8bd5\u8fd0\u884c -> \u6253\u5f00Debug (printf) Viewer (View->Serial Windows->Debug (printf) Viewer)","title":"3.5 \u4f7f\u7528\u8bf4\u660e\uff1a"},{"location":"ML/how_to_run_dl_model_on_stm32/#4","text":"\u9996\u5148\u5728\u4e92\u8054\u7f51\u4e0b\u8f7d\u56fe\u7247\uff0c\u7136\u540e\u4f7f\u7528\u811a\u672c\u5bf9\u56fe\u7247\u5c3a\u5bf8\u8c03\u6574\u4e3a32x32\uff0c\u7136\u540e\u518d\u5c0632x32\u56fe\u7247\u8f6c\u6362\u6210\u4e00\u7ef4\u6570\u7ec4\u4f9bSTM32\u4f7f\u7528\u3002\u5927\u6982\u8fc7\u7a0b\u5982\u4e0b\u6240\u793a\uff1a \u56fe\u7247\u5904\u7406\u7684\u811a\u672c\u53ef\u5728\u672c\u9879\u76eeGithub\u4ed3\u5e93\u83b7\u53d6\uff0c\u9879\u76ee\u5730\u5740\uff1ahttps://github.com/edgeML/cifar10_image_classifier_on_stm32","title":"4. \u4f7f\u7528\u6765\u81ea\u7269\u8054\u7f51\u7684\u56fe\u7247\u8fdb\u884c\u6d4b\u8bd5"},{"location":"ML/how_to_run_dl_model_on_stm32/#5","text":"https://mp.weixin.qq.com/s/KUaZlZa6GuHJkKwhGmzczw https://github.com/BVLC/caffe https://github.com/ARM-software/ML-examples/tree/master/cmsisnn-cifar10 https://github.com/ARM-software/CMSIS_5/tree/develop/CMSIS/NN/Examples/ARM/arm_nn_examples/cifar10 \u9879\u76ee\u5730\u5740\uff1ahttps://github.com/EdgeAI-Lab/cifar10_image_classifier_on_stm32","title":"5. \u76f8\u5173\u94fe\u63a5"},{"location":"ML/image_calssifer_on_mcu/","text":"ML On MCU # 1.\u4ece\u6e90\u7801\u5b89\u88c5Caffe # 2.\u6a21\u578b\u91cf\u5316 # 2.1 \u83b7\u53d6CIFAR-10\u6570\u636e\u96c6 # Caffe CIFAR-10\u8bf4\u660e cd $CAFFE_ROOT # \u4e0b\u8f7dCIFAR-10\u6570\u636e\u96c6 ./data/cifar10/get_cifar10.sh # \u521b\u5efa\u8bad\u7ec3\u3001\u6d4b\u8bd5\u6570\u636e\u96c6 ./examples/cifar10/create_cifar10.sh \u6210\u529f\u83b7\u53d6CIFAR-10\u6570\u636e\u96c6\u540e\u5728/path/to/caffe/examples/cifar10\u76ee\u5f55\u4e0b\u5c06\u4f1a\u65b0\u589e\u4e09\u4e2a\u6587\u4ef6\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a 2.2 \u4f7f\u7528ARM\u5b98\u65b9\u63d0\u4f9b\u7684\u811a\u672c\u5bf9\u6a21\u578b\u8fdb\u884c\u91cf\u5316 # ARM\u5b98\u65b9\u63d0\u4f9b\u7684\u91cf\u5316\u811a\u672c \u4fee\u6539\u811a\u672c \u4fee\u6539cifar10_m7_train_test.prototxt\u4e2d\u8bad\u7ec3\u3001\u6d4b\u8bd5\u96c6\u7684\u8def\u5f84\uff1a \u5c06mean_file\u548csource\u7684\u8def\u5f84\u8fdb\u884c\u4fee\u6539 layer { name: \"data\" type: \"Data\" top: \"data\" top: \"label\" include { phase: TRAIN } transform_param { mean_file: \"/home/ubuntu/caffe/examples/cifar10/mean.binaryproto\" } data_param { source: \"/home/ubuntu/caffe/examples/cifar10/cifar10_train_lmdb\" batch_size: 100 backend: LMDB } } layer { name: \"data\" type: \"Data\" top: \"data\" top: \"label\" include { phase: TEST } transform_param { mean_file: \"/home/ubuntu/caffe/examples/cifar10/mean.binaryproto\" } data_param { source: \"/home/ubuntu/caffe/examples/cifar10/cifar10_test_lmdb\" batch_size: 100 backend: LMDB } } \u91cf\u5316\u6a21\u578b cd /path/to/cmsisnn-cifar10 python nn_quantizer.py --model models/cifar10_m7_train_test.prototxt --weights models/cifar10_m7_iter_300000.caffemodel.h5 --save models/cifar10_m7.pkl \u751f\u6210C\u4ee3\u7801 cd /path/to/cmsisnn-cifar10 python code_gen.py --model models/cifar10_m7.pkl --out_dir code/m7","title":"ML On MCU"},{"location":"ML/image_calssifer_on_mcu/#ml-on-mcu","text":"","title":"ML On MCU"},{"location":"ML/image_calssifer_on_mcu/#1caffe","text":"","title":"1.\u4ece\u6e90\u7801\u5b89\u88c5Caffe"},{"location":"ML/image_calssifer_on_mcu/#2","text":"","title":"2.\u6a21\u578b\u91cf\u5316"},{"location":"ML/image_calssifer_on_mcu/#21-cifar-10","text":"Caffe CIFAR-10\u8bf4\u660e cd $CAFFE_ROOT # \u4e0b\u8f7dCIFAR-10\u6570\u636e\u96c6 ./data/cifar10/get_cifar10.sh # \u521b\u5efa\u8bad\u7ec3\u3001\u6d4b\u8bd5\u6570\u636e\u96c6 ./examples/cifar10/create_cifar10.sh \u6210\u529f\u83b7\u53d6CIFAR-10\u6570\u636e\u96c6\u540e\u5728/path/to/caffe/examples/cifar10\u76ee\u5f55\u4e0b\u5c06\u4f1a\u65b0\u589e\u4e09\u4e2a\u6587\u4ef6\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a","title":"2.1 \u83b7\u53d6CIFAR-10\u6570\u636e\u96c6"},{"location":"ML/image_calssifer_on_mcu/#22-arm","text":"ARM\u5b98\u65b9\u63d0\u4f9b\u7684\u91cf\u5316\u811a\u672c \u4fee\u6539\u811a\u672c \u4fee\u6539cifar10_m7_train_test.prototxt\u4e2d\u8bad\u7ec3\u3001\u6d4b\u8bd5\u96c6\u7684\u8def\u5f84\uff1a \u5c06mean_file\u548csource\u7684\u8def\u5f84\u8fdb\u884c\u4fee\u6539 layer { name: \"data\" type: \"Data\" top: \"data\" top: \"label\" include { phase: TRAIN } transform_param { mean_file: \"/home/ubuntu/caffe/examples/cifar10/mean.binaryproto\" } data_param { source: \"/home/ubuntu/caffe/examples/cifar10/cifar10_train_lmdb\" batch_size: 100 backend: LMDB } } layer { name: \"data\" type: \"Data\" top: \"data\" top: \"label\" include { phase: TEST } transform_param { mean_file: \"/home/ubuntu/caffe/examples/cifar10/mean.binaryproto\" } data_param { source: \"/home/ubuntu/caffe/examples/cifar10/cifar10_test_lmdb\" batch_size: 100 backend: LMDB } } \u91cf\u5316\u6a21\u578b cd /path/to/cmsisnn-cifar10 python nn_quantizer.py --model models/cifar10_m7_train_test.prototxt --weights models/cifar10_m7_iter_300000.caffemodel.h5 --save models/cifar10_m7.pkl \u751f\u6210C\u4ee3\u7801 cd /path/to/cmsisnn-cifar10 python code_gen.py --model models/cifar10_m7.pkl --out_dir code/m7","title":"2.2 \u4f7f\u7528ARM\u5b98\u65b9\u63d0\u4f9b\u7684\u811a\u672c\u5bf9\u6a21\u578b\u8fdb\u884c\u91cf\u5316"},{"location":"ML/ml_basics/","text":"\u673a\u5668\u5b66\u4e60\u57fa\u7840 # \u4e13\u4e1a\u540d\u8bcd \u542b\u4e49 \u5176\u4ed6 \u6fc0\u6d3b\u51fd\u6570 \u5c06\u503c\u9650\u5b9a\u57280\u548c1\u4e4b\u95f4 eg: sigmoid\u51fd\u6570","title":"\u673a\u5668\u5b66\u4e60\u57fa\u7840"},{"location":"ML/ml_basics/#_1","text":"\u4e13\u4e1a\u540d\u8bcd \u542b\u4e49 \u5176\u4ed6 \u6fc0\u6d3b\u51fd\u6570 \u5c06\u503c\u9650\u5b9a\u57280\u548c1\u4e4b\u95f4 eg: sigmoid\u51fd\u6570","title":"\u673a\u5668\u5b66\u4e60\u57fa\u7840"},{"location":"ML/tensorflow_install/","text":"TensorFlow \u5b89\u88c5 # 1. \u5b89\u88c5 # \u5b89\u88c5\u6307\u4ee4 # Requires the latest pip pip install --upgrade pip # Current stable release for CPU-only pip install tensorflow # Or preview build for CPU/GPU (unstable) pip install tf-nightly \u5b89\u88c5\u540e\u67e5\u770b\u7248\u672c import tensorflow as tf print(tf.__version__) 2. \u53ef\u80fd\u4f1a\u9047\u5230\u7684\u95ee\u9898 # pip\u5347\u7ea7\u540e\u4f7f\u7528\u62a5\u9519 # Error: from pip import main ImportError: cannot import name main # solved hash -d pip pip\u5b89\u88c5\u65e0\u6743\u9650 # ERROR: Could not install packages due to an EnvironmentError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/dist-packages/rsa' # solved pip install --user tensorflow # or sudo pip install tensorflow sudo pip\u62a5\u9519 # Error: from pip import main ImportError: cannot import name main # solved: 1. \u67e5\u770bpip\u6240\u5728\u4f4d\u7f6e whereis pip 2. \u8bf7\u5206\u522b\u6d4b\u8bd5\u627e\u5230\u7684pip\u6587\u4ef6 pip -V 3. sudo pip\u4e00\u822c\u4f7f\u7528\u7684\u662f/usr/bin\u7b49\u7cfb\u7edf\u76ee\u5f55\u4e0b\u7684pip 4. \u5c06\u6d4b\u8bd5\u6b63\u786e\u7684pip\u590d\u5236\u5230\u7cfb\u7edf\u76ee\u5f55\uff0c\u6bd4\u5982/usr/bin \u5b89\u88c5\u540e\u67e5\u770bTensorflow\u4e0d\u662f\u6700\u65b0\u7248\u672c pip install --upgrade tensorflow","title":"Tensorflow\u5b89\u88c5"},{"location":"ML/tensorflow_install/#tensorflow","text":"","title":"TensorFlow \u5b89\u88c5"},{"location":"ML/tensorflow_install/#1","text":"\u5b89\u88c5\u6307\u4ee4 # Requires the latest pip pip install --upgrade pip # Current stable release for CPU-only pip install tensorflow # Or preview build for CPU/GPU (unstable) pip install tf-nightly \u5b89\u88c5\u540e\u67e5\u770b\u7248\u672c import tensorflow as tf print(tf.__version__)","title":"1. \u5b89\u88c5"},{"location":"ML/tensorflow_install/#2","text":"pip\u5347\u7ea7\u540e\u4f7f\u7528\u62a5\u9519 # Error: from pip import main ImportError: cannot import name main # solved hash -d pip pip\u5b89\u88c5\u65e0\u6743\u9650 # ERROR: Could not install packages due to an EnvironmentError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/dist-packages/rsa' # solved pip install --user tensorflow # or sudo pip install tensorflow sudo pip\u62a5\u9519 # Error: from pip import main ImportError: cannot import name main # solved: 1. \u67e5\u770bpip\u6240\u5728\u4f4d\u7f6e whereis pip 2. \u8bf7\u5206\u522b\u6d4b\u8bd5\u627e\u5230\u7684pip\u6587\u4ef6 pip -V 3. sudo pip\u4e00\u822c\u4f7f\u7528\u7684\u662f/usr/bin\u7b49\u7cfb\u7edf\u76ee\u5f55\u4e0b\u7684pip 4. \u5c06\u6d4b\u8bd5\u6b63\u786e\u7684pip\u590d\u5236\u5230\u7cfb\u7edf\u76ee\u5f55\uff0c\u6bd4\u5982/usr/bin \u5b89\u88c5\u540e\u67e5\u770bTensorflow\u4e0d\u662f\u6700\u65b0\u7248\u672c pip install --upgrade tensorflow","title":"2. \u53ef\u80fd\u4f1a\u9047\u5230\u7684\u95ee\u9898"},{"location":"ML/tensorflow_model/","text":"Tensorflow # 1.\u6a21\u578b\u4fdd\u5b58 # \u6a21\u578b\u67093\u4e2d\u4fdd\u5b58\u683c\u5f0f # SavedModel directories tf.keras models concrete functions\uff08\u8fd8\u6ca1\u641e\u61c2\uff09 SavedModel directories # # \u5c06\u6a21\u578b\u4fdd\u5b58\u5230./saved\u6587\u4ef6\u5939\u4e0b tf.saved_model.save(model,'saved') tf.keras models # # \u5c06\u6a21\u578b\u4fdd\u5b58\u4e3a./model.h5\u6587\u4ef6 model.save('model.h5') 2.\u6a21\u578b\u8f6c\u6362 # SavedModel directories # # \u6ce8\u610f\uff1a\u5fc5\u987b\u4f7f\u7528TensorFlow2.0 converter = tf.lite.TFLiteConverter.from_saved_model('saved') converter.optimizations = [tf.lite.Optimize.DEFAULT] tflite_quant_model = converter.convert() open(\"sine_savedmodel_quantized.tflite\", \"wb\").write(tflite_quant_model) tf.keras models #","title":"Tensorflow\u6a21\u578b\u8f6c\u6362"},{"location":"ML/tensorflow_model/#tensorflow","text":"","title":"Tensorflow"},{"location":"ML/tensorflow_model/#1","text":"","title":"1.\u6a21\u578b\u4fdd\u5b58"},{"location":"ML/tensorflow_model/#3","text":"SavedModel directories tf.keras models concrete functions\uff08\u8fd8\u6ca1\u641e\u61c2\uff09","title":"\u6a21\u578b\u67093\u4e2d\u4fdd\u5b58\u683c\u5f0f"},{"location":"ML/tensorflow_model/#savedmodel-directories","text":"# \u5c06\u6a21\u578b\u4fdd\u5b58\u5230./saved\u6587\u4ef6\u5939\u4e0b tf.saved_model.save(model,'saved')","title":"SavedModel directories"},{"location":"ML/tensorflow_model/#tfkeras-models","text":"# \u5c06\u6a21\u578b\u4fdd\u5b58\u4e3a./model.h5\u6587\u4ef6 model.save('model.h5')","title":"tf.keras models"},{"location":"ML/tensorflow_model/#2","text":"","title":"2.\u6a21\u578b\u8f6c\u6362"},{"location":"ML/tensorflow_model/#savedmodel-directories_1","text":"# \u6ce8\u610f\uff1a\u5fc5\u987b\u4f7f\u7528TensorFlow2.0 converter = tf.lite.TFLiteConverter.from_saved_model('saved') converter.optimizations = [tf.lite.Optimize.DEFAULT] tflite_quant_model = converter.convert() open(\"sine_savedmodel_quantized.tflite\", \"wb\").write(tflite_quant_model)","title":"SavedModel directories"},{"location":"ML/tensorflow_model/#tfkeras-models_1","text":"","title":"tf.keras models"},{"location":"Multimedia/Multimedia/","text":"","title":"Multimedia"},{"location":"Multimedia/Ogg/","text":"Ogg\u7b80\u4ecb # Ogg \u662f\u4e00\u79cd\u5c01\u88c5\u683c\u5f0f\uff0cOPUS\u7f16\u7801\u4e00\u822c\u91c7\u7528Ogg\u5c01\u88c5","title":"Ogg"},{"location":"Multimedia/Ogg/#ogg","text":"Ogg \u662f\u4e00\u79cd\u5c01\u88c5\u683c\u5f0f\uff0cOPUS\u7f16\u7801\u4e00\u822c\u91c7\u7528Ogg\u5c01\u88c5","title":"Ogg\u7b80\u4ecb"},{"location":"Multimedia/aac/","text":"AAC\u57fa\u7840\u77e5\u8bc6 # \u53c2\u8003\u94fe\u63a51 \u53c2\u8003\u94fe\u63a52 \u53c2\u8003\u94fe\u63a53 \u53c2\u8003\u94fe\u63a54 \u5bf9\u4e8eAAC\u6765\u8bf4\uff0c\"csd-0\"\u5bf9\u5e94ADTS 5 bits: object type if (object type == 31) 6 bits + 32: object type 4 bits: frequency index if (frequency index == 15) 24 bits: frequency 4 bits: channel configuration var bits: AOT Specific Config ```` ## Audio Object Types MPEG-4 Audio Object Types: 0: Null 1: AAC Main 2: AAC LC (Low Complexity) 3: AAC SSR (Scalable Sample Rate) 4: AAC LTP (Long Term Prediction) 5: SBR (Spectral Band Replication) 6: AAC Scalable 7: TwinVQ 8: CELP (Code Excited Linear Prediction) 9: HXVC (Harmonic Vector eXcitation Coding) 10: Reserved 11: Reserved 12: TTSI (Text-To-Speech Interface) 13: Main Synthesis 14: Wavetable Synthesis 15: General MIDI 16: Algorithmic Synthesis and Audio Effects 17: ER (Error Resilient) AAC LC 18: Reserved 19: ER AAC LTP 20: ER AAC Scalable 21: ER TwinVQ 22: ER BSAC (Bit-Sliced Arithmetic Coding) 23: ER AAC LD (Low Delay) 24: ER CELP 25: ER HVXC 26: ER HILN (Harmonic and Individual Lines plus Noise) 27: ER Parametric 28: SSC (SinuSoidal Coding) 29: PS (Parametric Stereo) 30: MPEG Surround 31: (Escape value) 32: Layer-1 33: Layer-2 34: Layer-3 35: DST (Direct Stream Transfer) 36: ALS (Audio Lossless) 37: SLS (Scalable LosslesS) 38: SLS non-core 39: ER AAC ELD (Enhanced Low Delay) 40: SMR (Symbolic Music Representation) Simple 41: SMR Main 42: USAC (Unified Speech and Audio Coding) (no SBR) 43: SAOC (Spatial Audio Object Coding) 44: LD MPEG Surround 45: USAC ## Sampling Frequencies There are 13 supported frequencies: 0: 96000 Hz 1: 88200 Hz 2: 64000 Hz 3: 48000 Hz 4: 44100 Hz 5: 32000 Hz 6: 24000 Hz 7: 22050 Hz 8: 16000 Hz 9: 12000 Hz 10: 11025 Hz 11: 8000 Hz 12: 7350 Hz 13: Reserved 14: Reserved 15: frequency is written explictly ## Channel Configurations These are the channel configurations: 0: Defined in AOT Specifc Config 1: 1 channel: front-center 2: 2 channels: front-left, front-right 3: 3 channels: front-center, front-left, front-right 4: 4 channels: front-center, front-left, front-right, back-center 5: 5 channels: front-center, front-left, front-right,back-left, back-right 6: 6 channels: front-center, front-left, front-right, back-left, back-right, LFE-channel 7: 8 channels: front-center, front-left, front-right, side-left, side-right, back-left, back-right, LFE-channel 8-15: Reserved ## \u8ba1\u7b97CDS0 csd[0]\u9ad8\u4e94\u4f4d\u662fprofile csd[0]\u4f4e\u4e09\u4f4d | csd[1]\u6700\u9ad8\u4f4d \u662f\u91c7\u6837\u7387\u7d22\u5f15 ```c int profile = (csd_data[0] >> 3) & 0x1F; int frequency_idx = ((csd_data[0] & 0x7) << 1) | ((csd_data[1] >> 7) & 0x1); int channels = (csd_data[1] >> 3) & 0xF; int profile = 2; //AAC LC int freqIdx = 11; //8.0KHz int chanCfg = 1; //CPE \u58f0\u9053\u6570 0001 0101 1000 0001 0001 0001 0101 1001 0000 0x15 0x90 0001 0101 1000 1000 0x15 0x88 int profile = 2; //AAC LC int freqIdx = 8; //16.0KHz 0001 0100 0000 1000 14 08 5 bits: object type AAC_LC 2 0 0010 4 bits: frequency index 48k 3 0011 4 bits: channel configuration CH 2 0010 \u518d\u8865\u4e09\u4f4d 000 48K 2ch 0001 0001 1001 0000 0x11 0x90 16K 1ch 0000 1100 0000 1000 0x0c 0x08","title":"AAC\u7f16\u7801"},{"location":"Multimedia/aac/#aac","text":"\u53c2\u8003\u94fe\u63a51 \u53c2\u8003\u94fe\u63a52 \u53c2\u8003\u94fe\u63a53 \u53c2\u8003\u94fe\u63a54 \u5bf9\u4e8eAAC\u6765\u8bf4\uff0c\"csd-0\"\u5bf9\u5e94ADTS 5 bits: object type if (object type == 31) 6 bits + 32: object type 4 bits: frequency index if (frequency index == 15) 24 bits: frequency 4 bits: channel configuration var bits: AOT Specific Config ```` ## Audio Object Types MPEG-4 Audio Object Types: 0: Null 1: AAC Main 2: AAC LC (Low Complexity) 3: AAC SSR (Scalable Sample Rate) 4: AAC LTP (Long Term Prediction) 5: SBR (Spectral Band Replication) 6: AAC Scalable 7: TwinVQ 8: CELP (Code Excited Linear Prediction) 9: HXVC (Harmonic Vector eXcitation Coding) 10: Reserved 11: Reserved 12: TTSI (Text-To-Speech Interface) 13: Main Synthesis 14: Wavetable Synthesis 15: General MIDI 16: Algorithmic Synthesis and Audio Effects 17: ER (Error Resilient) AAC LC 18: Reserved 19: ER AAC LTP 20: ER AAC Scalable 21: ER TwinVQ 22: ER BSAC (Bit-Sliced Arithmetic Coding) 23: ER AAC LD (Low Delay) 24: ER CELP 25: ER HVXC 26: ER HILN (Harmonic and Individual Lines plus Noise) 27: ER Parametric 28: SSC (SinuSoidal Coding) 29: PS (Parametric Stereo) 30: MPEG Surround 31: (Escape value) 32: Layer-1 33: Layer-2 34: Layer-3 35: DST (Direct Stream Transfer) 36: ALS (Audio Lossless) 37: SLS (Scalable LosslesS) 38: SLS non-core 39: ER AAC ELD (Enhanced Low Delay) 40: SMR (Symbolic Music Representation) Simple 41: SMR Main 42: USAC (Unified Speech and Audio Coding) (no SBR) 43: SAOC (Spatial Audio Object Coding) 44: LD MPEG Surround 45: USAC ## Sampling Frequencies There are 13 supported frequencies: 0: 96000 Hz 1: 88200 Hz 2: 64000 Hz 3: 48000 Hz 4: 44100 Hz 5: 32000 Hz 6: 24000 Hz 7: 22050 Hz 8: 16000 Hz 9: 12000 Hz 10: 11025 Hz 11: 8000 Hz 12: 7350 Hz 13: Reserved 14: Reserved 15: frequency is written explictly ## Channel Configurations These are the channel configurations: 0: Defined in AOT Specifc Config 1: 1 channel: front-center 2: 2 channels: front-left, front-right 3: 3 channels: front-center, front-left, front-right 4: 4 channels: front-center, front-left, front-right, back-center 5: 5 channels: front-center, front-left, front-right,back-left, back-right 6: 6 channels: front-center, front-left, front-right, back-left, back-right, LFE-channel 7: 8 channels: front-center, front-left, front-right, side-left, side-right, back-left, back-right, LFE-channel 8-15: Reserved ## \u8ba1\u7b97CDS0 csd[0]\u9ad8\u4e94\u4f4d\u662fprofile csd[0]\u4f4e\u4e09\u4f4d | csd[1]\u6700\u9ad8\u4f4d \u662f\u91c7\u6837\u7387\u7d22\u5f15 ```c int profile = (csd_data[0] >> 3) & 0x1F; int frequency_idx = ((csd_data[0] & 0x7) << 1) | ((csd_data[1] >> 7) & 0x1); int channels = (csd_data[1] >> 3) & 0xF; int profile = 2; //AAC LC int freqIdx = 11; //8.0KHz int chanCfg = 1; //CPE \u58f0\u9053\u6570 0001 0101 1000 0001 0001 0001 0101 1001 0000 0x15 0x90 0001 0101 1000 1000 0x15 0x88 int profile = 2; //AAC LC int freqIdx = 8; //16.0KHz 0001 0100 0000 1000 14 08 5 bits: object type AAC_LC 2 0 0010 4 bits: frequency index 48k 3 0011 4 bits: channel configuration CH 2 0010 \u518d\u8865\u4e09\u4f4d 000 48K 2ch 0001 0001 1001 0000 0x11 0x90 16K 1ch 0000 1100 0000 1000 0x0c 0x08","title":"AAC\u57fa\u7840\u77e5\u8bc6"},{"location":"Multimedia/av_synchronization/","text":"\u97f3\u89c6\u9891\u540c\u6b65 # 1. \u65f6\u95f4\u6233 # DTS: decoding time stamp \u89e3\u7801\u65f6\u95f4\u6233 PTS: presentation time stamp \u663e\u793a\u65f6\u95f4\u6233 \u89c6\u9891\u91c7\u7528H264\u7f16\u7801\uff0c\u5176\u89e3\u7801\u548c\u663e\u793a\u987a\u5e8f\u53ef\u80fd\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u6240\u4ee5\u5176DTS\u548cPTS\u662f\u4e0d\u4e00\u6837\u7684\uff1b\u97f3\u9891\u4e0d\u5b58\u5728\u8fd9\u4e2a\u95ee\u9898\uff0c\u97f3\u9891\u7684DTS\u548cPTS\u662f\u4e00\u6837\u7684\uff0c\u5bf9\u4e8e\u97f3\u9891\u901a\u5e38\u6211\u4eec\u53ea\u8bf4PTS\u3002 1.1 \u97f3\u9891\u65f6\u95f4\u6233 # frame_size: \u97f3\u9891\u5e27\u7684\u5927\u5c0f\uff0c\u97f3\u9891\u7684\u5e27\u662f\u4ee5\u65f6\u95f4\u4e3a\u5355\u4f4d\u7684\uff0c\u6bd4\u59822.5, 5, 10, 20, 40 or 60 ms frame_byte_size\uff1a\u4e00\u5e27\u97f3\u9891\u6309\u7167\u5b57\u8282\u5b58\u50a8\u7684\u5927\u5c0f sample_rate: \u97f3\u9891\u7684\u91c7\u6837\u7387\uff0c\u5e38\u7528\u7684\u6709\uff1a8000,16000,44100,48000 sample_resolution\uff1a\u91c7\u6837\u4f4d\u6570 channel_num\uff1a\u901a\u9053\u6570 time_interval: \u65f6\u95f4\u95f4\u9694\uff0c\u53ef\u4ee5\u7406\u89e3\u4e3a\u64ad\u653eframe_size\u5927\u5c0f\u7684\u97f3\u9891\u6570\u636e\u9700\u8981\u7684\u65f6\u95f4 pts: \u65f6\u95f4\u6233 time_interval(ms) = frame_byte_size/channel_num/(sample_resolution/8) * 1000 / sample_rate (ms) pts(ms) = audio_index++ * time_interval (ms) = audio_index++ * (frame_size * 1000) / sample_rate (ms) eg: 48k 2ch 16bit frame size \u4e3a10ms \u90a3\u4e48 frame_byte_size = 10ms/1000ms * 48k = 480 byte channel_num = 2 sample_resolution = 16 time_interval(ms) = frame_byte_size/channel_num/(sample_resolution/8) * 1000 / sample_rate (ms) = 480/2/(16/2)*1000/48000 (ms) 1.2 \u89c6\u9891\u65f6\u95f4\u6233 # fps: \u89c6\u9891\u5e27\u7387 pts(ms) = video_index++ * 1000 / fps (ms)","title":"\u97f3\u89c6\u9891\u540c\u6b65"},{"location":"Multimedia/av_synchronization/#_1","text":"","title":"\u97f3\u89c6\u9891\u540c\u6b65"},{"location":"Multimedia/av_synchronization/#1","text":"DTS: decoding time stamp \u89e3\u7801\u65f6\u95f4\u6233 PTS: presentation time stamp \u663e\u793a\u65f6\u95f4\u6233 \u89c6\u9891\u91c7\u7528H264\u7f16\u7801\uff0c\u5176\u89e3\u7801\u548c\u663e\u793a\u987a\u5e8f\u53ef\u80fd\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u6240\u4ee5\u5176DTS\u548cPTS\u662f\u4e0d\u4e00\u6837\u7684\uff1b\u97f3\u9891\u4e0d\u5b58\u5728\u8fd9\u4e2a\u95ee\u9898\uff0c\u97f3\u9891\u7684DTS\u548cPTS\u662f\u4e00\u6837\u7684\uff0c\u5bf9\u4e8e\u97f3\u9891\u901a\u5e38\u6211\u4eec\u53ea\u8bf4PTS\u3002","title":"1. \u65f6\u95f4\u6233"},{"location":"Multimedia/av_synchronization/#11","text":"frame_size: \u97f3\u9891\u5e27\u7684\u5927\u5c0f\uff0c\u97f3\u9891\u7684\u5e27\u662f\u4ee5\u65f6\u95f4\u4e3a\u5355\u4f4d\u7684\uff0c\u6bd4\u59822.5, 5, 10, 20, 40 or 60 ms frame_byte_size\uff1a\u4e00\u5e27\u97f3\u9891\u6309\u7167\u5b57\u8282\u5b58\u50a8\u7684\u5927\u5c0f sample_rate: \u97f3\u9891\u7684\u91c7\u6837\u7387\uff0c\u5e38\u7528\u7684\u6709\uff1a8000,16000,44100,48000 sample_resolution\uff1a\u91c7\u6837\u4f4d\u6570 channel_num\uff1a\u901a\u9053\u6570 time_interval: \u65f6\u95f4\u95f4\u9694\uff0c\u53ef\u4ee5\u7406\u89e3\u4e3a\u64ad\u653eframe_size\u5927\u5c0f\u7684\u97f3\u9891\u6570\u636e\u9700\u8981\u7684\u65f6\u95f4 pts: \u65f6\u95f4\u6233 time_interval(ms) = frame_byte_size/channel_num/(sample_resolution/8) * 1000 / sample_rate (ms) pts(ms) = audio_index++ * time_interval (ms) = audio_index++ * (frame_size * 1000) / sample_rate (ms) eg: 48k 2ch 16bit frame size \u4e3a10ms \u90a3\u4e48 frame_byte_size = 10ms/1000ms * 48k = 480 byte channel_num = 2 sample_resolution = 16 time_interval(ms) = frame_byte_size/channel_num/(sample_resolution/8) * 1000 / sample_rate (ms) = 480/2/(16/2)*1000/48000 (ms)","title":"1.1 \u97f3\u9891\u65f6\u95f4\u6233"},{"location":"Multimedia/av_synchronization/#12","text":"fps: \u89c6\u9891\u5e27\u7387 pts(ms) = video_index++ * 1000 / fps (ms)","title":"1.2 \u89c6\u9891\u65f6\u95f4\u6233"},{"location":"Multimedia/easydarwin/","text":"EasyDarwin RTSP # 1.EasyDarwin # \u4e0b\u8f7d\u5730\u5740EasyDarwin \u542f\u52a8EasyDarwin\uff08\u6ce8\u610f\u5173\u95edVPN\uff09 \u540e\u53f0\u8bbf\u95ee\u5730\u5740\uff1a http://localhost:10008 2.\u4f7f\u7528FFMPEG\u63a8\u6d41 # \u5355\u6b21\u63a8\u6d41 # \u5176\u4e2d192.168.1.13\u4e3a\u8fd0\u884cEasyDarwin\u670d\u52a1\u7684\u7535\u8111 ffmpeg -re -i test.mp4 -rtsp_transport tcp -vcodec h264 -f rtsp rtsp://192.168.1.13:554/test \u5faa\u73af\u63a8\u6d41 # \u5176\u4e2d192.168.1.13\u4e3a\u8fd0\u884cEasyDarwin\u670d\u52a1\u7684\u7535\u8111 ffmpeg -re -stream_loop -1 -i test.mp4 -rtsp_transport tcp -vcodec h264 -f rtsp rtsp://192.168.1.13:554/test","title":"EasyDarwin"},{"location":"Multimedia/easydarwin/#easydarwin-rtsp","text":"","title":"EasyDarwin RTSP"},{"location":"Multimedia/easydarwin/#1easydarwin","text":"\u4e0b\u8f7d\u5730\u5740EasyDarwin \u542f\u52a8EasyDarwin\uff08\u6ce8\u610f\u5173\u95edVPN\uff09 \u540e\u53f0\u8bbf\u95ee\u5730\u5740\uff1a http://localhost:10008","title":"1.EasyDarwin"},{"location":"Multimedia/easydarwin/#2ffmpeg","text":"\u5355\u6b21\u63a8\u6d41 # \u5176\u4e2d192.168.1.13\u4e3a\u8fd0\u884cEasyDarwin\u670d\u52a1\u7684\u7535\u8111 ffmpeg -re -i test.mp4 -rtsp_transport tcp -vcodec h264 -f rtsp rtsp://192.168.1.13:554/test \u5faa\u73af\u63a8\u6d41 # \u5176\u4e2d192.168.1.13\u4e3a\u8fd0\u884cEasyDarwin\u670d\u52a1\u7684\u7535\u8111 ffmpeg -re -stream_loop -1 -i test.mp4 -rtsp_transport tcp -vcodec h264 -f rtsp rtsp://192.168.1.13:554/test","title":"2.\u4f7f\u7528FFMPEG\u63a8\u6d41"},{"location":"Multimedia/ffmpeg_api/","text":"FFMPEG API\u4f7f\u7528\u4ecb\u7ecd # 1.\u6e90\u7801\u7f16\u8bd1 # \u4e0b\u8f7d\u6e90\u7801 \u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u7f16\u8bd1\u6e90\u7801 # make install\u4f1a\u5c06\u7f16\u8bd1\u51fa\u7684\u5e93\u3001\u5934\u6587\u4ef6\u548c.pc\u6587\u4ef6\u90fd\u5b89\u88c5\u5230local_build ./configure --prefix=$PWD/local_build make make install 2.pkg-config\u4f7f\u7528 # FFMPEG\u7f16\u8bd1\u5b89\u88c5\u540e\uff0c\u5176.pc\u6587\u4ef6\u90fd\u5728ffmpeg-x.x/local_build/lib/pkgconfig\u4e2d\uff0cpkg-config\u65e0\u6cd5\u627e\u5230\u5b83\u4eec\uff0c\u6240\u4ee5\u9700\u8981\u5c06\u5176 \u590d\u5236\u5230pkg-config\u7684\u641c\u7d22\u8def\u5f84\u4e2d sudo cp ffmpeg-x.x/local_build/lib/pkgconfig/* /usr/lib/x86_64-linux-gnu/pkgconfig \u6ce8\u610f\uff1a\u4f60\u4e5f\u53ef\u4ee5\u5355\u72ec\u6dfb\u52a0\u4e00\u4e2apkg-config\uff0c\u4f46\u662f\u8bb0\u5f97\u5220\u9664\u65e7\u7248\u672c\uff1b\u590d\u5236\u6709\u4e00\u4e2a\u597d\u5904\uff0c\u80fd\u591f\u8986\u76d6\u65e7\u7248\u672c # \u67e5\u770bpkg-config\u9ed8\u8ba4\u641c\u7d22\u8def\u5f84 pkg-config --variable pc_path pkg-config 3.\u7f16\u8bd1\u4f7f\u7528\u4f8b\u7a0b # cd ffmpeg-x.x/doc/example gcc -o transcode_aac transcode_aac.c `pkg-config --libs --cflags libavcodec libavformat libavutil libswresample`","title":"FFMPEG API"},{"location":"Multimedia/ffmpeg_api/#ffmpeg-api","text":"","title":"FFMPEG API\u4f7f\u7528\u4ecb\u7ecd"},{"location":"Multimedia/ffmpeg_api/#1","text":"\u4e0b\u8f7d\u6e90\u7801 \u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u7f16\u8bd1\u6e90\u7801 # make install\u4f1a\u5c06\u7f16\u8bd1\u51fa\u7684\u5e93\u3001\u5934\u6587\u4ef6\u548c.pc\u6587\u4ef6\u90fd\u5b89\u88c5\u5230local_build ./configure --prefix=$PWD/local_build make make install","title":"1.\u6e90\u7801\u7f16\u8bd1"},{"location":"Multimedia/ffmpeg_api/#2pkg-config","text":"FFMPEG\u7f16\u8bd1\u5b89\u88c5\u540e\uff0c\u5176.pc\u6587\u4ef6\u90fd\u5728ffmpeg-x.x/local_build/lib/pkgconfig\u4e2d\uff0cpkg-config\u65e0\u6cd5\u627e\u5230\u5b83\u4eec\uff0c\u6240\u4ee5\u9700\u8981\u5c06\u5176 \u590d\u5236\u5230pkg-config\u7684\u641c\u7d22\u8def\u5f84\u4e2d sudo cp ffmpeg-x.x/local_build/lib/pkgconfig/* /usr/lib/x86_64-linux-gnu/pkgconfig \u6ce8\u610f\uff1a\u4f60\u4e5f\u53ef\u4ee5\u5355\u72ec\u6dfb\u52a0\u4e00\u4e2apkg-config\uff0c\u4f46\u662f\u8bb0\u5f97\u5220\u9664\u65e7\u7248\u672c\uff1b\u590d\u5236\u6709\u4e00\u4e2a\u597d\u5904\uff0c\u80fd\u591f\u8986\u76d6\u65e7\u7248\u672c # \u67e5\u770bpkg-config\u9ed8\u8ba4\u641c\u7d22\u8def\u5f84 pkg-config --variable pc_path pkg-config","title":"2.pkg-config\u4f7f\u7528"},{"location":"Multimedia/ffmpeg_api/#3","text":"cd ffmpeg-x.x/doc/example gcc -o transcode_aac transcode_aac.c `pkg-config --libs --cflags libavcodec libavformat libavutil libswresample`","title":"3.\u7f16\u8bd1\u4f7f\u7528\u4f8b\u7a0b"},{"location":"Multimedia/ffmpeg_command/","text":"FFMPEG\u5e38\u7528\u547d\u4ee4 # \u53c2\u8003\u6587\u6863 # \u58f0\u5361-FFMPEG\u5b98\u65b9\u6587\u6863 FFMPEG\u7684\u5b89\u88c5\u65b9\u5f0f # Ubuntu\u4e2d\u901a\u8fc7 sudo apt-get install ffmpeg \u5b89\u88c5 Ubuntu\u4e2d\u901a\u8fc7\u6e90\u7801\u7f16\u8bd1\u5b89\u88c5 Windows\u76f4\u63a5\u4f7f\u7528 FFMPEG\u5b98\u65b9\u9884\u7f16\u8bd1\u7248\u672c \u5e38\u7528\u547d\u4ee4 # # \u67e5\u770b\u58f0\u5361\u8bbe\u5907 cat /proc/asound/cards # FFMPEG\u5f55\u97f3\u547d\u4ee4 hw:CARD[,DEV[,SUBDEV]] ffmpeg -f alsa -i hw:0 alsaout.wav # record ffmpeg -f video4linux2 -s 320*300 -i /dev/video0 test.asf # play ffplay test.asf # record and play ffplay -f video4linux2 -framerate 30 -video_size hd720 /dev/video0 # FFMPEG \u4eceMP4\u4e2d\u62bd\u53d6H264\u6587\u4ef6 ffmpeg -i test.mp4 -an -vcodec libx264 -crf 23 test.h264 ffmpeg -i test.mp4 -codec copy -bsf h264_mp4toannexb -f h264 test.h264 # FFMPEG\u4e3a\u89c6\u9891\u6dfb\u52a0Log ffmpeg -i linuxidc.mp4 -i linuxidc.com.png -filter_complex overlay linuxidc.com.mp4 # FFMPEG\u4ee5\u5e27\u7684\u65b9\u5f0f\u67e5\u770bMP4\u5c01\u88c5\u4fe1\u606f ffprobe -i example.mp4 -print_format json -show_frames # FFMPEG\u67e5\u770bYUV\u56fe\u50cf / YUV\u89c6\u9891 # \u56fe\u7247\u7684\u5c3a\u5bf8\u5fc5\u987b\u5199\u5bf9\uff0c\u5426\u5219\u53ef\u80fd\u65e0\u6cd5\u6b63\u5e38\u64ad\u653e ffplay -video_size 1280x720 test.yuv # mp4\u8f6cflv ffmpeg -i example.mp4 -c:v libx264 -crf 24 example.flv ## FFMPEG\u89c6\u9891HLS\u63a8\u6d41 ffmpeg -re -i example.flv -vcodec copy -acodec copy -f flv rtmp://localhost:1935/hls/stream # FFMPEG\u6444\u50cf\u5934HLS\u63a8\u6d41 ffmpeg -f video4linux2 -i /dev/video0 -c:v libx264 -preset ultrafast -acodec libmp3lame -ar 44100 -ac 1 -f flv rtmp://localhost:1935/hls/stream # FFMPEG \u4eceMP4\u4e2d\u62bd\u53d6\u97f3\u9891\u5e76\u4fdd\u5b58\u4e3aMP3\u6587\u4ef6 # \u53c2\u6570\u89e3\u91ca\uff1a # -i \u8868\u793ainput\uff0c\u5373\u8f93\u5165\u6587\u4ef6 # -f \u8868\u793aformat\uff0c\u5373\u8f93\u51fa\u683c\u5f0f # -vn\u8868\u793avedio not\uff0c\u5373\u8f93\u51fa\u4e0d\u5305\u542b\u89c6\u9891 # fmpeg -i example.mp4 -f mp3 -vn example.mp3 # FFMPEG\u5207\u5272MP3\u6587\u4ef6 # \u53c2\u6570\u89e3\u91ca\uff1a # -i \u8868\u793ainput\uff0c\u5373\u8f93\u5165\u6587\u4ef6 # -ss \u5f00\u59cb\u5207\u5272\u65f6\u95f4\u70b9 # -t \u9700\u8981\u5207\u5272\u7684\u65f6\u957f # \u4ece1\u520600\u79d2\u5f00\u59cb\uff0c\u5207\u527250\u79d2 ffmpeg -i input.mp3 -ss 00:01:00 -t 00:00:50 -acodec copy output.mp3 # \u538b\u5236\u5b57\u5e55 ffmpeg -i input.mp4 -vf subtitles=subtitle.srt out.mp4 \u547d\u4ee4\u53c2\u6570 # \u53c2\u6570 \u542b\u4e49 -f \u5f3a\u8feb\u91c7\u7528\u683c\u5f0ffmt -i filename \u8f93\u5165\u6587\u4ef6 -s size \u8bbe\u7f6e\u5e27\u5927\u5c0f \u9ed8\u8ba4\u662f160x128 -r \u8bbe\u7f6e\u5e27\u9891\uff0c\u9ed8\u8ba425 \uff08\u5f85\u9a8c\u8bc1\uff0c\u786e\u8ba4\u975e\u6807\u51c6\u6862\u7387\u4f1a\u5bfc\u81f4\u97f3\u753b\u4e0d\u540c\u6b65\uff0c\u6240\u4ee5\u53ea\u80fd\u8bbe\u5b9a\u4e3a15\u6216\u800529.97\uff09 -ab bitrate\u8bbe\u7f6e\u97f3\u9891\u7801\u7387 -ar freq \u8bbe\u7f6e\u97f3\u9891\u91c7\u6837\u7387 -ac channels\u8bbe\u7f6e\u901a\u9053\uff0c\u9ed8\u8ba4\u4e3a1 -vd device \u8bbe\u7f6e\u89c6\u9891\u6355\u83b7\u8bbe\u5907 eg:/dev/video0 -av device \u8bbe\u7f6e\u97f3\u9891\u8bbe\u5907 eg:/dev/dsp -vcodec c:v is an abbreviated version of codec:v vcodec is an alias of codec:v So all 3 function the same, but are not limited to 'copy' only. It is used to specify the codec, or copy. For example ffmpeg -i INPUT -map 0 -c:v libx264 -c:a copy OUTPUT encodes all video streams with libx264 and copies all audio streams. This could also be written as ffmpeg -i INPUT -map 0 -codec:v libx264 -acodec copy OUTPUT or ffmpeg -i INPUT -map 0 -vcodec libx264 -codec:a copy OUTPUT","title":"FFMPEG\u547d\u4ee4"},{"location":"Multimedia/ffmpeg_command/#ffmpeg","text":"","title":"FFMPEG\u5e38\u7528\u547d\u4ee4"},{"location":"Multimedia/ffmpeg_command/#_1","text":"\u58f0\u5361-FFMPEG\u5b98\u65b9\u6587\u6863","title":"\u53c2\u8003\u6587\u6863"},{"location":"Multimedia/ffmpeg_command/#ffmpeg_1","text":"Ubuntu\u4e2d\u901a\u8fc7 sudo apt-get install ffmpeg \u5b89\u88c5 Ubuntu\u4e2d\u901a\u8fc7\u6e90\u7801\u7f16\u8bd1\u5b89\u88c5 Windows\u76f4\u63a5\u4f7f\u7528 FFMPEG\u5b98\u65b9\u9884\u7f16\u8bd1\u7248\u672c","title":"FFMPEG\u7684\u5b89\u88c5\u65b9\u5f0f"},{"location":"Multimedia/ffmpeg_command/#_2","text":"# \u67e5\u770b\u58f0\u5361\u8bbe\u5907 cat /proc/asound/cards # FFMPEG\u5f55\u97f3\u547d\u4ee4 hw:CARD[,DEV[,SUBDEV]] ffmpeg -f alsa -i hw:0 alsaout.wav # record ffmpeg -f video4linux2 -s 320*300 -i /dev/video0 test.asf # play ffplay test.asf # record and play ffplay -f video4linux2 -framerate 30 -video_size hd720 /dev/video0 # FFMPEG \u4eceMP4\u4e2d\u62bd\u53d6H264\u6587\u4ef6 ffmpeg -i test.mp4 -an -vcodec libx264 -crf 23 test.h264 ffmpeg -i test.mp4 -codec copy -bsf h264_mp4toannexb -f h264 test.h264 # FFMPEG\u4e3a\u89c6\u9891\u6dfb\u52a0Log ffmpeg -i linuxidc.mp4 -i linuxidc.com.png -filter_complex overlay linuxidc.com.mp4 # FFMPEG\u4ee5\u5e27\u7684\u65b9\u5f0f\u67e5\u770bMP4\u5c01\u88c5\u4fe1\u606f ffprobe -i example.mp4 -print_format json -show_frames # FFMPEG\u67e5\u770bYUV\u56fe\u50cf / YUV\u89c6\u9891 # \u56fe\u7247\u7684\u5c3a\u5bf8\u5fc5\u987b\u5199\u5bf9\uff0c\u5426\u5219\u53ef\u80fd\u65e0\u6cd5\u6b63\u5e38\u64ad\u653e ffplay -video_size 1280x720 test.yuv # mp4\u8f6cflv ffmpeg -i example.mp4 -c:v libx264 -crf 24 example.flv ## FFMPEG\u89c6\u9891HLS\u63a8\u6d41 ffmpeg -re -i example.flv -vcodec copy -acodec copy -f flv rtmp://localhost:1935/hls/stream # FFMPEG\u6444\u50cf\u5934HLS\u63a8\u6d41 ffmpeg -f video4linux2 -i /dev/video0 -c:v libx264 -preset ultrafast -acodec libmp3lame -ar 44100 -ac 1 -f flv rtmp://localhost:1935/hls/stream # FFMPEG \u4eceMP4\u4e2d\u62bd\u53d6\u97f3\u9891\u5e76\u4fdd\u5b58\u4e3aMP3\u6587\u4ef6 # \u53c2\u6570\u89e3\u91ca\uff1a # -i \u8868\u793ainput\uff0c\u5373\u8f93\u5165\u6587\u4ef6 # -f \u8868\u793aformat\uff0c\u5373\u8f93\u51fa\u683c\u5f0f # -vn\u8868\u793avedio not\uff0c\u5373\u8f93\u51fa\u4e0d\u5305\u542b\u89c6\u9891 # fmpeg -i example.mp4 -f mp3 -vn example.mp3 # FFMPEG\u5207\u5272MP3\u6587\u4ef6 # \u53c2\u6570\u89e3\u91ca\uff1a # -i \u8868\u793ainput\uff0c\u5373\u8f93\u5165\u6587\u4ef6 # -ss \u5f00\u59cb\u5207\u5272\u65f6\u95f4\u70b9 # -t \u9700\u8981\u5207\u5272\u7684\u65f6\u957f # \u4ece1\u520600\u79d2\u5f00\u59cb\uff0c\u5207\u527250\u79d2 ffmpeg -i input.mp3 -ss 00:01:00 -t 00:00:50 -acodec copy output.mp3 # \u538b\u5236\u5b57\u5e55 ffmpeg -i input.mp4 -vf subtitles=subtitle.srt out.mp4","title":"\u5e38\u7528\u547d\u4ee4"},{"location":"Multimedia/ffmpeg_command/#_3","text":"\u53c2\u6570 \u542b\u4e49 -f \u5f3a\u8feb\u91c7\u7528\u683c\u5f0ffmt -i filename \u8f93\u5165\u6587\u4ef6 -s size \u8bbe\u7f6e\u5e27\u5927\u5c0f \u9ed8\u8ba4\u662f160x128 -r \u8bbe\u7f6e\u5e27\u9891\uff0c\u9ed8\u8ba425 \uff08\u5f85\u9a8c\u8bc1\uff0c\u786e\u8ba4\u975e\u6807\u51c6\u6862\u7387\u4f1a\u5bfc\u81f4\u97f3\u753b\u4e0d\u540c\u6b65\uff0c\u6240\u4ee5\u53ea\u80fd\u8bbe\u5b9a\u4e3a15\u6216\u800529.97\uff09 -ab bitrate\u8bbe\u7f6e\u97f3\u9891\u7801\u7387 -ar freq \u8bbe\u7f6e\u97f3\u9891\u91c7\u6837\u7387 -ac channels\u8bbe\u7f6e\u901a\u9053\uff0c\u9ed8\u8ba4\u4e3a1 -vd device \u8bbe\u7f6e\u89c6\u9891\u6355\u83b7\u8bbe\u5907 eg:/dev/video0 -av device \u8bbe\u7f6e\u97f3\u9891\u8bbe\u5907 eg:/dev/dsp -vcodec c:v is an abbreviated version of codec:v vcodec is an alias of codec:v So all 3 function the same, but are not limited to 'copy' only. It is used to specify the codec, or copy. For example ffmpeg -i INPUT -map 0 -c:v libx264 -c:a copy OUTPUT encodes all video streams with libx264 and copies all audio streams. This could also be written as ffmpeg -i INPUT -map 0 -codec:v libx264 -acodec copy OUTPUT or ffmpeg -i INPUT -map 0 -vcodec libx264 -codec:a copy OUTPUT","title":"\u547d\u4ee4\u53c2\u6570"},{"location":"Multimedia/ffmpeg_compile/","text":"FFMPEG\u7f16\u8bd1 # \u4e00\u3001\u5378\u8f7dUbuntu\u9884\u88c5FFMPEG # sudo apt-get --purge remove ffmpeg # \u5982\u679c\u65e0\u6cd5\u5378\u8f7d\u5e72\u51c0\uff0c\u90a3\u4e48\u627e\u5230ffmpeg\u7684\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u5c06\u5176\u5220\u9664 which ffmpeg \u4e8c\u3001\u7f16\u8bd1\u5b89\u88c5 # 2.1.\u6e90\u7801\u7f16\u8bd1 # \u4e0b\u8f7d\u6e90\u7801 \u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u7f16\u8bd1FFMPEG\u6e90\u7801 # make install\u4f1a\u5c06\u7f16\u8bd1\u51fa\u7684\u5e93\u3001\u5934\u6587\u4ef6\u548c.pc\u6587\u4ef6\u90fd\u5b89\u88c5\u5230local_build ./configure --prefix=$PWD/local_build make make install Note \u4ee5\u4e0a\u7f16\u8bd1\uff0c\u53ea\u80fd\u7f16\u8bd1\u51faffmpeg\u548cffprobe 2.2.\u7f16\u8bd1ffplay # \u4e0b\u8f7dSDL2.0 \u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u7f16\u8bd1SDL\u6e90\u7801 ./configure make make install \u914d\u7f6e\u4f7f\u80fdSDL --enable-sdl \uff0c\u7136\u540e\u91cd\u65b0\u7f16\u8bd1FFMPEG ./configure --enable-sdl --prefix=$PWD/local_build make make install \u4f7f\u7528\u81ea\u5df1\u7f16\u8bd1\u7684FFMPEG\u9047\u5230\u7684\u95ee\u9898 # ffmpeg -i example.mp4 -c:v libx264 -crf 24 example.flv \u62a5\u9519 Unrecognized option 'crf' \u539f\u56e0\uff1a\u7f16\u8bd1\u7684\u65f6\u5019\u6ca1\u6709\u4f7f\u80fd libx264 \u89e3\u51b3\uff1a ./configure --enable-libx264 --enable-gpl make sudo make install","title":"FFMPEG\u7f16\u8bd1"},{"location":"Multimedia/ffmpeg_compile/#ffmpeg","text":"","title":"FFMPEG\u7f16\u8bd1"},{"location":"Multimedia/ffmpeg_compile/#ubuntuffmpeg","text":"sudo apt-get --purge remove ffmpeg # \u5982\u679c\u65e0\u6cd5\u5378\u8f7d\u5e72\u51c0\uff0c\u90a3\u4e48\u627e\u5230ffmpeg\u7684\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u5c06\u5176\u5220\u9664 which ffmpeg","title":"\u4e00\u3001\u5378\u8f7dUbuntu\u9884\u88c5FFMPEG"},{"location":"Multimedia/ffmpeg_compile/#_1","text":"","title":"\u4e8c\u3001\u7f16\u8bd1\u5b89\u88c5"},{"location":"Multimedia/ffmpeg_compile/#21","text":"\u4e0b\u8f7d\u6e90\u7801 \u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u7f16\u8bd1FFMPEG\u6e90\u7801 # make install\u4f1a\u5c06\u7f16\u8bd1\u51fa\u7684\u5e93\u3001\u5934\u6587\u4ef6\u548c.pc\u6587\u4ef6\u90fd\u5b89\u88c5\u5230local_build ./configure --prefix=$PWD/local_build make make install Note \u4ee5\u4e0a\u7f16\u8bd1\uff0c\u53ea\u80fd\u7f16\u8bd1\u51faffmpeg\u548cffprobe","title":"2.1.\u6e90\u7801\u7f16\u8bd1"},{"location":"Multimedia/ffmpeg_compile/#22ffplay","text":"\u4e0b\u8f7dSDL2.0 \u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u7f16\u8bd1SDL\u6e90\u7801 ./configure make make install \u914d\u7f6e\u4f7f\u80fdSDL --enable-sdl \uff0c\u7136\u540e\u91cd\u65b0\u7f16\u8bd1FFMPEG ./configure --enable-sdl --prefix=$PWD/local_build make make install","title":"2.2.\u7f16\u8bd1ffplay"},{"location":"Multimedia/ffmpeg_compile/#ffmpeg_1","text":"ffmpeg -i example.mp4 -c:v libx264 -crf 24 example.flv \u62a5\u9519 Unrecognized option 'crf' \u539f\u56e0\uff1a\u7f16\u8bd1\u7684\u65f6\u5019\u6ca1\u6709\u4f7f\u80fd libx264 \u89e3\u51b3\uff1a ./configure --enable-libx264 --enable-gpl make sudo make install","title":"\u4f7f\u7528\u81ea\u5df1\u7f16\u8bd1\u7684FFMPEG\u9047\u5230\u7684\u95ee\u9898"},{"location":"Multimedia/h264_bitrate_profile_level/","text":"\u7801\u7387\u3001H264 Profile \u548c level # 1. \u6570\u5b57\u6210\u50cf\u539f\u7406 # Camera Sensor\u51fa\u6765\u7684\u662fBayer\u683c\u5f0f\uff0c\u7136\u540e\u5904\u7406\u6210RAW RGB or YUV\u8f93\u51fa\uff0c\u4e5f\u53ef\u4ee5\u6309\u7167JEPG\u6216\u8005H264\u538b\u7f29\u540e\u8f93\u51fa\u3002 Bayer\u683c\u5f0f\u662f\u76f8\u673a\u5185\u90e8\u7684\u539f\u59cb\u56fe\u7247, \u4e00\u822c\u540e\u7f00\u540d\u4e3a.raw\u3002\u5f88\u591a\u8f6f\u4ef6\u90fd\u53ef\u4ee5\u67e5\u770b, \u6bd4\u5982PS\u3002 CMOS\u548cCCD\u4e5f\u80fd\u4ee5\u6a21\u5f0f\u7684\u65b9\u5f0f\u8f93\u51fa\u89c6\u9891\u6570\u636e\uff0c\u4e00\u822c\u662fPAL\u5236\u5f0f\u7684\uff0c\u53ef\u4ee5\u76f4\u63a5\u8fde\u63a5\u652f\u6301PAL\u7684\u663e\u793a\u5668\uff0c\u76f4\u63a5\u663e\u793a\u3002 2.\u600e\u4e48\u8ba1\u7b97\u4e00\u5e45\u56fe\u50cf\u7684\u5927\u5c0f # \u4e00\u5e45\u56fe\u50cf\u5305\u62ec\u7684\u57fa\u672c\u4e1c\u897f\u5c31\u662f\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u5176\u5bb9\u91cf\u5927\u5c0f\u5b9e\u8d28\u5373\u4e3a\u4e8c\u8fdb\u5236\u6570\u636e\u7684\u591a\u5c11\u3002\u4e00\u5e451920x1080\u50cf\u7d20\u7684YUV422\u7684\u56fe\u50cf\uff0c\u5927\u5c0f\u662f1920X1080X2=4147200\uff08\u5341\u8fdb\u5236\uff09\uff0c\u4e5f\u5c31\u662f3.95M\u5927\u5c0f\u3002\u8fd9\u4e2a\u5927\u5c0f\u8ddf\u591a\u5c11\u4e2a\u50cf\u7d20\u70b9\u548c\u6570\u636e\u7684\u5b58\u50a8\u683c\u5f0f\u6709\u5173\u3002\u4e0b\u9762\u7b80\u8ff0yuv\u4e0e\u50cf\u7d20\u7684\u5173\u7cfb\uff1a YUV\u4e0e\u50cf\u7d20\u7684\u5173\u7cfb\uff1a YUV\u662f\u5229\u7528\u4e00\u4e2a\u4eae\u5ea6\uff08Y\uff09\u3001\u4e24\u4e2a\u8272\u5dee(U,V)\u6765\u8868\u793a\u4e00\u4e2a\u50cf\u7d20\u3002 \u4f20\u7edf\u7684RGB\u4e09\u539f\u8272\u4f7f\u7528\u7ea2\u7eff\u84dd\u4e09\u539f\u8272\u8868\u793a\u4e00\u4e2a\u50cf\u7d20\uff0c\u6bcf\u79cd\u539f\u8272\u5360\u7528\u4e00\u4e2a\u5b57\u8282\uff088bit\uff09\uff0c\u56e0\u6b64\u4e00\u4e2a\u50cf\u7d20\u7528RGB\u8868\u793a\u5219\u9700\u89818*3=24bit\u3002 \u5982\u679c\u4f7f\u7528YUV\u8868\u793a\u8fd9\u4e2a\u50cf\u7d20\uff0c\u5047\u8bbeYUV\u7684\u91c7\u6837\u7387\u4e3a\uff1a4\uff1a2\uff1a0\uff0c\u5373\u6bcf\u4e00\u4e2a\u50cf\u7d20\u5bf9\u4e8e\u4eae\u5ea6Y\u7684\u91c7\u6837\u9891\u7387\u4e3a1\uff0c\u5bf9\u4e8e\u8272\u5deeU\u548cV\uff0c\u5219\u662f\u6bcf\u76f8\u90bb\u7684\u4e24\u4e2a\u50cf\u7d20\u5404\u53d6\u4e00\u4e2aU\u548cV\u3002\u5bf9\u4e8e\u5355\u4e2a\u7684\u50cf\u7d20\u6765\u8bf4\uff0c\u8272\u5deeU\u548cV\u7684\u91c7\u6837\u9891\u7387\u4e3a\u4eae\u5ea6\u7684\u4e00\u534a\u3002\u5982\u6709\u4e09\u4e2a\u76f8\u90bb\u7684\u50cf\u7d20\uff0c\u5982\u679c\u7528RGB\u4e09\u539f\u8272\u8868\u793a\uff0c\u5219\u5171\u9700\u8981\u5360\u7528\uff1a8*3*3=72bits\uff1b\u5982\u679c\u91c7\u7528YUV\uff084\uff1a2\uff1a0\uff09\u8868\u793a\uff0c\u5219\u53ea\u9700\u8981\u5360\u7528\uff1a8*3\uff08Y\uff09+ 8*3*0.5\uff08U\uff09+8*3*0.5\uff08V\uff09= 36bits\u3002\u53ea\u9700\u539f\u6765\u4e00\u534a\u7684\u7a7a\u95f4\uff0c\u5c31\u53ef\u4ee5\u8868\u793a\u539f\u6765\u7684\u56fe\u50cf\uff0c\u6570\u636e\u7387\u538b\u7f29\u4e86\u4e00\u500d\uff0c\u800c\u56fe\u50cf\u7684\u6548\u679c\u57fa\u672c\u6ca1\u53d1\u751f\u53d8\u5316\u3002 1. \u7801\u7387 # \u4e00\u4e2a\u6444\u50cf\u5934\u5176\u56fe\u50cf\u5206\u8fa8\u7387\u662f1280*720\uff0c\u56fe\u50cf\u683c\u5f0f\u662fYUV420\uff08\u4e00\u4e2a\u50cf\u7d20\u53602\u4e2a\u5b57\u8282\uff09\uff0c\u5e27\u7387\u662f30FPS\uff0c\u90a3\u4e48\u5176\u7801\u7387\u662f\uff1a1280*720*\\2*30 = 55Mbps \u6444\u50cf\u5934\u539f\u751f\u7684\u7684\u6570\u636e\u91cf\u975e\u5e38\u4e4b\u5927\uff0c\u5728\u4f20\u8f93\u65f6\u901a\u5e38\u4f1a\u5c06\u5176\u538b\u7f29\uff0c\u6bd4\u5982\u91c7\u7528H264\u538b\u7f29\u3002 \u65e2\u7136\u662f\u538b\u7f29\uff0c\u90a3\u5c31\u6709\u538b\u7f29\u6bd4\uff0c\u901a\u5e38\u901a\u8fc7\u8bbe\u7f6e\u7f16\u7801\u5668\u7684\u7801\u7387\u8fd9\u4e2a\u53c2\u6570\u6765\u786e\u5b9a\u538b\u7f29\u6bd4\u3002 \u6bd4\u5982\u8bbe\u7f6e\u7f16\u7801\u5668\u7684\u7801\u7387\u4e3a1Mbps\uff0c\u90a3\u4e48\u8be5\u6444\u50cf\u5934\u89c6\u9891\u6570\u636e\u7684\u538b\u7f29\u6bd4\u662f\uff1a55:1\uff0c\u538b\u7f29\u4e8655\u500d\u3002 \u5728\u5176\u4ed6\u6761\u4ef6\u4e00\u81f4\u7684\u524d\u63d0\u4e0b\uff0c\u901a\u5e38\u7801\u7387\u8d8a\u9ad8\uff0c\u89c6\u9891\u8d28\u91cf\u5c31\u8d8a\u9ad8\uff0c\u89c6\u9891\u5360\u7528\u7684\u7a7a\u95f4\u5c31\u8d8a\u5927\u3002 \u90a3\u4e48\u8ffd\u6c42\u9ad8\u8d28\u91cf\u89c6\u9891\u65f6\uff0c\u662f\u4e0d\u662f\u7801\u7387\u8d8a\u9ad8\u8d8a\u597d\u5462\uff1f \u90a3\u4e48\u8ffd\u6c42\u666e\u901a\u8d28\u91cf\u89c6\u9891\u65f6\uff0c\u662f\u4e0d\u662f\u7801\u7387\u8d8a\u5e95\u8d8a\u597d\u5462\uff1f \u7b54\u6848\u662f\uff1a\u4e0d\u4e00\u5b9a \u90a3\u4e48\u4e00\u822c\u600e\u4e48\u9009\u62e9\u7801\u7387\u5462\uff1f \u4e8e\u662fH264\u7ed9\u51fa\u4e86Prifile\u548clevel\u7684\u6982\u5ff5\u3002\u8be6\u7ec6\u8bf7\u53c2\u8003\uff1a Advanced Video Coding \u53c2\u8003\u94fe\u63a5 \u5728Android\u4e2d\u8bbe\u7f6eH264\u7f16\u7801\u5668\u7684Profile\u548clevel # \u53c2\u8003\u94fe\u63a5 \\\\\u5728Android\u4e2d\u8bbe\u7f6eH264\u7f16\u7801\u5668\u7684Profile\u548clevel format.setInteger(\"profile\",MediaCodecInfo.CodecProfileLevel.AVCProfileBaseline); format.setInteger(\"level\", MediaCodecInfo.CodecProfileLevel.AVCLevel13);","title":"\u7801\u7387\u3001H264 Profile\u548cLevel"},{"location":"Multimedia/h264_bitrate_profile_level/#h264-profile-level","text":"","title":"\u7801\u7387\u3001H264 Profile \u548c level"},{"location":"Multimedia/h264_bitrate_profile_level/#1","text":"Camera Sensor\u51fa\u6765\u7684\u662fBayer\u683c\u5f0f\uff0c\u7136\u540e\u5904\u7406\u6210RAW RGB or YUV\u8f93\u51fa\uff0c\u4e5f\u53ef\u4ee5\u6309\u7167JEPG\u6216\u8005H264\u538b\u7f29\u540e\u8f93\u51fa\u3002 Bayer\u683c\u5f0f\u662f\u76f8\u673a\u5185\u90e8\u7684\u539f\u59cb\u56fe\u7247, \u4e00\u822c\u540e\u7f00\u540d\u4e3a.raw\u3002\u5f88\u591a\u8f6f\u4ef6\u90fd\u53ef\u4ee5\u67e5\u770b, \u6bd4\u5982PS\u3002 CMOS\u548cCCD\u4e5f\u80fd\u4ee5\u6a21\u5f0f\u7684\u65b9\u5f0f\u8f93\u51fa\u89c6\u9891\u6570\u636e\uff0c\u4e00\u822c\u662fPAL\u5236\u5f0f\u7684\uff0c\u53ef\u4ee5\u76f4\u63a5\u8fde\u63a5\u652f\u6301PAL\u7684\u663e\u793a\u5668\uff0c\u76f4\u63a5\u663e\u793a\u3002","title":"1. \u6570\u5b57\u6210\u50cf\u539f\u7406"},{"location":"Multimedia/h264_bitrate_profile_level/#2","text":"\u4e00\u5e45\u56fe\u50cf\u5305\u62ec\u7684\u57fa\u672c\u4e1c\u897f\u5c31\u662f\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u5176\u5bb9\u91cf\u5927\u5c0f\u5b9e\u8d28\u5373\u4e3a\u4e8c\u8fdb\u5236\u6570\u636e\u7684\u591a\u5c11\u3002\u4e00\u5e451920x1080\u50cf\u7d20\u7684YUV422\u7684\u56fe\u50cf\uff0c\u5927\u5c0f\u662f1920X1080X2=4147200\uff08\u5341\u8fdb\u5236\uff09\uff0c\u4e5f\u5c31\u662f3.95M\u5927\u5c0f\u3002\u8fd9\u4e2a\u5927\u5c0f\u8ddf\u591a\u5c11\u4e2a\u50cf\u7d20\u70b9\u548c\u6570\u636e\u7684\u5b58\u50a8\u683c\u5f0f\u6709\u5173\u3002\u4e0b\u9762\u7b80\u8ff0yuv\u4e0e\u50cf\u7d20\u7684\u5173\u7cfb\uff1a YUV\u4e0e\u50cf\u7d20\u7684\u5173\u7cfb\uff1a YUV\u662f\u5229\u7528\u4e00\u4e2a\u4eae\u5ea6\uff08Y\uff09\u3001\u4e24\u4e2a\u8272\u5dee(U,V)\u6765\u8868\u793a\u4e00\u4e2a\u50cf\u7d20\u3002 \u4f20\u7edf\u7684RGB\u4e09\u539f\u8272\u4f7f\u7528\u7ea2\u7eff\u84dd\u4e09\u539f\u8272\u8868\u793a\u4e00\u4e2a\u50cf\u7d20\uff0c\u6bcf\u79cd\u539f\u8272\u5360\u7528\u4e00\u4e2a\u5b57\u8282\uff088bit\uff09\uff0c\u56e0\u6b64\u4e00\u4e2a\u50cf\u7d20\u7528RGB\u8868\u793a\u5219\u9700\u89818*3=24bit\u3002 \u5982\u679c\u4f7f\u7528YUV\u8868\u793a\u8fd9\u4e2a\u50cf\u7d20\uff0c\u5047\u8bbeYUV\u7684\u91c7\u6837\u7387\u4e3a\uff1a4\uff1a2\uff1a0\uff0c\u5373\u6bcf\u4e00\u4e2a\u50cf\u7d20\u5bf9\u4e8e\u4eae\u5ea6Y\u7684\u91c7\u6837\u9891\u7387\u4e3a1\uff0c\u5bf9\u4e8e\u8272\u5deeU\u548cV\uff0c\u5219\u662f\u6bcf\u76f8\u90bb\u7684\u4e24\u4e2a\u50cf\u7d20\u5404\u53d6\u4e00\u4e2aU\u548cV\u3002\u5bf9\u4e8e\u5355\u4e2a\u7684\u50cf\u7d20\u6765\u8bf4\uff0c\u8272\u5deeU\u548cV\u7684\u91c7\u6837\u9891\u7387\u4e3a\u4eae\u5ea6\u7684\u4e00\u534a\u3002\u5982\u6709\u4e09\u4e2a\u76f8\u90bb\u7684\u50cf\u7d20\uff0c\u5982\u679c\u7528RGB\u4e09\u539f\u8272\u8868\u793a\uff0c\u5219\u5171\u9700\u8981\u5360\u7528\uff1a8*3*3=72bits\uff1b\u5982\u679c\u91c7\u7528YUV\uff084\uff1a2\uff1a0\uff09\u8868\u793a\uff0c\u5219\u53ea\u9700\u8981\u5360\u7528\uff1a8*3\uff08Y\uff09+ 8*3*0.5\uff08U\uff09+8*3*0.5\uff08V\uff09= 36bits\u3002\u53ea\u9700\u539f\u6765\u4e00\u534a\u7684\u7a7a\u95f4\uff0c\u5c31\u53ef\u4ee5\u8868\u793a\u539f\u6765\u7684\u56fe\u50cf\uff0c\u6570\u636e\u7387\u538b\u7f29\u4e86\u4e00\u500d\uff0c\u800c\u56fe\u50cf\u7684\u6548\u679c\u57fa\u672c\u6ca1\u53d1\u751f\u53d8\u5316\u3002","title":"2.\u600e\u4e48\u8ba1\u7b97\u4e00\u5e45\u56fe\u50cf\u7684\u5927\u5c0f"},{"location":"Multimedia/h264_bitrate_profile_level/#1_1","text":"\u4e00\u4e2a\u6444\u50cf\u5934\u5176\u56fe\u50cf\u5206\u8fa8\u7387\u662f1280*720\uff0c\u56fe\u50cf\u683c\u5f0f\u662fYUV420\uff08\u4e00\u4e2a\u50cf\u7d20\u53602\u4e2a\u5b57\u8282\uff09\uff0c\u5e27\u7387\u662f30FPS\uff0c\u90a3\u4e48\u5176\u7801\u7387\u662f\uff1a1280*720*\\2*30 = 55Mbps \u6444\u50cf\u5934\u539f\u751f\u7684\u7684\u6570\u636e\u91cf\u975e\u5e38\u4e4b\u5927\uff0c\u5728\u4f20\u8f93\u65f6\u901a\u5e38\u4f1a\u5c06\u5176\u538b\u7f29\uff0c\u6bd4\u5982\u91c7\u7528H264\u538b\u7f29\u3002 \u65e2\u7136\u662f\u538b\u7f29\uff0c\u90a3\u5c31\u6709\u538b\u7f29\u6bd4\uff0c\u901a\u5e38\u901a\u8fc7\u8bbe\u7f6e\u7f16\u7801\u5668\u7684\u7801\u7387\u8fd9\u4e2a\u53c2\u6570\u6765\u786e\u5b9a\u538b\u7f29\u6bd4\u3002 \u6bd4\u5982\u8bbe\u7f6e\u7f16\u7801\u5668\u7684\u7801\u7387\u4e3a1Mbps\uff0c\u90a3\u4e48\u8be5\u6444\u50cf\u5934\u89c6\u9891\u6570\u636e\u7684\u538b\u7f29\u6bd4\u662f\uff1a55:1\uff0c\u538b\u7f29\u4e8655\u500d\u3002 \u5728\u5176\u4ed6\u6761\u4ef6\u4e00\u81f4\u7684\u524d\u63d0\u4e0b\uff0c\u901a\u5e38\u7801\u7387\u8d8a\u9ad8\uff0c\u89c6\u9891\u8d28\u91cf\u5c31\u8d8a\u9ad8\uff0c\u89c6\u9891\u5360\u7528\u7684\u7a7a\u95f4\u5c31\u8d8a\u5927\u3002 \u90a3\u4e48\u8ffd\u6c42\u9ad8\u8d28\u91cf\u89c6\u9891\u65f6\uff0c\u662f\u4e0d\u662f\u7801\u7387\u8d8a\u9ad8\u8d8a\u597d\u5462\uff1f \u90a3\u4e48\u8ffd\u6c42\u666e\u901a\u8d28\u91cf\u89c6\u9891\u65f6\uff0c\u662f\u4e0d\u662f\u7801\u7387\u8d8a\u5e95\u8d8a\u597d\u5462\uff1f \u7b54\u6848\u662f\uff1a\u4e0d\u4e00\u5b9a \u90a3\u4e48\u4e00\u822c\u600e\u4e48\u9009\u62e9\u7801\u7387\u5462\uff1f \u4e8e\u662fH264\u7ed9\u51fa\u4e86Prifile\u548clevel\u7684\u6982\u5ff5\u3002\u8be6\u7ec6\u8bf7\u53c2\u8003\uff1a Advanced Video Coding \u53c2\u8003\u94fe\u63a5","title":"1. \u7801\u7387"},{"location":"Multimedia/h264_bitrate_profile_level/#androidh264profilelevel","text":"\u53c2\u8003\u94fe\u63a5 \\\\\u5728Android\u4e2d\u8bbe\u7f6eH264\u7f16\u7801\u5668\u7684Profile\u548clevel format.setInteger(\"profile\",MediaCodecInfo.CodecProfileLevel.AVCProfileBaseline); format.setInteger(\"level\", MediaCodecInfo.CodecProfileLevel.AVCLevel13);","title":"\u5728Android\u4e2d\u8bbe\u7f6eH264\u7f16\u7801\u5668\u7684Profile\u548clevel"},{"location":"Multimedia/linux_shell_cmd_for_multimedia/","text":"\u591a\u5a92\u4f53\u76f8\u5173\u7684Linux Shell\u547d\u4ee4 # # \u67e5\u770b\u6444\u50cf\u5934\u6570\u636e sudo apt install v4l-utils v4l2-ctl -d /dev/video0 --all","title":"Linux Shell\u547d\u4ee4"},{"location":"Multimedia/linux_shell_cmd_for_multimedia/#linux-shell","text":"# \u67e5\u770b\u6444\u50cf\u5934\u6570\u636e sudo apt install v4l-utils v4l2-ctl -d /dev/video0 --all","title":"\u591a\u5a92\u4f53\u76f8\u5173\u7684Linux Shell\u547d\u4ee4"},{"location":"Multimedia/nginx_hls_from_source/","text":"\u914d\u7f6eHLS\u670d\u52a1\u5668\uff08\u4eceNginx\u6e90\u7801\u5f00\u59cb\uff09 # \u4e00\u3001\u5378\u8f7dUbuntu\u9884\u5b89\u88c5\u7684nginx # Ubuntu\u9884\u5b89\u88c5\u4e86nginx\uff0c\u4f46\u6211\u4eec\u5e0c\u671b\u4ece\u6e90\u7801\u7f16\u8bd1\u5b89\u88c5\u4f7f\u7528\uff0c\u6240\u4ee5\u9996\u5148\u5378\u8f7dUbuntu\u9884\u88c5\u7684nginx\u3002 # \u5217\u51fanginx\u76f8\u5173\u8f6f\u4ef6 dpkg --get-selections|grep nginx # \u5c06\u4e0a\u9762\u6307\u4ee4\u5217\u51fa\u7684\u8f6f\u4ef6\u4e00\u4e00\u5378\u8f7d sudo apt-get --purge remove nginx sudo apt-get --purge remove nginx-common sudo apt-get --purge remove nginx-core \u4e8c\u3001\u4ece\u6e90\u7801\u5b89\u88c5nginx # 2.1.\u4e0b\u8f7d\u6e90\u7801 # nginx\u5b98\u7f51\u4e0b\u8f7d\u5730\u5740 2.2.\u7f16\u8bd1\u5b89\u88c5 # \u4f7f\u7528nginx\u9ed8\u8ba4\u914d\u7f6e ./configure make make install \u4f7f\u7528 nginx-rtmp-module ./configure --add-module=/path/to/nginx-rtmp-module make make install 2.3.\u67e5\u770b80\u7aef\u53e3\u4f7f\u7528\u60c5\u51b5 # lsof -i:80 # \u6216\u8005 netstat -tunlp | grep 80 \u5982\u679c80\u7aef\u53e3\u5df2\u88ab\u522b\u7684\u7a0b\u5e8f\u7ed1\u5b9a\uff0c\u90a3\u4e48\u8bf7\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u7aef\u53e3 sudo vim /user/local/nginx/conf/nginx.conf \uff0c\u6216\u8005\u6740\u6b7b\u5360\u752880\u7aef\u53e3\u7684\u7a0b\u5e8f 2.4.\u542f\u52a8nginx # \u5148\u8fdb\u5165nginx\u7684\u5b89\u88c5\u76ee\u5f55 /user/local/nginx/sbin \u8fd0\u884cnginx sudo ./nginx 2.5.\u67e5\u770bnginx\u662f\u5426\u6b63\u786e\u8fd0\u884c # ps -ef | grep nginx 2.6.\u505c\u6b62nginx # sudo nginx -s stop # \u6216\u8005\u76f4\u63a5kill sudo kill -9 nginx_pid \u4e09\u3001nginx\u914d\u7f6e # HLS\u670d\u52a1\u5668 #user nobody; worker_processes 1; #error_log logs/error.log; #error_log logs/error.log notice; #error_log logs/error.log info; #pid logs/nginx.pid; events { worker_connections 1024; } rtmp { server { listen 1935; chunk_size 4000; application hls { live on; hls on; hls_path /tmp/hls; hls_fragment 5s; } } } http { include mime.types; default_type application/octet-stream; #log_format main '$remote_addr - $remote_user [$time_local] \"$request\" ' # '$status $body_bytes_sent \"$http_referer\" ' # '\"$http_user_agent\" \"$http_x_forwarded_for\"'; #access_log logs/access.log main; sendfile on; #tcp_nopush on; #keepalive_timeout 0; keepalive_timeout 65; #gzip on; server { listen 80; server_name localhost; #charset koi8-r; #access_log logs/host.access.log main; location / { root html; index index.html index.htm; } #error_page 404 /404.html; # redirect server error pages to the static page /50x.html # error_page 500 502 503 504 /50x.html; location = /50x.html { root html; } # This URL provides RTMP statistics in XML location /stat { rtmp_stat all; # Use this stylesheet to view XML as web page # in browser rtmp_stat_stylesheet stat.xsl; } location /stat.xsl { # XML stylesheet to view RTMP stats. # Copy stat.xsl wherever you want # and put the full directory path here root /path/to/stat.xsl/; } location /hls { # Serve HLS fragments types { application/vnd.apple.mpegurl m3u8; video/mp2t ts; } root /tmp; add_header Cache-Control no-cache; } location /dash { # Serve DASH fragments root /tmp; add_header Cache-Control no-cache; } # proxy the PHP scripts to Apache listening on 127.0.0.1:80 # #location ~ \\.php$ { # proxy_pass http://127.0.0.1; #} # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000 # #location ~ \\.php$ { # root html; # fastcgi_pass 127.0.0.1:9000; # fastcgi_index index.php; # fastcgi_param SCRIPT_FILENAME /scripts$fastcgi_script_name; # include fastcgi_params; #} # deny access to .htaccess files, if Apache's document root # concurs with nginx's one # #location ~ /\\.ht { # deny all; #} } # another virtual host using mix of IP-, name-, and port-based configuration # #server { # listen 8000; # listen somename:8080; # server_name somename alias another.alias; # location / { # root html; # index index.html index.htm; # } #} # HTTPS server # #server { # listen 443 ssl; # server_name localhost; # ssl_certificate cert.pem; # ssl_certificate_key cert.key; # ssl_session_cache shared:SSL:1m; # ssl_session_timeout 5m; # ssl_ciphers HIGH:!aNULL:!MD5; # ssl_prefer_server_ciphers on; # location / { # root html; # index index.html index.htm; # } #} }","title":"\u914d\u7f6eHLS\u670d\u52a1\u5668"},{"location":"Multimedia/nginx_hls_from_source/#hlsnginx","text":"","title":"\u914d\u7f6eHLS\u670d\u52a1\u5668\uff08\u4eceNginx\u6e90\u7801\u5f00\u59cb\uff09"},{"location":"Multimedia/nginx_hls_from_source/#ubuntunginx","text":"Ubuntu\u9884\u5b89\u88c5\u4e86nginx\uff0c\u4f46\u6211\u4eec\u5e0c\u671b\u4ece\u6e90\u7801\u7f16\u8bd1\u5b89\u88c5\u4f7f\u7528\uff0c\u6240\u4ee5\u9996\u5148\u5378\u8f7dUbuntu\u9884\u88c5\u7684nginx\u3002 # \u5217\u51fanginx\u76f8\u5173\u8f6f\u4ef6 dpkg --get-selections|grep nginx # \u5c06\u4e0a\u9762\u6307\u4ee4\u5217\u51fa\u7684\u8f6f\u4ef6\u4e00\u4e00\u5378\u8f7d sudo apt-get --purge remove nginx sudo apt-get --purge remove nginx-common sudo apt-get --purge remove nginx-core","title":"\u4e00\u3001\u5378\u8f7dUbuntu\u9884\u5b89\u88c5\u7684nginx"},{"location":"Multimedia/nginx_hls_from_source/#nginx","text":"","title":"\u4e8c\u3001\u4ece\u6e90\u7801\u5b89\u88c5nginx"},{"location":"Multimedia/nginx_hls_from_source/#21","text":"nginx\u5b98\u7f51\u4e0b\u8f7d\u5730\u5740","title":"2.1.\u4e0b\u8f7d\u6e90\u7801"},{"location":"Multimedia/nginx_hls_from_source/#22","text":"\u4f7f\u7528nginx\u9ed8\u8ba4\u914d\u7f6e ./configure make make install \u4f7f\u7528 nginx-rtmp-module ./configure --add-module=/path/to/nginx-rtmp-module make make install","title":"2.2.\u7f16\u8bd1\u5b89\u88c5"},{"location":"Multimedia/nginx_hls_from_source/#2380","text":"lsof -i:80 # \u6216\u8005 netstat -tunlp | grep 80 \u5982\u679c80\u7aef\u53e3\u5df2\u88ab\u522b\u7684\u7a0b\u5e8f\u7ed1\u5b9a\uff0c\u90a3\u4e48\u8bf7\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u7aef\u53e3 sudo vim /user/local/nginx/conf/nginx.conf \uff0c\u6216\u8005\u6740\u6b7b\u5360\u752880\u7aef\u53e3\u7684\u7a0b\u5e8f","title":"2.3.\u67e5\u770b80\u7aef\u53e3\u4f7f\u7528\u60c5\u51b5"},{"location":"Multimedia/nginx_hls_from_source/#24nginx","text":"\u5148\u8fdb\u5165nginx\u7684\u5b89\u88c5\u76ee\u5f55 /user/local/nginx/sbin \u8fd0\u884cnginx sudo ./nginx","title":"2.4.\u542f\u52a8nginx"},{"location":"Multimedia/nginx_hls_from_source/#25nginx","text":"ps -ef | grep nginx","title":"2.5.\u67e5\u770bnginx\u662f\u5426\u6b63\u786e\u8fd0\u884c"},{"location":"Multimedia/nginx_hls_from_source/#26nginx","text":"sudo nginx -s stop # \u6216\u8005\u76f4\u63a5kill sudo kill -9 nginx_pid","title":"2.6.\u505c\u6b62nginx"},{"location":"Multimedia/nginx_hls_from_source/#nginx_1","text":"HLS\u670d\u52a1\u5668 #user nobody; worker_processes 1; #error_log logs/error.log; #error_log logs/error.log notice; #error_log logs/error.log info; #pid logs/nginx.pid; events { worker_connections 1024; } rtmp { server { listen 1935; chunk_size 4000; application hls { live on; hls on; hls_path /tmp/hls; hls_fragment 5s; } } } http { include mime.types; default_type application/octet-stream; #log_format main '$remote_addr - $remote_user [$time_local] \"$request\" ' # '$status $body_bytes_sent \"$http_referer\" ' # '\"$http_user_agent\" \"$http_x_forwarded_for\"'; #access_log logs/access.log main; sendfile on; #tcp_nopush on; #keepalive_timeout 0; keepalive_timeout 65; #gzip on; server { listen 80; server_name localhost; #charset koi8-r; #access_log logs/host.access.log main; location / { root html; index index.html index.htm; } #error_page 404 /404.html; # redirect server error pages to the static page /50x.html # error_page 500 502 503 504 /50x.html; location = /50x.html { root html; } # This URL provides RTMP statistics in XML location /stat { rtmp_stat all; # Use this stylesheet to view XML as web page # in browser rtmp_stat_stylesheet stat.xsl; } location /stat.xsl { # XML stylesheet to view RTMP stats. # Copy stat.xsl wherever you want # and put the full directory path here root /path/to/stat.xsl/; } location /hls { # Serve HLS fragments types { application/vnd.apple.mpegurl m3u8; video/mp2t ts; } root /tmp; add_header Cache-Control no-cache; } location /dash { # Serve DASH fragments root /tmp; add_header Cache-Control no-cache; } # proxy the PHP scripts to Apache listening on 127.0.0.1:80 # #location ~ \\.php$ { # proxy_pass http://127.0.0.1; #} # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000 # #location ~ \\.php$ { # root html; # fastcgi_pass 127.0.0.1:9000; # fastcgi_index index.php; # fastcgi_param SCRIPT_FILENAME /scripts$fastcgi_script_name; # include fastcgi_params; #} # deny access to .htaccess files, if Apache's document root # concurs with nginx's one # #location ~ /\\.ht { # deny all; #} } # another virtual host using mix of IP-, name-, and port-based configuration # #server { # listen 8000; # listen somename:8080; # server_name somename alias another.alias; # location / { # root html; # index index.html index.htm; # } #} # HTTPS server # #server { # listen 443 ssl; # server_name localhost; # ssl_certificate cert.pem; # ssl_certificate_key cert.key; # ssl_session_cache shared:SSL:1m; # ssl_session_timeout 5m; # ssl_ciphers HIGH:!aNULL:!MD5; # ssl_prefer_server_ciphers on; # location / { # root html; # index index.html index.htm; # } #} }","title":"\u4e09\u3001nginx\u914d\u7f6e"},{"location":"Multimedia/nginx_static_site_from_prebuild/","text":"Nginx\u914d\u7f6e\u9759\u6001\u7f51\u7ad9\u670d\u52a1\u5668(\u4f7f\u7528\u9884\u7f16\u8bd1\u7684Nginx) # 1.\u5b89\u88c5Nginx # Ubuntu\u9ed8\u8ba4\u5df2\u7ecf\u5b89\u88c5\u4e86Nginx\uff0c\u4f7f\u7528\u4e0b\u9762\u547d\u4ee4\u67e5\u770b\u662f\u5426\u5df2\u5b89\u88c5nginx whereis nginx \u5982\u679c\u6ca1\u6709\u8bf7\u91cd\u65b0\u5b89\u88c5 sudo apt-get install nginx 2.Nginx\u7684\u9ed8\u8ba4\u914d\u7f6e # Nginx\u9ed8\u8ba4\u7684\u914d\u7f6e\u6587\u4ef6\u662f/etc/nginx/sites-available/default \u4e3a\u4ec0\u4e48\u9ed8\u8ba4\u7684\u914d\u7f6e\u6587\u4ef6\u662f\u8fd9\u4e2a\u5462\uff1f Nginx\u7684\u9ed8\u8ba4\u914d\u7f6e\u6587\u4ef6\u4e3a/etc/nginx/nginx.conf\uff0cNginx\u542f\u52a8\u7684\u65f6\u5019\u5c31\u4f1a\u53bb\u52a0\u8f7d\u8fd9\u4e2a\u914d\u7f6e\u6587\u4ef6\uff0c\u5728\u8fd9\u4e2a\u9ed8\u8ba4\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u5982\u4e0b\u5185\u5bb9\uff1a include /etc/nginx/sites-enabled/* \u5b83\u5305\u542b\u4e86sites-enabled/\u76ee\u5f55\u4e0b\u7684\u6240\u6587\u4ef6\uff0c\u5728Nginx\u7684\u521d\u59cb\u72b6\u6001\u4e0bsites-enabled/\u76ee\u5f55\u4e2d\u53ea\u6709\u4e00\u4e2adefault\u6587\u4ef6\uff0c\u800c\u8fd9\u4e2adefault\u6587\u4ef6\u662f\u4e00\u4e2a\u94fe\u63a5\u6587\u4ef6\uff0c\u5b83\u6307\u5411\u4e86/etc/nginx/sites-available/default\u6587\u4ef6 Nginx\u9ed8\u8ba4\u7684\u7f51\u7ad9\u76ee\u5f55\u662f/var/www/html 3.\u914d\u7f6eNginx\u652f\u6301\u8bbf\u95ee\u56fe\u7247\u8d44\u6e90 # \u5c06\u56fe\u7247\u653e\u5728/var/www/image/\u76ee\u5f55\u4e0b location /image/ { root /var/www; autoindex on; } 4.\u914d\u7f6eNginx\u652f\u6301\u8bbf\u95ee\u89c6\u9891\u8d44\u6e90 # \u5c06\u89c6\u9891\u8d44\u6e90\u653e\u5728/var/www/video/\u6587\u4ef6\u5939\u4e0b location /video/ { root /var/www; autoinxdex on; }","title":"\u914d\u7f6e\u9759\u6001\u7f51\u7ad9\u670d\u52a1\u5668"},{"location":"Multimedia/nginx_static_site_from_prebuild/#nginxnginx","text":"","title":"Nginx\u914d\u7f6e\u9759\u6001\u7f51\u7ad9\u670d\u52a1\u5668(\u4f7f\u7528\u9884\u7f16\u8bd1\u7684Nginx)"},{"location":"Multimedia/nginx_static_site_from_prebuild/#1nginx","text":"Ubuntu\u9ed8\u8ba4\u5df2\u7ecf\u5b89\u88c5\u4e86Nginx\uff0c\u4f7f\u7528\u4e0b\u9762\u547d\u4ee4\u67e5\u770b\u662f\u5426\u5df2\u5b89\u88c5nginx whereis nginx \u5982\u679c\u6ca1\u6709\u8bf7\u91cd\u65b0\u5b89\u88c5 sudo apt-get install nginx","title":"1.\u5b89\u88c5Nginx"},{"location":"Multimedia/nginx_static_site_from_prebuild/#2nginx","text":"Nginx\u9ed8\u8ba4\u7684\u914d\u7f6e\u6587\u4ef6\u662f/etc/nginx/sites-available/default \u4e3a\u4ec0\u4e48\u9ed8\u8ba4\u7684\u914d\u7f6e\u6587\u4ef6\u662f\u8fd9\u4e2a\u5462\uff1f Nginx\u7684\u9ed8\u8ba4\u914d\u7f6e\u6587\u4ef6\u4e3a/etc/nginx/nginx.conf\uff0cNginx\u542f\u52a8\u7684\u65f6\u5019\u5c31\u4f1a\u53bb\u52a0\u8f7d\u8fd9\u4e2a\u914d\u7f6e\u6587\u4ef6\uff0c\u5728\u8fd9\u4e2a\u9ed8\u8ba4\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u5982\u4e0b\u5185\u5bb9\uff1a include /etc/nginx/sites-enabled/* \u5b83\u5305\u542b\u4e86sites-enabled/\u76ee\u5f55\u4e0b\u7684\u6240\u6587\u4ef6\uff0c\u5728Nginx\u7684\u521d\u59cb\u72b6\u6001\u4e0bsites-enabled/\u76ee\u5f55\u4e2d\u53ea\u6709\u4e00\u4e2adefault\u6587\u4ef6\uff0c\u800c\u8fd9\u4e2adefault\u6587\u4ef6\u662f\u4e00\u4e2a\u94fe\u63a5\u6587\u4ef6\uff0c\u5b83\u6307\u5411\u4e86/etc/nginx/sites-available/default\u6587\u4ef6 Nginx\u9ed8\u8ba4\u7684\u7f51\u7ad9\u76ee\u5f55\u662f/var/www/html","title":"2.Nginx\u7684\u9ed8\u8ba4\u914d\u7f6e"},{"location":"Multimedia/nginx_static_site_from_prebuild/#3nginx","text":"\u5c06\u56fe\u7247\u653e\u5728/var/www/image/\u76ee\u5f55\u4e0b location /image/ { root /var/www; autoindex on; }","title":"3.\u914d\u7f6eNginx\u652f\u6301\u8bbf\u95ee\u56fe\u7247\u8d44\u6e90"},{"location":"Multimedia/nginx_static_site_from_prebuild/#4nginx","text":"\u5c06\u89c6\u9891\u8d44\u6e90\u653e\u5728/var/www/video/\u6587\u4ef6\u5939\u4e0b location /video/ { root /var/www; autoinxdex on; }","title":"4.\u914d\u7f6eNginx\u652f\u6301\u8bbf\u95ee\u89c6\u9891\u8d44\u6e90"},{"location":"Multimedia/optical/","text":"\u5149\u5b66\u8bbe\u8ba1\u77e5\u8bc6 # \u89c6\u573a\u548c\u5206\u8fa8\u7387\u9650\u5b9a\u4e86\uff0c\u50cf\u5143\u8d8a\u5c0f\u955c\u5934\u7126\u8ddd\u5c31\u8d8a\u5c0f\uff0c\u6574\u4e2a\u7cfb\u7edf\u7684\u91cd\u91cf\u4e5f\u5c31\u4f1a\u8d8a\u5c0f \u7406\u8bba\u6210\u50cf\u6781\u9650\u5206\u8fa8\u7387\u4e3a1.22\u00d7\u6ce2\u957f\u00d7F#,\u50cf\u5143\u592a\u5c0f\u4e86\uff0c\u76ee\u6807\u867d\u7136\u5927\u5c0f\u70b98\u4e2a\u50cf\u5143\uff0c\u4f468\u4e2a\u50cf\u5143\u4e4b\u95f4\u4e0d\u80fd\u6e05\u6670\u5206\u8fa8 \u50cf\u514315um\u5de6\u53f3\uff0c1500m\u7684\u4eba\u70b98\u4e2a\u50cf\u7d20\uff0c\u7126\u8ddd100mm\u5de6\u53f3\uff0c\u957f\u6ce2\u975e\u5236\u51b7\u4e00\u822c\u8981\u505a\u5230F1\uff0c\u90a3\u53e3\u5f84\u5c31\u8981100mm\uff0c\u6bd4\u8f83\u5927\u4e86\uff1bD = f/F = 100mm/1 =100mm \u4e2a\u4eba\u611f\u89c9\u53ef\u89c1\uff08\u6216\u77ed\u6ce2\u7ea2\u5916\uff09\u548c\u957f\u6ce2\u7ea2\u5916\u5171\u7528\u955c\u5934\u4e0d\u592a\u53ef\u80fd\uff0c\u9876\u591a\u5171\u7528\u90e8\u5206\u955c\u7247 F=f/D F-----\u5149\u5708\u503c\uff0c\u5b83\u662f\u4e00\u4e2a\u6bd4\u503c\uff0c\u6ca1\u6709\u5355\u4f4d f-----\u7126\u8ddd\u5927\u5c0f\uff0c\u4e00\u822c\u4ee5\u6beb\u7c73mm\u4e3a\u5355\u4f4d\uff0c135\u76f8\u673a\u7684\u6807\u51c6\u7126\u8ddd\u662f50mm D-----\u901a\u5149\u53e3\u5f84\uff0c\u5355\u4f4dmm\uff0c\u955c\u5934\u5728\u67d0\u4e00\u7126\u8ddd\u4e0b\u6700\u5927\u901a\u5149\u5b54\u6d1e\u7684\u76f4\u5f84(\u8981\u533a\u522b\u6ee4\u955c\u53e3\u5f84\uff0c\u4ed6\u4eec\u662f\u4e0d\u540c\u7684) \u5728\u67d0\u4e00\u7126\u8ddd\u4e0b\uff0c\u4f60\u7684\u901a\u5149\u53e3\u5f84D\u8d8a\u5927\uff0c\u5149\u5708\u503cF\u4e5f\u5c31\u8d8a\u5c0f\uff0c\u76f8\u673a\u63a5\u53d7\u7684\u5149\u4eae\u4e5f\u5c31\u8d8a\u591a\uff0c\u666f\u6df1\u8d8a\u6d45\uff0c\u4f8b\u598250/1.2\u5728F1.2\u65f6\u53ef\u4ee5\u8fbe\u5230\u6781\u6d45\u7684\u666f\u6df1 \u3002 \u77ed\u6ce2\u7ea2\u5916\uff08InGaAs\uff090.9um ~ 1.7um \u957f\u6ce2\u7ea2\u5916\uff08\u70ed\u50cf\u4eea\uff098um ~ 14um","title":"\u5149\u5b66\u77e5\u8bc6\u70b9"},{"location":"Multimedia/optical/#_1","text":"\u89c6\u573a\u548c\u5206\u8fa8\u7387\u9650\u5b9a\u4e86\uff0c\u50cf\u5143\u8d8a\u5c0f\u955c\u5934\u7126\u8ddd\u5c31\u8d8a\u5c0f\uff0c\u6574\u4e2a\u7cfb\u7edf\u7684\u91cd\u91cf\u4e5f\u5c31\u4f1a\u8d8a\u5c0f \u7406\u8bba\u6210\u50cf\u6781\u9650\u5206\u8fa8\u7387\u4e3a1.22\u00d7\u6ce2\u957f\u00d7F#,\u50cf\u5143\u592a\u5c0f\u4e86\uff0c\u76ee\u6807\u867d\u7136\u5927\u5c0f\u70b98\u4e2a\u50cf\u5143\uff0c\u4f468\u4e2a\u50cf\u5143\u4e4b\u95f4\u4e0d\u80fd\u6e05\u6670\u5206\u8fa8 \u50cf\u514315um\u5de6\u53f3\uff0c1500m\u7684\u4eba\u70b98\u4e2a\u50cf\u7d20\uff0c\u7126\u8ddd100mm\u5de6\u53f3\uff0c\u957f\u6ce2\u975e\u5236\u51b7\u4e00\u822c\u8981\u505a\u5230F1\uff0c\u90a3\u53e3\u5f84\u5c31\u8981100mm\uff0c\u6bd4\u8f83\u5927\u4e86\uff1bD = f/F = 100mm/1 =100mm \u4e2a\u4eba\u611f\u89c9\u53ef\u89c1\uff08\u6216\u77ed\u6ce2\u7ea2\u5916\uff09\u548c\u957f\u6ce2\u7ea2\u5916\u5171\u7528\u955c\u5934\u4e0d\u592a\u53ef\u80fd\uff0c\u9876\u591a\u5171\u7528\u90e8\u5206\u955c\u7247 F=f/D F-----\u5149\u5708\u503c\uff0c\u5b83\u662f\u4e00\u4e2a\u6bd4\u503c\uff0c\u6ca1\u6709\u5355\u4f4d f-----\u7126\u8ddd\u5927\u5c0f\uff0c\u4e00\u822c\u4ee5\u6beb\u7c73mm\u4e3a\u5355\u4f4d\uff0c135\u76f8\u673a\u7684\u6807\u51c6\u7126\u8ddd\u662f50mm D-----\u901a\u5149\u53e3\u5f84\uff0c\u5355\u4f4dmm\uff0c\u955c\u5934\u5728\u67d0\u4e00\u7126\u8ddd\u4e0b\u6700\u5927\u901a\u5149\u5b54\u6d1e\u7684\u76f4\u5f84(\u8981\u533a\u522b\u6ee4\u955c\u53e3\u5f84\uff0c\u4ed6\u4eec\u662f\u4e0d\u540c\u7684) \u5728\u67d0\u4e00\u7126\u8ddd\u4e0b\uff0c\u4f60\u7684\u901a\u5149\u53e3\u5f84D\u8d8a\u5927\uff0c\u5149\u5708\u503cF\u4e5f\u5c31\u8d8a\u5c0f\uff0c\u76f8\u673a\u63a5\u53d7\u7684\u5149\u4eae\u4e5f\u5c31\u8d8a\u591a\uff0c\u666f\u6df1\u8d8a\u6d45\uff0c\u4f8b\u598250/1.2\u5728F1.2\u65f6\u53ef\u4ee5\u8fbe\u5230\u6781\u6d45\u7684\u666f\u6df1 \u3002 \u77ed\u6ce2\u7ea2\u5916\uff08InGaAs\uff090.9um ~ 1.7um \u957f\u6ce2\u7ea2\u5916\uff08\u70ed\u50cf\u4eea\uff098um ~ 14um","title":"\u5149\u5b66\u8bbe\u8ba1\u77e5\u8bc6"},{"location":"Multimedia/opus/","text":"OPUS\u97f3\u9891\u7f16\u89e3\u7801\u5e93 # 1.\u57fa\u672c\u6982\u5ff5 # 1.1 Frame Size # \u6bcf\u901a\u9053\u7684\u91c7\u6837\u6570\uff0c\u97f3\u9891\u7684\u5e27\u4ee5\u65f6\u95f4\u4e3a\u5355\u4f4d\uff0c\u5728OPUS\u4e2dFrame size\u5fc5\u987b\u662f2.5, 5, 10, 20, 40 or 60 ms 1.2 \u5c0f\u7aef\u6a21\u5f0f # \u5982\u4e0a\u56fe\u6240\u793a\uff0c\u4e00\u4e2a\u6574\u65700x11223344\uff0c\u5728\u5185\u5b58\u4e2d\u3001\u5199\u5165\u6587\u4ef6\u4e2d\u3001\u4ece\u6587\u4ef6\u4e2d\u8bfb\u51fa\uff0c\u4ece\u5b57\u8282\u7684\u89d2\u5ea6\u770b\uff0c\u5176\u5b58\u50a8\u65b9\u5f0f\u662f\u4e00\u6837\u7684\u3002 \u793a\u4f8b\u7a0b\u5e8f\u5982\u4e0b\uff1a unsigned int a = 0x11223344; unsigned char *p = &a; // \u67e5\u770b\u5728\u5185\u5b58\u4e2d\u7684\u5b58\u50a8\u60c5\u51b5 printf(\"%x,%x,%x,%x\\n\",*p,*(p+1),*(p+2),*(p+3)); FILE *fp; fp = fopen(\"int.bin\",\"w+\"); // \u5199\u5165\u6587\u4ef6\u540e\uff0c\u901a\u8fc7\u4e8c\u8fdb\u5236\u67e5\u770b\u5de5\u5177\u67e5\u770b\uff0c\u5176\u5728\u6587\u4ef6\u4e2d\u7684\u5b58\u50a8\u60c5\u51b5 fwrite(&a,sizeof(int),1,fp); fseek(fp,0,SEEK_SET); unsigned char *buf = (unsigned char *)malloc(4); fread(buf,sizeof(int),1,fp); // \u67e5\u770b\u4ece\u6587\u4ef6\u8bfb\u51fa\u540e\u7684\u5b58\u50a8\u60c5\u51b5 printf(\"%x,%x,%x,%x\\n\",buf[0],buf[1],buf[2],buf[3]); \u5728\u6587\u4ef6\u4e2d\u7684\u5b58\u50a8\u60c5\u51b5\u5982\u4e0b\u56fe\u6240\u793a\uff1a Warning \u5982\u679c\u4f60\u5c06int\u6216\u8005short\u7c7b\u578b\u7684\u6570\u636e\u4ee5\u4e8c\u8fdb\u5236\u5199\u5165\u6587\u4ef6\uff0c\u7136\u540e\u4ee5\u5b57\u8282\u8bfb\u51fa\u3002\u7136\u540e\u5728\u5c06\u5b57\u8282\u6570\u636e\u8f6c\u6362\u4e3aint\u6216\u8005short\u7684\u65f6\u5019\uff0c \u8bf7\u6ce8\u610f\u5b57\u8282\u5e8f\u95ee\u9898\uff08 \u4e0d\u63a8\u8350\u8fd9\u79cd\u505a\u6cd5 \uff09\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a #define FRAME_SIZE 960 #define CHANNELS 1 #define MAX_FRAME_SIZE 6*960 opus_int16 in[FRAME_SIZE*CHANNELS]; unsigned char pcm_bytes[MAX_FRAME_SIZE*CHANNELS*2]; /* Convert from little-endian ordering. */ for (i=0;i<CHANNELS*FRAME_SIZE;i++) in[i]=pcm_bytes[2*i+1]<<8|pcm_bytes[2*i]; \u4e00\u822c\u76f4\u63a5\u5c06\u6307\u5411\u5b57\u8282\u6570\u7ec4\u7684\u6307\u9488\uff08char *\uff09\u8f6c\u6362\u4e3a\u6307\u5411int\u6216\u8005short\u7684\u6307\u9488\u5373\u53ef\u3002\u793a\u4f8b\u5982\u4e0b\uff1a unsigned short *short_buf = (unsigned short *)pcm_bytes; \u5982\u679c\u662f16bit\u91c7\u6837\uff0c\u90a3\u4e48\u4e00\u4e2a\u6837\u672c\u9700\u8981\u75282\u4e2a\u5b57\u8282\uff08short\uff09\u53bb\u5b58\u50a8\u3002 OPUS\u7684\u7f16\u7801\u51fd\u6570\u539f\u578b\u5982\u4e0b\u6240\u793a\uff1a opus_int32 opus_encode (OpusEncoder * st, const opus_int16 * pcm, int frame_size, unsigned char * data, opus_int32 max_data_bytes )","title":"OPUS"},{"location":"Multimedia/opus/#opus","text":"","title":"OPUS\u97f3\u9891\u7f16\u89e3\u7801\u5e93"},{"location":"Multimedia/opus/#1","text":"","title":"1.\u57fa\u672c\u6982\u5ff5"},{"location":"Multimedia/opus/#11-frame-size","text":"\u6bcf\u901a\u9053\u7684\u91c7\u6837\u6570\uff0c\u97f3\u9891\u7684\u5e27\u4ee5\u65f6\u95f4\u4e3a\u5355\u4f4d\uff0c\u5728OPUS\u4e2dFrame size\u5fc5\u987b\u662f2.5, 5, 10, 20, 40 or 60 ms","title":"1.1 Frame Size"},{"location":"Multimedia/opus/#12","text":"\u5982\u4e0a\u56fe\u6240\u793a\uff0c\u4e00\u4e2a\u6574\u65700x11223344\uff0c\u5728\u5185\u5b58\u4e2d\u3001\u5199\u5165\u6587\u4ef6\u4e2d\u3001\u4ece\u6587\u4ef6\u4e2d\u8bfb\u51fa\uff0c\u4ece\u5b57\u8282\u7684\u89d2\u5ea6\u770b\uff0c\u5176\u5b58\u50a8\u65b9\u5f0f\u662f\u4e00\u6837\u7684\u3002 \u793a\u4f8b\u7a0b\u5e8f\u5982\u4e0b\uff1a unsigned int a = 0x11223344; unsigned char *p = &a; // \u67e5\u770b\u5728\u5185\u5b58\u4e2d\u7684\u5b58\u50a8\u60c5\u51b5 printf(\"%x,%x,%x,%x\\n\",*p,*(p+1),*(p+2),*(p+3)); FILE *fp; fp = fopen(\"int.bin\",\"w+\"); // \u5199\u5165\u6587\u4ef6\u540e\uff0c\u901a\u8fc7\u4e8c\u8fdb\u5236\u67e5\u770b\u5de5\u5177\u67e5\u770b\uff0c\u5176\u5728\u6587\u4ef6\u4e2d\u7684\u5b58\u50a8\u60c5\u51b5 fwrite(&a,sizeof(int),1,fp); fseek(fp,0,SEEK_SET); unsigned char *buf = (unsigned char *)malloc(4); fread(buf,sizeof(int),1,fp); // \u67e5\u770b\u4ece\u6587\u4ef6\u8bfb\u51fa\u540e\u7684\u5b58\u50a8\u60c5\u51b5 printf(\"%x,%x,%x,%x\\n\",buf[0],buf[1],buf[2],buf[3]); \u5728\u6587\u4ef6\u4e2d\u7684\u5b58\u50a8\u60c5\u51b5\u5982\u4e0b\u56fe\u6240\u793a\uff1a Warning \u5982\u679c\u4f60\u5c06int\u6216\u8005short\u7c7b\u578b\u7684\u6570\u636e\u4ee5\u4e8c\u8fdb\u5236\u5199\u5165\u6587\u4ef6\uff0c\u7136\u540e\u4ee5\u5b57\u8282\u8bfb\u51fa\u3002\u7136\u540e\u5728\u5c06\u5b57\u8282\u6570\u636e\u8f6c\u6362\u4e3aint\u6216\u8005short\u7684\u65f6\u5019\uff0c \u8bf7\u6ce8\u610f\u5b57\u8282\u5e8f\u95ee\u9898\uff08 \u4e0d\u63a8\u8350\u8fd9\u79cd\u505a\u6cd5 \uff09\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a #define FRAME_SIZE 960 #define CHANNELS 1 #define MAX_FRAME_SIZE 6*960 opus_int16 in[FRAME_SIZE*CHANNELS]; unsigned char pcm_bytes[MAX_FRAME_SIZE*CHANNELS*2]; /* Convert from little-endian ordering. */ for (i=0;i<CHANNELS*FRAME_SIZE;i++) in[i]=pcm_bytes[2*i+1]<<8|pcm_bytes[2*i]; \u4e00\u822c\u76f4\u63a5\u5c06\u6307\u5411\u5b57\u8282\u6570\u7ec4\u7684\u6307\u9488\uff08char *\uff09\u8f6c\u6362\u4e3a\u6307\u5411int\u6216\u8005short\u7684\u6307\u9488\u5373\u53ef\u3002\u793a\u4f8b\u5982\u4e0b\uff1a unsigned short *short_buf = (unsigned short *)pcm_bytes; \u5982\u679c\u662f16bit\u91c7\u6837\uff0c\u90a3\u4e48\u4e00\u4e2a\u6837\u672c\u9700\u8981\u75282\u4e2a\u5b57\u8282\uff08short\uff09\u53bb\u5b58\u50a8\u3002 OPUS\u7684\u7f16\u7801\u51fd\u6570\u539f\u578b\u5982\u4e0b\u6240\u793a\uff1a opus_int32 opus_encode (OpusEncoder * st, const opus_int16 * pcm, int frame_size, unsigned char * data, opus_int32 max_data_bytes )","title":"1.2 \u5c0f\u7aef\u6a21\u5f0f"},{"location":"Multimedia/pcm/","text":"PCM\u97f3\u9891\u6587\u4ef6 # 1. What is PCM? # PCM(Pulse-code-modulation)\u662f\u6a21\u62df\u4fe1\u53f7\u4ee5\u56fa\u5b9a\u7684\u91c7\u6837\u9891\u7387\u8f6c\u6362\u6210\u6570\u5b57\u4fe1\u53f7\u540e\u7684\u8868\u73b0\u5f62\u5f0f\u3002 Sample Rate : \u91c7\u6837\u9891\u7387\u5355\u4f4d\u4e3a\uff1aHz\u3002\u91c7\u6837\u9891\u7387\u8d8a\u9ad8\uff0c\u97f3\u9891\u8d28\u91cf\u8d8a\u597d\uff0c\u5360\u7528\u7a7a\u95f4\u4e5f\u8d8a\u5927\u3002 Sign : \u97f3\u9891\u6570\u636e\u662f\u5426\u662f\u6709\u7b26\u53f7\u7684\u3002\u901a\u5e38\u60c5\u51b5\u4e0b\u90fd\u662f\u6709\u7b26\u53f7\u7684\u3002\u82e5\u662f\u5c06\u6709\u7b26\u53f7\u7684\u6570\u636e\u5f53\u505a\u65e0\u7b26\u53f7\u7684\u6570\u636e\u6765\u5904\u7406\u5c06\u4f1a\u4f7f\u58f0\u97f3\u542c\u6765\u5f88\u523a Sample Size : \u8868\u793a\u6bcf\u4e00\u4e2a\u91c7\u6837\u6570\u636e\u7684\u5927\u5c0f\u3002\u901a\u5e38\u8be5\u503c\u4e3a16-bit\u3002 Byte Ordering : \u5b57\u8282\u5e8f\u6307\u7684\u662flittle-endian\u8fd8\u662fbig-endian\u3002\u8868\u793a\u97f3\u9891\u6570\u636e\u7684\u5b58\u50a8\u5b57\u8282\u5e8f\u3002\u901a\u5e38\u5747\u4e3alittle-endian\u3002 Number of Channels : \u6807\u8bc6\u97f3\u9891\u662f\u5355\u58f0\u9053(mono\uff0c1 channel)\u8fd8\u662f\u7acb\u4f53\u58f0(stereo\uff0c2 channels)\u3002 \u901a\u8fc7\u4ee5\u4e0a\u4e94\u4e2a\u6570\u636e\u6211\u4eec\u5c31\u53ef\u4ee5\u63cf\u8ff0\u4e00\u4e2aPCM\u6570\u636e\uff0c\u64ad\u653e\u4e00\u4e2aPCM\u6570\u636e\u9700\u8981\u7684\u5c31\u662f\u4ee5\u4e0a\u4e94\u4e2a\u6570\u636e\u3002 2. What does a PCM stream look like? # \u5355\u58f0\u9053\uff1a \u6bcf\u4e2a\u6574\u6570\u5360\u636e2\u4e2a\u5b57\u8282(16-bit)\uff0c9\u4e2a\u91c7\u6837\u4e5f\u5c31\u662f18\u5b57\u8282\u7684\u6570\u636e\u3002\u6bcf\u4e2a\u91c7\u6837\u7684\u6574\u6570\u5927\u5c0f\u6700\u5c0f\u4e3a -32768\uff0c\u6700\u5927\u4e3a 32768 \u3002\u6839\u636e\u91c7\u6837\u6570\u636e\u7684\u4f4d\u7f6e\u548c\u503c\u753b\u4e00\u4e2a\u56fe\u7684\u8bdd\uff0c\u5c31\u4f1a\u5f97\u5230\u50cf\u64ad\u653e\u5668\u4e0a\u90a3\u6837\u7684\u6ce2\u6d6a\u5f62\u56fe\u3002 \u6211\u4eec\u53ef\u4ee5\u50cf\u4e0b\u9762\u4f2a\u4ee3\u7801\u793a\u4f8b\u8fd9\u6837\u5c06\u6570\u636e\u8bfb\u5165\u4e00\u4e2aC\u8bed\u8a00\u6570\u7ec4 : FILE *pcmfile int16_t *pcmdata; pcmfile = fopen(your pcm data file); pcmdata = malloc(size of the file); fread(pcmdata, sizeof(int16_t), size of file / sizeof(int16_t), pcmfile); \u5982\u679c\u6211\u4eec\u5c06\u8fd9\u4e9b\u6570\u636e\u9001\u5165\u58f0\u5361\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u542c\u5230\u58f0\u97f3\u3002\u5f53\u7136\u6211\u4eec\u9700\u8981\u544a\u8bc9\u58f0\u5361\u8fd9\u4e9b\u6570\u636e\u7684\u91c7\u6837\u7387\u3002\u82e5\u6211\u4eec\u544a\u77e5\u58f0\u5361\u7684\u91c7\u6837\u7387\u5927\u4e8e\u6570\u636e\u672c\u8eab\u7684\u91c7\u6837\u7387\uff0c\u90a3\u4e48\u8fd9\u4e9b\u6570\u636e\u7684\u64ad\u653e\u901f\u5ea6\u4f1a\u9ad8\u4e8e\u5176\u539f\u59cb\u7684\u901f\u5ea6\u3002\u5c31\u662f\u5feb\u653e\u7684\u529f\u80fd\u3002 \u7acb\u4f53\u58f0\uff1a \u6bcf\u4e00\u4e2aframe\u662f\u4e00\u4e2a16-bit\u7684\u91c7\u6837\u70b9\u3002\u5de6\u53f3\u58f0\u9053\u7684\u6570\u636e\u4ea4\u53c9\u5b58\u653e\u3002","title":"PCM"},{"location":"Multimedia/pcm/#pcm","text":"","title":"PCM\u97f3\u9891\u6587\u4ef6"},{"location":"Multimedia/pcm/#1-what-is-pcm","text":"PCM(Pulse-code-modulation)\u662f\u6a21\u62df\u4fe1\u53f7\u4ee5\u56fa\u5b9a\u7684\u91c7\u6837\u9891\u7387\u8f6c\u6362\u6210\u6570\u5b57\u4fe1\u53f7\u540e\u7684\u8868\u73b0\u5f62\u5f0f\u3002 Sample Rate : \u91c7\u6837\u9891\u7387\u5355\u4f4d\u4e3a\uff1aHz\u3002\u91c7\u6837\u9891\u7387\u8d8a\u9ad8\uff0c\u97f3\u9891\u8d28\u91cf\u8d8a\u597d\uff0c\u5360\u7528\u7a7a\u95f4\u4e5f\u8d8a\u5927\u3002 Sign : \u97f3\u9891\u6570\u636e\u662f\u5426\u662f\u6709\u7b26\u53f7\u7684\u3002\u901a\u5e38\u60c5\u51b5\u4e0b\u90fd\u662f\u6709\u7b26\u53f7\u7684\u3002\u82e5\u662f\u5c06\u6709\u7b26\u53f7\u7684\u6570\u636e\u5f53\u505a\u65e0\u7b26\u53f7\u7684\u6570\u636e\u6765\u5904\u7406\u5c06\u4f1a\u4f7f\u58f0\u97f3\u542c\u6765\u5f88\u523a Sample Size : \u8868\u793a\u6bcf\u4e00\u4e2a\u91c7\u6837\u6570\u636e\u7684\u5927\u5c0f\u3002\u901a\u5e38\u8be5\u503c\u4e3a16-bit\u3002 Byte Ordering : \u5b57\u8282\u5e8f\u6307\u7684\u662flittle-endian\u8fd8\u662fbig-endian\u3002\u8868\u793a\u97f3\u9891\u6570\u636e\u7684\u5b58\u50a8\u5b57\u8282\u5e8f\u3002\u901a\u5e38\u5747\u4e3alittle-endian\u3002 Number of Channels : \u6807\u8bc6\u97f3\u9891\u662f\u5355\u58f0\u9053(mono\uff0c1 channel)\u8fd8\u662f\u7acb\u4f53\u58f0(stereo\uff0c2 channels)\u3002 \u901a\u8fc7\u4ee5\u4e0a\u4e94\u4e2a\u6570\u636e\u6211\u4eec\u5c31\u53ef\u4ee5\u63cf\u8ff0\u4e00\u4e2aPCM\u6570\u636e\uff0c\u64ad\u653e\u4e00\u4e2aPCM\u6570\u636e\u9700\u8981\u7684\u5c31\u662f\u4ee5\u4e0a\u4e94\u4e2a\u6570\u636e\u3002","title":"1. What is PCM?"},{"location":"Multimedia/pcm/#2-what-does-a-pcm-stream-look-like","text":"\u5355\u58f0\u9053\uff1a \u6bcf\u4e2a\u6574\u6570\u5360\u636e2\u4e2a\u5b57\u8282(16-bit)\uff0c9\u4e2a\u91c7\u6837\u4e5f\u5c31\u662f18\u5b57\u8282\u7684\u6570\u636e\u3002\u6bcf\u4e2a\u91c7\u6837\u7684\u6574\u6570\u5927\u5c0f\u6700\u5c0f\u4e3a -32768\uff0c\u6700\u5927\u4e3a 32768 \u3002\u6839\u636e\u91c7\u6837\u6570\u636e\u7684\u4f4d\u7f6e\u548c\u503c\u753b\u4e00\u4e2a\u56fe\u7684\u8bdd\uff0c\u5c31\u4f1a\u5f97\u5230\u50cf\u64ad\u653e\u5668\u4e0a\u90a3\u6837\u7684\u6ce2\u6d6a\u5f62\u56fe\u3002 \u6211\u4eec\u53ef\u4ee5\u50cf\u4e0b\u9762\u4f2a\u4ee3\u7801\u793a\u4f8b\u8fd9\u6837\u5c06\u6570\u636e\u8bfb\u5165\u4e00\u4e2aC\u8bed\u8a00\u6570\u7ec4 : FILE *pcmfile int16_t *pcmdata; pcmfile = fopen(your pcm data file); pcmdata = malloc(size of the file); fread(pcmdata, sizeof(int16_t), size of file / sizeof(int16_t), pcmfile); \u5982\u679c\u6211\u4eec\u5c06\u8fd9\u4e9b\u6570\u636e\u9001\u5165\u58f0\u5361\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u542c\u5230\u58f0\u97f3\u3002\u5f53\u7136\u6211\u4eec\u9700\u8981\u544a\u8bc9\u58f0\u5361\u8fd9\u4e9b\u6570\u636e\u7684\u91c7\u6837\u7387\u3002\u82e5\u6211\u4eec\u544a\u77e5\u58f0\u5361\u7684\u91c7\u6837\u7387\u5927\u4e8e\u6570\u636e\u672c\u8eab\u7684\u91c7\u6837\u7387\uff0c\u90a3\u4e48\u8fd9\u4e9b\u6570\u636e\u7684\u64ad\u653e\u901f\u5ea6\u4f1a\u9ad8\u4e8e\u5176\u539f\u59cb\u7684\u901f\u5ea6\u3002\u5c31\u662f\u5feb\u653e\u7684\u529f\u80fd\u3002 \u7acb\u4f53\u58f0\uff1a \u6bcf\u4e00\u4e2aframe\u662f\u4e00\u4e2a16-bit\u7684\u91c7\u6837\u70b9\u3002\u5de6\u53f3\u58f0\u9053\u7684\u6570\u636e\u4ea4\u53c9\u5b58\u653e\u3002","title":"2. What does a PCM stream look like?"},{"location":"Multimedia/wav_foramt/","text":"WAV\u683c\u5f0f\u7b80\u4ecb # WAV = PCM\u6570\u636e + WAV\u6587\u4ef6\u5934 \u6570\u636e\u5757\u7684\u8bb0\u5f55\u65b9\u5f0f\u662flittle-endian\u5b57\u8282\u987a\u5e8f WAV\u5934\u683c\u5f0f\u5982\u4e0b\uff1a offset address size type content 00H~03H 4 char \u8d44\u6e90\u4ea4\u6362\u6587\u4ef6\u6807\u5fd7\uff08RIFF\uff09 04H~07H 4 int32 \u4ece\u4e0b\u4e2a\u5730\u5740\u5f00\u59cb\u5230\u6587\u4ef6\u5c3e\u7684\u603b\u5b57\u8282\u6570 08H~0BH 4 char WAV\u6587\u4ef6\u6807\u5fd7\uff08WAVE\uff09 0CH~0FH 4 char \u6ce2\u5f62\u683c\u5f0f\u6807\u5fd7\uff08fmt \uff09\uff0c\u6700\u540e\u4e00\u4f4d\u7a7a\u683c\u3002 10H~13H 4 int32 \u8fc7\u6ee4\u5b57\u8282\uff08\u4e00\u822c\u4e3a00000010H\uff09\uff0c\u82e5\u4e3a00000012H\u5219\u8bf4\u660e\u6570\u636e\u5934\u643a\u5e26\u9644\u52a0\u4fe1\u606f\uff08\u89c1\u201c\u9644\u52a0\u4fe1\u606f\u201d\uff09\u3002 14H~15H 2 int16 \u683c\u5f0f\u79cd\u7c7b\uff08\u503c\u4e3a1\u65f6\uff0c\u8868\u793a\u6570\u636e\u4e3a\u7ebf\u6027PCM\u7f16\u7801\uff09 16H~17H 2 int16 \u901a\u9053\u6570\uff0c\u5355\u58f0\u9053\u4e3a1\uff0c\u53cc\u58f0\u9053\u4e3a2 18H~1BH 4 int32 \u91c7\u6837\u9891\u7387 1CH~1FH 4 int32 \u6ce2\u5f62\u6570\u636e\u4f20\u8f93\u901f\u7387\uff08\u6bcf\u79d2\u5e73\u5747\u5b57\u8282\u6570\uff09 20H~21H 2 int16 DATA\u6570\u636e\u5757\u957f\u5ea6\uff0c\u5b57\u8282\u3002 22H~23H 2 int16 PCM\u4f4d\u5bbd \u968f\u540e2\u5b57\u8282 2 int16 \u9644\u52a0\u4fe1\u606f\uff08\u53ef\u9009\uff0c\u7531\u4e0a\u65b9\u8fc7\u6ee4\u5b57\u8282\u786e\u5b9a\uff09 \u968f\u540e ... \u4e0d\u5b9a\u957f\u5ea6\u5b57\u7b26 \u201cfact\u201d,\u8be5\u90e8\u5206\u662f\u53ef\u9009\u90e8\u5206\uff0c\u4e00\u822c\u5f53WAV\u6587\u4ef6\u662f\u7531\u67d0\u4e9b\u8f6f\u4ef6\u8f6c\u6362\u800c\u6765\u65f6\uff0c\u5305\u542b\u8be5\u90e8\u5206\u3002\u82e5\u5305\u542b\u8be5\u90e8\u5206\uff1a\uff081\uff09\u8be5\u90e8\u5206\u7684\u524d4\u5b57\u8282\u4e3a\u6570\u636e\u5934\uff0c\u4e00\u822c\u4e3a4\u4e2a\u5b57\u6bcd\u3002\uff082\uff09\u968f\u540e4\u4e2a\u5b57\u8282\u8868\u793a\u957f\u5ea6\uff0c\u5373\u9664\u53bb\u5934\uff084\u5b57\u8282\uff09\u548c\u957f\u5ea6\uff084\u5b57\u8282\uff09\u4e4b\u540e\uff0c\u6570\u636e\u672c\u8eab\u7684\u957f\u5ea6\u3002\uff083\uff09\u6700\u540e\u7684\u5b57\u8282\u4e3a\u6570\u636e\u672c\u8eab\u3002\u4f8b\u5982\uff1a\u201c66 61 73 74 04 00 00 00F8 2F 14 00\u201d \u3002\u201c66 61 73 74\u201d\u662ffact\u5b57\u6bb5\u7684\u6570\u636e\u5934\uff0c\u201c04 00 00 00\u201d\u662f\u6570\u636e\u672c\u8eab\u7684\u957f\u5ea6\uff0c\u201cF8 2F 14 00\u201d\u662f\u6570\u636e\u672c\u8eab\u3002\uff08\u6ce8\u610f\u662flittle-endian\u5b57\u8282\u987a\u5e8f\uff09 \u968f\u540e4\u5b57\u8282 4 cahr \u6570\u636e\u6807\u5fd7\u7b26\uff08data\uff09 \u968f\u540e4\u5b57\u8282 4 int32 DATA\u603b\u6570\u636e\u957f\u5ea6\u5b57\u8282 \u968f\u540e ... DATA\u6570\u636e\u5757 \u793a\u4f8b","title":"WAV"},{"location":"Multimedia/wav_foramt/#wav","text":"WAV = PCM\u6570\u636e + WAV\u6587\u4ef6\u5934 \u6570\u636e\u5757\u7684\u8bb0\u5f55\u65b9\u5f0f\u662flittle-endian\u5b57\u8282\u987a\u5e8f WAV\u5934\u683c\u5f0f\u5982\u4e0b\uff1a offset address size type content 00H~03H 4 char \u8d44\u6e90\u4ea4\u6362\u6587\u4ef6\u6807\u5fd7\uff08RIFF\uff09 04H~07H 4 int32 \u4ece\u4e0b\u4e2a\u5730\u5740\u5f00\u59cb\u5230\u6587\u4ef6\u5c3e\u7684\u603b\u5b57\u8282\u6570 08H~0BH 4 char WAV\u6587\u4ef6\u6807\u5fd7\uff08WAVE\uff09 0CH~0FH 4 char \u6ce2\u5f62\u683c\u5f0f\u6807\u5fd7\uff08fmt \uff09\uff0c\u6700\u540e\u4e00\u4f4d\u7a7a\u683c\u3002 10H~13H 4 int32 \u8fc7\u6ee4\u5b57\u8282\uff08\u4e00\u822c\u4e3a00000010H\uff09\uff0c\u82e5\u4e3a00000012H\u5219\u8bf4\u660e\u6570\u636e\u5934\u643a\u5e26\u9644\u52a0\u4fe1\u606f\uff08\u89c1\u201c\u9644\u52a0\u4fe1\u606f\u201d\uff09\u3002 14H~15H 2 int16 \u683c\u5f0f\u79cd\u7c7b\uff08\u503c\u4e3a1\u65f6\uff0c\u8868\u793a\u6570\u636e\u4e3a\u7ebf\u6027PCM\u7f16\u7801\uff09 16H~17H 2 int16 \u901a\u9053\u6570\uff0c\u5355\u58f0\u9053\u4e3a1\uff0c\u53cc\u58f0\u9053\u4e3a2 18H~1BH 4 int32 \u91c7\u6837\u9891\u7387 1CH~1FH 4 int32 \u6ce2\u5f62\u6570\u636e\u4f20\u8f93\u901f\u7387\uff08\u6bcf\u79d2\u5e73\u5747\u5b57\u8282\u6570\uff09 20H~21H 2 int16 DATA\u6570\u636e\u5757\u957f\u5ea6\uff0c\u5b57\u8282\u3002 22H~23H 2 int16 PCM\u4f4d\u5bbd \u968f\u540e2\u5b57\u8282 2 int16 \u9644\u52a0\u4fe1\u606f\uff08\u53ef\u9009\uff0c\u7531\u4e0a\u65b9\u8fc7\u6ee4\u5b57\u8282\u786e\u5b9a\uff09 \u968f\u540e ... \u4e0d\u5b9a\u957f\u5ea6\u5b57\u7b26 \u201cfact\u201d,\u8be5\u90e8\u5206\u662f\u53ef\u9009\u90e8\u5206\uff0c\u4e00\u822c\u5f53WAV\u6587\u4ef6\u662f\u7531\u67d0\u4e9b\u8f6f\u4ef6\u8f6c\u6362\u800c\u6765\u65f6\uff0c\u5305\u542b\u8be5\u90e8\u5206\u3002\u82e5\u5305\u542b\u8be5\u90e8\u5206\uff1a\uff081\uff09\u8be5\u90e8\u5206\u7684\u524d4\u5b57\u8282\u4e3a\u6570\u636e\u5934\uff0c\u4e00\u822c\u4e3a4\u4e2a\u5b57\u6bcd\u3002\uff082\uff09\u968f\u540e4\u4e2a\u5b57\u8282\u8868\u793a\u957f\u5ea6\uff0c\u5373\u9664\u53bb\u5934\uff084\u5b57\u8282\uff09\u548c\u957f\u5ea6\uff084\u5b57\u8282\uff09\u4e4b\u540e\uff0c\u6570\u636e\u672c\u8eab\u7684\u957f\u5ea6\u3002\uff083\uff09\u6700\u540e\u7684\u5b57\u8282\u4e3a\u6570\u636e\u672c\u8eab\u3002\u4f8b\u5982\uff1a\u201c66 61 73 74 04 00 00 00F8 2F 14 00\u201d \u3002\u201c66 61 73 74\u201d\u662ffact\u5b57\u6bb5\u7684\u6570\u636e\u5934\uff0c\u201c04 00 00 00\u201d\u662f\u6570\u636e\u672c\u8eab\u7684\u957f\u5ea6\uff0c\u201cF8 2F 14 00\u201d\u662f\u6570\u636e\u672c\u8eab\u3002\uff08\u6ce8\u610f\u662flittle-endian\u5b57\u8282\u987a\u5e8f\uff09 \u968f\u540e4\u5b57\u8282 4 cahr \u6570\u636e\u6807\u5fd7\u7b26\uff08data\uff09 \u968f\u540e4\u5b57\u8282 4 int32 DATA\u603b\u6570\u636e\u957f\u5ea6\u5b57\u8282 \u968f\u540e ... DATA\u6570\u636e\u5757 \u793a\u4f8b","title":"WAV\u683c\u5f0f\u7b80\u4ecb"},{"location":"Multimedia/yuv/","text":"\u4e00\u6587\u8bfb\u61c2YUV\u91c7\u6837\u539f\u7406 # 1.\u989c\u8272\u7f16\u7801\u65b9\u5f0f\uff1aRGB # 2.\u989c\u8272\u7f16\u7801\u65b9\u5f0f\uff1aYUV # \u4ece\u7535\u89c6\u7cfb\u7edf\u4e2d\u884d\u751f\u7684\uff0c\u9ed1\u767d\u7535\u89c6\u4f7f\u7528\u7684\u5c31\u662fY\u6570\u636e\uff08\u660e\u4eae\u503c\uff09\uff0c\u540e\u6765\u51fa\u73b0\u4e86\u5f69\u8272\u683c\u5f0f\uff0c\u7535\u89c6\u8282\u76ee\u65e2\u9700\u8981\u5728\u9ed1\u767d\u7535\u89c6\u4e0a\u64ad\u653e\uff0c\u53c8\u9700\u8981\u5728\u5f69\u8272\u7535\u89c6\u4e0a\u64ad\u653e\uff0c\u5c31\u9700\u8981\u505a\u683c\u5f0f\u517c\u5bb9\uff0c\u65b9\u6cd5\u5c31\u662f\u589e\u52a0U\u548cV\u5206\u91cf\uff0cU\u548cV\u8868\u793a\u7684\u662f\u8272\u5ea6\uff0c\u8d77\u4f5c\u7528\u662f\u63cf\u8ff0\u5f71\u50cf\u7684\u8272\u5f69\u53ca\u9971\u548c\u5ea6\uff0c\u5b83\u4eec\u7528\u4e8e\u6307\u5b9a\u50cf\u7d20\u7684\u989c\u8272\u3002 \u6444\u50cf\u673a\u5f55\u51fa\u6765\u7684\u6570\u636e\u5c31\u662fYUV 2.YUV\u91c7\u6837\u683c\u5f0f # \u53c2\u8003\u94fe\u63a5 3.YUV\u5b58\u50a8\u683c\u5f0f # plannar \u5e73\u9762\u683c\u5f0f \u5148\u8fde\u7eed\u5b58\u50a8\u6240\u6709\u50cf\u7d20\u70b9\u7684Y\u5206\u91cf\uff0c\u7136\u540e\u5b58\u50a8\u6240\u6709\u7684U\u5206\u91cf\uff0c\u6700\u540e\u5b58\u50a8\u6240\u6709\u7684V\u5206\u91cf packed \u6253\u5305\u683c\u5f0f \u6bcf\u4e2a\u50cf\u7d20\u70b9\u7684Y\u3001U\u3001V\u5206\u91cf\u662f\u8fde\u7eed\u4ea4\u66ff\u5b58\u50a8\u7684","title":"\u5f7b\u5e95\u7406\u89e3YUV\u683c\u5f0f"},{"location":"Multimedia/yuv/#yuv","text":"","title":"\u4e00\u6587\u8bfb\u61c2YUV\u91c7\u6837\u539f\u7406"},{"location":"Multimedia/yuv/#1rgb","text":"","title":"1.\u989c\u8272\u7f16\u7801\u65b9\u5f0f\uff1aRGB"},{"location":"Multimedia/yuv/#2yuv","text":"\u4ece\u7535\u89c6\u7cfb\u7edf\u4e2d\u884d\u751f\u7684\uff0c\u9ed1\u767d\u7535\u89c6\u4f7f\u7528\u7684\u5c31\u662fY\u6570\u636e\uff08\u660e\u4eae\u503c\uff09\uff0c\u540e\u6765\u51fa\u73b0\u4e86\u5f69\u8272\u683c\u5f0f\uff0c\u7535\u89c6\u8282\u76ee\u65e2\u9700\u8981\u5728\u9ed1\u767d\u7535\u89c6\u4e0a\u64ad\u653e\uff0c\u53c8\u9700\u8981\u5728\u5f69\u8272\u7535\u89c6\u4e0a\u64ad\u653e\uff0c\u5c31\u9700\u8981\u505a\u683c\u5f0f\u517c\u5bb9\uff0c\u65b9\u6cd5\u5c31\u662f\u589e\u52a0U\u548cV\u5206\u91cf\uff0cU\u548cV\u8868\u793a\u7684\u662f\u8272\u5ea6\uff0c\u8d77\u4f5c\u7528\u662f\u63cf\u8ff0\u5f71\u50cf\u7684\u8272\u5f69\u53ca\u9971\u548c\u5ea6\uff0c\u5b83\u4eec\u7528\u4e8e\u6307\u5b9a\u50cf\u7d20\u7684\u989c\u8272\u3002 \u6444\u50cf\u673a\u5f55\u51fa\u6765\u7684\u6570\u636e\u5c31\u662fYUV","title":"2.\u989c\u8272\u7f16\u7801\u65b9\u5f0f\uff1aYUV"},{"location":"Multimedia/yuv/#2yuv_1","text":"\u53c2\u8003\u94fe\u63a5","title":"2.YUV\u91c7\u6837\u683c\u5f0f"},{"location":"Multimedia/yuv/#3yuv","text":"plannar \u5e73\u9762\u683c\u5f0f \u5148\u8fde\u7eed\u5b58\u50a8\u6240\u6709\u50cf\u7d20\u70b9\u7684Y\u5206\u91cf\uff0c\u7136\u540e\u5b58\u50a8\u6240\u6709\u7684U\u5206\u91cf\uff0c\u6700\u540e\u5b58\u50a8\u6240\u6709\u7684V\u5206\u91cf packed \u6253\u5305\u683c\u5f0f \u6bcf\u4e2a\u50cf\u7d20\u70b9\u7684Y\u3001U\u3001V\u5206\u91cf\u662f\u8fde\u7eed\u4ea4\u66ff\u5b58\u50a8\u7684","title":"3.YUV\u5b58\u50a8\u683c\u5f0f"},{"location":"Multimedia/AliyunVOD/get_play_url/","text":"\u83b7\u53d6\u64ad\u653eURL # 1. \u5f00\u901a\u963f\u91cc\u4e91\u70b9\u64ad\u670d\u52a1 # \u5f00\u59cb\u4f7f\u7528\u89c6\u9891\u70b9\u64ad \u6839\u636e\u4e0a\u9762\u6587\u6863\u7684\u63d0\u793a\u4e0a\u4f20\u89c6\u9891 2.\u83b7\u53d6AccessKey # \u767b\u5f55\u963f\u91cc\u4e91\u540e\uff0c\u9f20\u6807\u79fb\u52a8\u5230\u7528\u6237\u5934\u50cf\u70b9\u51fbAccessKey -> \u65b0\u5efa 3.\u4f7f\u7528\u4ee3\u7801\u83b7\u53d6\u64ad\u653eURL # \u987b\u901a\u8fc7HTTP GET\u8bf7\u6c42\u5e76\u4f20\u9012\u76f8\u5e94\u53c2\u6570\u624d\u80fd\u83b7\u53d6\u5230\u64ad\u653eURL\uff0c\u5e76\u4e14\u53c2\u6570\u9700\u8981\u8ba1\u7b97\uff0c\u6240\u4ee5\u4f7f\u7528\u4ee3\u7801\u8fdb\u884c\u83b7\u53d6\u6bd4\u8f83\u65b9\u4fbf\u3002 \u5b98\u65b9\u8c03\u7528\u793a\u4f8b 3.1 \u8bf4\u660e # access_key_id\u548caccess_key_secret\u4e3a\u5fc5\u987b\u9879 Action \u7684\u503c\u6839\u636e\u9700\u6c42\u6539\u53d8\uff0c\u6b64\u5904\u4f7f\u7528GetPlayInfo\uff08\u83b7\u53d6\u64ad\u653eURL\uff09 Key Value Meaning Action GetPlayInfo \u83b7\u53d6\u64ad\u653eURL Action GetVideoPlayAuth \u4e0b\u9762\u662f\u5b98\u65b9\u4ee3\u7801\uff08\u4fee\u6539\u4e86Action\u7684\u503c\uff09 <dependency> <groupId>org.apache.httpcomponents</groupId> <artifactId>httpclient</artifactId> <version>4.5.1</version> </dependency> import org.apache.http.HttpResponse; import org.apache.http.client.ClientProtocolException; import org.apache.http.client.config.RequestConfig; import org.apache.http.client.methods.HttpGet; import org.apache.http.impl.client.CloseableHttpClient; import org.apache.http.impl.client.HttpClients; import org.apache.http.util.EntityUtils; import sun.misc.BASE64Encoder; import javax.crypto.Mac; import javax.crypto.spec.SecretKeySpec; import java.io.IOException; import java.io.UnsupportedEncodingException; import java.net.URI; import java.net.URISyntaxException; import java.net.URLEncoder; import java.security.SignatureException; import java.text.SimpleDateFormat; import java.util.*; import java.util.logging.Logger; /** * \u89c6\u9891\u70b9\u64adOpenAPI\u8c03\u7528\u793a\u4f8b * \u4ee5GetVideoPlayAuth\u63a5\u53e3\u4e3a\u4f8b\uff0c\u5176\u4ed6\u63a5\u53e3\u8bf7\u66ff\u6362\u76f8\u5e94\u63a5\u53e3\u540d\u79f0\u53ca\u79c1\u6709\u53c2\u6570 */ public class Main { //\u8d26\u53f7AccessKey\u4fe1\u606f\u8bf7\u586b\u5199(\u5fc5\u9009) private static String access_key_id = \"\"; //\u8d26\u53f7AccessKey\u4fe1\u606f\u8bf7\u586b\u5199(\u5fc5\u9009) private static String access_key_secret = \"\"; //STS\u4e34\u65f6\u6388\u6743\u65b9\u5f0f\u8bbf\u95ee\u65f6\u8be5\u53c2\u6570\u4e3a\u5fc5\u9009\uff0c\u4f7f\u7528\u4e3b\u8d26\u53f7AccessKey\u548cRAM\u5b50\u8d26\u53f7AccessKey\u4e0d\u9700\u8981\u586b\u5199 private static String security_token = \"\"; //\u4ee5\u4e0b\u53c2\u6570\u4e0d\u9700\u8981\u4fee\u6539 private final static String VOD_DOMAIN = \"http://vod.cn-shanghai.aliyuncs.com\"; private final static String ISO8601_DATE_FORMAT = \"yyyy-MM-dd'T'HH:mm:ss'Z'\"; private final static String HTTP_METHOD = \"GET\"; private final static String HMAC_SHA1_ALGORITHM = \"HmacSHA1\"; private final static String UTF_8 = \"utf-8\"; private final static Logger LOG = Logger.getLogger(Main.class.getName()); public static void main(String[] args) throws Exception { //\u751f\u6210\u79c1\u6709\u53c2\u6570\uff0c\u4e0d\u540cAPI\u9700\u8981\u4fee\u6539 Map<String, String> privateParams = generatePrivateParamters(); //\u751f\u6210\u516c\u5171\u53c2\u6570\uff0c\u4e0d\u9700\u8981\u4fee\u6539 Map<String, String> publicParams = generatePublicParamters(); //\u751f\u6210OpenAPI\u5730\u5740\uff0c\u4e0d\u9700\u8981\u4fee\u6539 String URL = generateOpenAPIURL(publicParams, privateParams); //\u53d1\u9001HTTP GET \u8bf7\u6c42 httpGet(URL); } /** * \u751f\u6210\u89c6\u9891\u70b9\u64adOpenAPI\u79c1\u6709\u53c2\u6570 * \u4e0d\u540cAPI\u9700\u8981\u4fee\u6539\u6b64\u65b9\u6cd5\u4e2d\u7684\u53c2\u6570 * @return */ private static Map<String, String> generatePrivateParamters() { // \u63a5\u53e3\u79c1\u6709\u53c2\u6570\u5217\u8868, \u4e0d\u540cAPI\u8bf7\u66ff\u6362\u76f8\u5e94\u53c2\u6570 Map<String, String> privateParams = new HashMap<String, String>(); // \u89c6\u9891ID privateParams.put(\"VideoId\",\"24c5334a35a841f099456f2b39108b8e\"); // API\u540d\u79f0 privateParams.put(\"Action\", \"GetPlayInfo\"); return privateParams; } /** * \u751f\u6210\u89c6\u9891\u70b9\u64adOpenAPI\u516c\u5171\u53c2\u6570 * \u4e0d\u9700\u8981\u4fee\u6539 * @return */ private static Map<String, String> generatePublicParamters() { Map<String, String> publicParams = new HashMap<String, String>(); publicParams.put(\"Format\", \"JSON\"); publicParams.put(\"Version\", \"2017-03-21\"); publicParams.put(\"AccessKeyId\", access_key_id); publicParams.put(\"SignatureMethod\", \"HMAC-SHA1\"); publicParams.put(\"Timestamp\", generateTimestamp()); publicParams.put(\"SignatureVersion\", \"1.0\"); publicParams.put(\"SignatureNonce\", generateRandom()); if (security_token != null && security_token.length() > 0) { publicParams.put(\"SecurityToken\", security_token); } return publicParams; } /** * \u751f\u6210OpenAPI\u5730\u5740 * @param privateParams * @return * @throws Exception */ private static String generateOpenAPIURL(Map<String, String> publicParams, Map<String, String> privateParams) { return generateURL(VOD_DOMAIN, HTTP_METHOD, publicParams, privateParams); } /** * @param domain \u8bf7\u6c42\u5730\u5740 * @param httpMethod HTTP\u8bf7\u6c42\u65b9\u5f0fGET\uff0cPOST\u7b49 * @param publicParams \u516c\u5171\u53c2\u6570 * @param privateParams \u63a5\u53e3\u7684\u79c1\u6709\u53c2\u6570 * @return \u6700\u540e\u7684url */ private static String generateURL(String domain, String httpMethod, Map<String, String> publicParams, Map<String, String> privateParams) { List<String> allEncodeParams = getAllParams(publicParams, privateParams); String cqsString = getCQS(allEncodeParams); out(\"CanonicalizedQueryString = \" + cqsString); String stringToSign = httpMethod + \"&\" + percentEncode(\"/\") + \"&\" + percentEncode(cqsString); out(\"StringtoSign = \" + stringToSign); String signature = hmacSHA1Signature(access_key_secret, stringToSign); out(\"Signature = \" + signature); return domain + \"?\" + cqsString + \"&\" + percentEncode(\"Signature\") + \"=\" + percentEncode(signature); } private static List<String> getAllParams(Map<String, String> publicParams, Map<String, String> privateParams) { List<String> encodeParams = new ArrayList<String>(); if (publicParams != null) { for (String key : publicParams.keySet()) { String value = publicParams.get(key); //\u5c06\u53c2\u6570\u548c\u503c\u90fdurlEncode\u4e00\u4e0b\u3002 String encodeKey = percentEncode(key); String encodeVal = percentEncode(value); encodeParams.add(encodeKey + \"=\" + encodeVal); } } if (privateParams != null) { for (String key : privateParams.keySet()) { String value = privateParams.get(key); //\u5c06\u53c2\u6570\u548c\u503c\u90fdurlEncode\u4e00\u4e0b\u3002 String encodeKey = percentEncode(key); String encodeVal = percentEncode(value); encodeParams.add(encodeKey + \"=\" + encodeVal); } } return encodeParams; } /** * \u53c2\u6570urlEncode * * @param value * @return */ private static String percentEncode(String value) { try { String urlEncodeOrignStr = URLEncoder.encode(value, \"UTF-8\"); String plusReplaced = urlEncodeOrignStr.replace(\"+\", \"%20\"); String starReplaced = plusReplaced.replace(\"*\", \"%2A\"); String waveReplaced = starReplaced.replace(\"%7E\", \"~\"); return waveReplaced; } catch (UnsupportedEncodingException e) { e.printStackTrace(); } return value; } /** * \u83b7\u53d6CQS \u7684\u5b57\u7b26\u4e32 * * @param allParams * @return */ private static String getCQS(List<String> allParams) { ParamsComparator paramsComparator = new ParamsComparator(); Collections.sort(allParams, paramsComparator); String cqString = \"\"; for (int i = 0; i < allParams.size(); i++) { cqString += allParams.get(i); if (i != allParams.size() - 1) { cqString += \"&\"; } } return cqString; } private static class ParamsComparator implements Comparator<String> { public int compare(String lhs, String rhs) { return lhs.compareTo(rhs); } } private static String hmacSHA1Signature(String accessKeySecret, String stringtoSign) { try { String key = accessKeySecret + \"&\"; try { SecretKeySpec signKey = new SecretKeySpec(key.getBytes(), HMAC_SHA1_ALGORITHM); Mac mac = Mac.getInstance(HMAC_SHA1_ALGORITHM); mac.init(signKey); byte[] rawHmac = mac.doFinal(stringtoSign.getBytes()); //\u6309\u7167Base64 \u7f16\u7801\u89c4\u5219\u628a\u4e0a\u9762\u7684 HMAC \u503c\u7f16\u7801\u6210\u5b57\u7b26\u4e32\uff0c\u5373\u5f97\u5230\u7b7e\u540d\u503c\uff08Signature\uff09 return new String(new BASE64Encoder().encode(rawHmac)); } catch (Exception e) { throw new SignatureException(\"Failed to generate HMAC : \" + e.getMessage()); } } catch (SignatureException e) { e.printStackTrace(); } return \"\"; } /** * \u751f\u6210\u968f\u673a\u6570 * * @return */ private static String generateRandom() { String signatureNonce = UUID.randomUUID().toString(); return signatureNonce; } /** * \u751f\u6210\u5f53\u524dUTC\u65f6\u95f4\u6233 * * @return */ public static String generateTimestamp() { Date date = new Date(System.currentTimeMillis()); SimpleDateFormat df = new SimpleDateFormat(ISO8601_DATE_FORMAT); df.setTimeZone(new SimpleTimeZone(0, \"GMT\")); return df.format(date); } private static String httpGet(String url) throws Exception { CloseableHttpClient httpClient = null; try { httpClient = HttpClients.createDefault(); HttpGet httpGet = new HttpGet(); httpGet.setURI(new URI(url)); RequestConfig requestConfig = RequestConfig.custom() .setConnectTimeout(3000) .setSocketTimeout(3000) .build(); httpGet.setConfig(requestConfig); HttpResponse result = httpClient.execute(httpGet); String str; try { /**\u8bfb\u53d6\u670d\u52a1\u5668\u8fd4\u56de\u8fc7\u6765\u7684json\u5b57\u7b26\u4e32\u6570\u636e**/ str = EntityUtils.toString(result.getEntity()); EntityUtils.consume(result.getEntity()); } catch (Exception e) { e.printStackTrace(); throw e; } out(str); // \u8fd9\u91cc\u53ef\u4ee5\u89e3\u6790\u89c6\u9891\u4e91\u70b9\u64ad\u670d\u52a1\u7aef\u7684\u54cd\u5e94\u7ed3\u679c return str; } catch (URISyntaxException e) { e.printStackTrace(); throw e; } catch (ClientProtocolException e) { e.printStackTrace(); throw e; } catch (IOException e) { e.printStackTrace(); throw e; } finally { try { if (httpClient != null) httpClient.close(); } catch (Exception e) { e.printStackTrace(); throw e; } } } private static void out(String newLine) { System.out.println(newLine); LOG.info(newLine); } }","title":"VOD"},{"location":"Multimedia/AliyunVOD/get_play_url/#url","text":"","title":"\u83b7\u53d6\u64ad\u653eURL"},{"location":"Multimedia/AliyunVOD/get_play_url/#1","text":"\u5f00\u59cb\u4f7f\u7528\u89c6\u9891\u70b9\u64ad \u6839\u636e\u4e0a\u9762\u6587\u6863\u7684\u63d0\u793a\u4e0a\u4f20\u89c6\u9891","title":"1. \u5f00\u901a\u963f\u91cc\u4e91\u70b9\u64ad\u670d\u52a1"},{"location":"Multimedia/AliyunVOD/get_play_url/#2accesskey","text":"\u767b\u5f55\u963f\u91cc\u4e91\u540e\uff0c\u9f20\u6807\u79fb\u52a8\u5230\u7528\u6237\u5934\u50cf\u70b9\u51fbAccessKey -> \u65b0\u5efa","title":"2.\u83b7\u53d6AccessKey"},{"location":"Multimedia/AliyunVOD/get_play_url/#3url","text":"\u987b\u901a\u8fc7HTTP GET\u8bf7\u6c42\u5e76\u4f20\u9012\u76f8\u5e94\u53c2\u6570\u624d\u80fd\u83b7\u53d6\u5230\u64ad\u653eURL\uff0c\u5e76\u4e14\u53c2\u6570\u9700\u8981\u8ba1\u7b97\uff0c\u6240\u4ee5\u4f7f\u7528\u4ee3\u7801\u8fdb\u884c\u83b7\u53d6\u6bd4\u8f83\u65b9\u4fbf\u3002 \u5b98\u65b9\u8c03\u7528\u793a\u4f8b","title":"3.\u4f7f\u7528\u4ee3\u7801\u83b7\u53d6\u64ad\u653eURL"},{"location":"Multimedia/AliyunVOD/get_play_url/#31","text":"access_key_id\u548caccess_key_secret\u4e3a\u5fc5\u987b\u9879 Action \u7684\u503c\u6839\u636e\u9700\u6c42\u6539\u53d8\uff0c\u6b64\u5904\u4f7f\u7528GetPlayInfo\uff08\u83b7\u53d6\u64ad\u653eURL\uff09 Key Value Meaning Action GetPlayInfo \u83b7\u53d6\u64ad\u653eURL Action GetVideoPlayAuth \u4e0b\u9762\u662f\u5b98\u65b9\u4ee3\u7801\uff08\u4fee\u6539\u4e86Action\u7684\u503c\uff09 <dependency> <groupId>org.apache.httpcomponents</groupId> <artifactId>httpclient</artifactId> <version>4.5.1</version> </dependency> import org.apache.http.HttpResponse; import org.apache.http.client.ClientProtocolException; import org.apache.http.client.config.RequestConfig; import org.apache.http.client.methods.HttpGet; import org.apache.http.impl.client.CloseableHttpClient; import org.apache.http.impl.client.HttpClients; import org.apache.http.util.EntityUtils; import sun.misc.BASE64Encoder; import javax.crypto.Mac; import javax.crypto.spec.SecretKeySpec; import java.io.IOException; import java.io.UnsupportedEncodingException; import java.net.URI; import java.net.URISyntaxException; import java.net.URLEncoder; import java.security.SignatureException; import java.text.SimpleDateFormat; import java.util.*; import java.util.logging.Logger; /** * \u89c6\u9891\u70b9\u64adOpenAPI\u8c03\u7528\u793a\u4f8b * \u4ee5GetVideoPlayAuth\u63a5\u53e3\u4e3a\u4f8b\uff0c\u5176\u4ed6\u63a5\u53e3\u8bf7\u66ff\u6362\u76f8\u5e94\u63a5\u53e3\u540d\u79f0\u53ca\u79c1\u6709\u53c2\u6570 */ public class Main { //\u8d26\u53f7AccessKey\u4fe1\u606f\u8bf7\u586b\u5199(\u5fc5\u9009) private static String access_key_id = \"\"; //\u8d26\u53f7AccessKey\u4fe1\u606f\u8bf7\u586b\u5199(\u5fc5\u9009) private static String access_key_secret = \"\"; //STS\u4e34\u65f6\u6388\u6743\u65b9\u5f0f\u8bbf\u95ee\u65f6\u8be5\u53c2\u6570\u4e3a\u5fc5\u9009\uff0c\u4f7f\u7528\u4e3b\u8d26\u53f7AccessKey\u548cRAM\u5b50\u8d26\u53f7AccessKey\u4e0d\u9700\u8981\u586b\u5199 private static String security_token = \"\"; //\u4ee5\u4e0b\u53c2\u6570\u4e0d\u9700\u8981\u4fee\u6539 private final static String VOD_DOMAIN = \"http://vod.cn-shanghai.aliyuncs.com\"; private final static String ISO8601_DATE_FORMAT = \"yyyy-MM-dd'T'HH:mm:ss'Z'\"; private final static String HTTP_METHOD = \"GET\"; private final static String HMAC_SHA1_ALGORITHM = \"HmacSHA1\"; private final static String UTF_8 = \"utf-8\"; private final static Logger LOG = Logger.getLogger(Main.class.getName()); public static void main(String[] args) throws Exception { //\u751f\u6210\u79c1\u6709\u53c2\u6570\uff0c\u4e0d\u540cAPI\u9700\u8981\u4fee\u6539 Map<String, String> privateParams = generatePrivateParamters(); //\u751f\u6210\u516c\u5171\u53c2\u6570\uff0c\u4e0d\u9700\u8981\u4fee\u6539 Map<String, String> publicParams = generatePublicParamters(); //\u751f\u6210OpenAPI\u5730\u5740\uff0c\u4e0d\u9700\u8981\u4fee\u6539 String URL = generateOpenAPIURL(publicParams, privateParams); //\u53d1\u9001HTTP GET \u8bf7\u6c42 httpGet(URL); } /** * \u751f\u6210\u89c6\u9891\u70b9\u64adOpenAPI\u79c1\u6709\u53c2\u6570 * \u4e0d\u540cAPI\u9700\u8981\u4fee\u6539\u6b64\u65b9\u6cd5\u4e2d\u7684\u53c2\u6570 * @return */ private static Map<String, String> generatePrivateParamters() { // \u63a5\u53e3\u79c1\u6709\u53c2\u6570\u5217\u8868, \u4e0d\u540cAPI\u8bf7\u66ff\u6362\u76f8\u5e94\u53c2\u6570 Map<String, String> privateParams = new HashMap<String, String>(); // \u89c6\u9891ID privateParams.put(\"VideoId\",\"24c5334a35a841f099456f2b39108b8e\"); // API\u540d\u79f0 privateParams.put(\"Action\", \"GetPlayInfo\"); return privateParams; } /** * \u751f\u6210\u89c6\u9891\u70b9\u64adOpenAPI\u516c\u5171\u53c2\u6570 * \u4e0d\u9700\u8981\u4fee\u6539 * @return */ private static Map<String, String> generatePublicParamters() { Map<String, String> publicParams = new HashMap<String, String>(); publicParams.put(\"Format\", \"JSON\"); publicParams.put(\"Version\", \"2017-03-21\"); publicParams.put(\"AccessKeyId\", access_key_id); publicParams.put(\"SignatureMethod\", \"HMAC-SHA1\"); publicParams.put(\"Timestamp\", generateTimestamp()); publicParams.put(\"SignatureVersion\", \"1.0\"); publicParams.put(\"SignatureNonce\", generateRandom()); if (security_token != null && security_token.length() > 0) { publicParams.put(\"SecurityToken\", security_token); } return publicParams; } /** * \u751f\u6210OpenAPI\u5730\u5740 * @param privateParams * @return * @throws Exception */ private static String generateOpenAPIURL(Map<String, String> publicParams, Map<String, String> privateParams) { return generateURL(VOD_DOMAIN, HTTP_METHOD, publicParams, privateParams); } /** * @param domain \u8bf7\u6c42\u5730\u5740 * @param httpMethod HTTP\u8bf7\u6c42\u65b9\u5f0fGET\uff0cPOST\u7b49 * @param publicParams \u516c\u5171\u53c2\u6570 * @param privateParams \u63a5\u53e3\u7684\u79c1\u6709\u53c2\u6570 * @return \u6700\u540e\u7684url */ private static String generateURL(String domain, String httpMethod, Map<String, String> publicParams, Map<String, String> privateParams) { List<String> allEncodeParams = getAllParams(publicParams, privateParams); String cqsString = getCQS(allEncodeParams); out(\"CanonicalizedQueryString = \" + cqsString); String stringToSign = httpMethod + \"&\" + percentEncode(\"/\") + \"&\" + percentEncode(cqsString); out(\"StringtoSign = \" + stringToSign); String signature = hmacSHA1Signature(access_key_secret, stringToSign); out(\"Signature = \" + signature); return domain + \"?\" + cqsString + \"&\" + percentEncode(\"Signature\") + \"=\" + percentEncode(signature); } private static List<String> getAllParams(Map<String, String> publicParams, Map<String, String> privateParams) { List<String> encodeParams = new ArrayList<String>(); if (publicParams != null) { for (String key : publicParams.keySet()) { String value = publicParams.get(key); //\u5c06\u53c2\u6570\u548c\u503c\u90fdurlEncode\u4e00\u4e0b\u3002 String encodeKey = percentEncode(key); String encodeVal = percentEncode(value); encodeParams.add(encodeKey + \"=\" + encodeVal); } } if (privateParams != null) { for (String key : privateParams.keySet()) { String value = privateParams.get(key); //\u5c06\u53c2\u6570\u548c\u503c\u90fdurlEncode\u4e00\u4e0b\u3002 String encodeKey = percentEncode(key); String encodeVal = percentEncode(value); encodeParams.add(encodeKey + \"=\" + encodeVal); } } return encodeParams; } /** * \u53c2\u6570urlEncode * * @param value * @return */ private static String percentEncode(String value) { try { String urlEncodeOrignStr = URLEncoder.encode(value, \"UTF-8\"); String plusReplaced = urlEncodeOrignStr.replace(\"+\", \"%20\"); String starReplaced = plusReplaced.replace(\"*\", \"%2A\"); String waveReplaced = starReplaced.replace(\"%7E\", \"~\"); return waveReplaced; } catch (UnsupportedEncodingException e) { e.printStackTrace(); } return value; } /** * \u83b7\u53d6CQS \u7684\u5b57\u7b26\u4e32 * * @param allParams * @return */ private static String getCQS(List<String> allParams) { ParamsComparator paramsComparator = new ParamsComparator(); Collections.sort(allParams, paramsComparator); String cqString = \"\"; for (int i = 0; i < allParams.size(); i++) { cqString += allParams.get(i); if (i != allParams.size() - 1) { cqString += \"&\"; } } return cqString; } private static class ParamsComparator implements Comparator<String> { public int compare(String lhs, String rhs) { return lhs.compareTo(rhs); } } private static String hmacSHA1Signature(String accessKeySecret, String stringtoSign) { try { String key = accessKeySecret + \"&\"; try { SecretKeySpec signKey = new SecretKeySpec(key.getBytes(), HMAC_SHA1_ALGORITHM); Mac mac = Mac.getInstance(HMAC_SHA1_ALGORITHM); mac.init(signKey); byte[] rawHmac = mac.doFinal(stringtoSign.getBytes()); //\u6309\u7167Base64 \u7f16\u7801\u89c4\u5219\u628a\u4e0a\u9762\u7684 HMAC \u503c\u7f16\u7801\u6210\u5b57\u7b26\u4e32\uff0c\u5373\u5f97\u5230\u7b7e\u540d\u503c\uff08Signature\uff09 return new String(new BASE64Encoder().encode(rawHmac)); } catch (Exception e) { throw new SignatureException(\"Failed to generate HMAC : \" + e.getMessage()); } } catch (SignatureException e) { e.printStackTrace(); } return \"\"; } /** * \u751f\u6210\u968f\u673a\u6570 * * @return */ private static String generateRandom() { String signatureNonce = UUID.randomUUID().toString(); return signatureNonce; } /** * \u751f\u6210\u5f53\u524dUTC\u65f6\u95f4\u6233 * * @return */ public static String generateTimestamp() { Date date = new Date(System.currentTimeMillis()); SimpleDateFormat df = new SimpleDateFormat(ISO8601_DATE_FORMAT); df.setTimeZone(new SimpleTimeZone(0, \"GMT\")); return df.format(date); } private static String httpGet(String url) throws Exception { CloseableHttpClient httpClient = null; try { httpClient = HttpClients.createDefault(); HttpGet httpGet = new HttpGet(); httpGet.setURI(new URI(url)); RequestConfig requestConfig = RequestConfig.custom() .setConnectTimeout(3000) .setSocketTimeout(3000) .build(); httpGet.setConfig(requestConfig); HttpResponse result = httpClient.execute(httpGet); String str; try { /**\u8bfb\u53d6\u670d\u52a1\u5668\u8fd4\u56de\u8fc7\u6765\u7684json\u5b57\u7b26\u4e32\u6570\u636e**/ str = EntityUtils.toString(result.getEntity()); EntityUtils.consume(result.getEntity()); } catch (Exception e) { e.printStackTrace(); throw e; } out(str); // \u8fd9\u91cc\u53ef\u4ee5\u89e3\u6790\u89c6\u9891\u4e91\u70b9\u64ad\u670d\u52a1\u7aef\u7684\u54cd\u5e94\u7ed3\u679c return str; } catch (URISyntaxException e) { e.printStackTrace(); throw e; } catch (ClientProtocolException e) { e.printStackTrace(); throw e; } catch (IOException e) { e.printStackTrace(); throw e; } finally { try { if (httpClient != null) httpClient.close(); } catch (Exception e) { e.printStackTrace(); throw e; } } } private static void out(String newLine) { System.out.println(newLine); LOG.info(newLine); } }","title":"3.1 \u8bf4\u660e"},{"location":"Multimedia/Player/tencent_vod/","text":"\u817e\u8bafVOD\u670d\u52a1\u4f7f\u7528 # \u5176\u5b9e\u5c31\u76f8\u5f53\u4e8e\u4e00\u4e2aNginx\u670d\u52a1\u5668\uff0c\u4f1a\u4e3a\u5b58\u50a8\u5728\u5176\u4e2d\u7684\u6bcf\u4e2a\u89c6\u9891\u751f\u6210\u4e00\u4e2aURL\uff0c\u7136\u540eAndroid\u5ba2\u6237\u7aef\u5c31\u53ef\u4ee5\u8bbf\u95ee\u8fd9\u4e2aURL\u8fb9\u4e0b\u8fb9\u64ad\u3002\u8fd9\u4e48\u4f7f\u7528\u51e0\u4e4e\u662f\u514d\u8d39\u7684\uff0c\u9664\u975e\u89c6\u9891\u7684\u91cf\u975e\u5e38\u5927\u3002 \u4f46\u662f\u5bf9\u4e8e\u957f\u89c6\u9891\u6765\u8bf4\u8fd9\u4e48\u8bbf\u95ee\u901f\u5ea6\u4f1a\u6bd4\u8f83\u6162\uff0c\u60f3\u8981\u52a0\u901f\u5c31\u9700\u8981\u4f7f\u7528\u817e\u8bafVOD\u7684CDN\u52a0\u901f\u670d\u52a1\u3002 \u5f53\u7136\uff0c\u817e\u8bafVOD\u4e5f\u63d0\u4f9b\u4e86\u89c6\u9891\u8f6c\u7801\u670d\u52a1\uff0c\u6bd4\u5982MP4\u8f6cHLS\u6d41\uff0c\u8fd9\u662f\u6536\u8d39\u670d\u52a1\uff0c\u5e76\u4e14\u8d35\u3002 Android\u7aef\u83b7\u53d6\u89c6\u9891\u7684\u5206\u7c7b\u53ca\u89c6\u9891\u4fe1\u606f\uff08\u89c6\u9891URL\uff0c\u89c6\u9891\u5c01\u9762URL\u7b49\uff09 \u4f7f\u7528 API 3.0 Explorer \u767b\u5f55\u540e\u8bbf\u95ee \u5728\u7ebf\u8c03\u8bd5\uff0c\u5c31\u80fd\u7406\u89e3\u4e86 \u83b7\u53d6\u89c6\u9891\u5206\u7c7b\u63a5\u53e3 -> \u89c6\u9891\u5206\u7c7b\u76f8\u5173\u63a5\u53e3 \u89c6\u9891\u4fe1\u606f\uff08\u89c6\u9891URL\uff0c\u89c6\u9891\u5c01\u9762URL\u7b49\uff09-> \u5a92\u8d44\u7ba1\u7406\u76f8\u5173\u63a5\u53e3","title":"\u817e\u8bafVOD\u670d\u52a1\u4f7f\u7528"},{"location":"Multimedia/Player/tencent_vod/#vod","text":"\u5176\u5b9e\u5c31\u76f8\u5f53\u4e8e\u4e00\u4e2aNginx\u670d\u52a1\u5668\uff0c\u4f1a\u4e3a\u5b58\u50a8\u5728\u5176\u4e2d\u7684\u6bcf\u4e2a\u89c6\u9891\u751f\u6210\u4e00\u4e2aURL\uff0c\u7136\u540eAndroid\u5ba2\u6237\u7aef\u5c31\u53ef\u4ee5\u8bbf\u95ee\u8fd9\u4e2aURL\u8fb9\u4e0b\u8fb9\u64ad\u3002\u8fd9\u4e48\u4f7f\u7528\u51e0\u4e4e\u662f\u514d\u8d39\u7684\uff0c\u9664\u975e\u89c6\u9891\u7684\u91cf\u975e\u5e38\u5927\u3002 \u4f46\u662f\u5bf9\u4e8e\u957f\u89c6\u9891\u6765\u8bf4\u8fd9\u4e48\u8bbf\u95ee\u901f\u5ea6\u4f1a\u6bd4\u8f83\u6162\uff0c\u60f3\u8981\u52a0\u901f\u5c31\u9700\u8981\u4f7f\u7528\u817e\u8bafVOD\u7684CDN\u52a0\u901f\u670d\u52a1\u3002 \u5f53\u7136\uff0c\u817e\u8bafVOD\u4e5f\u63d0\u4f9b\u4e86\u89c6\u9891\u8f6c\u7801\u670d\u52a1\uff0c\u6bd4\u5982MP4\u8f6cHLS\u6d41\uff0c\u8fd9\u662f\u6536\u8d39\u670d\u52a1\uff0c\u5e76\u4e14\u8d35\u3002 Android\u7aef\u83b7\u53d6\u89c6\u9891\u7684\u5206\u7c7b\u53ca\u89c6\u9891\u4fe1\u606f\uff08\u89c6\u9891URL\uff0c\u89c6\u9891\u5c01\u9762URL\u7b49\uff09 \u4f7f\u7528 API 3.0 Explorer \u767b\u5f55\u540e\u8bbf\u95ee \u5728\u7ebf\u8c03\u8bd5\uff0c\u5c31\u80fd\u7406\u89e3\u4e86 \u83b7\u53d6\u89c6\u9891\u5206\u7c7b\u63a5\u53e3 -> \u89c6\u9891\u5206\u7c7b\u76f8\u5173\u63a5\u53e3 \u89c6\u9891\u4fe1\u606f\uff08\u89c6\u9891URL\uff0c\u89c6\u9891\u5c01\u9762URL\u7b49\uff09-> \u5a92\u8d44\u7ba1\u7406\u76f8\u5173\u63a5\u53e3","title":"\u817e\u8bafVOD\u670d\u52a1\u4f7f\u7528"},{"location":"Python/isdecimal_isdigit_isnumeric/","text":"python\u4e2d\u7684str.isdecimal() str.isdigit() str.isnumeric() bytes.isdigit() # Stack OverFlow python\u6587\u6863 bytes.isdigit() Unicode Character Categories 1. str.isdecimal() #","title":"python\u4e2d\u7684str.isdecimal() str.isdigit() str.isnumeric() bytes.isdigit()"},{"location":"Python/isdecimal_isdigit_isnumeric/#pythonstrisdecimal-strisdigit-strisnumeric-bytesisdigit","text":"Stack OverFlow python\u6587\u6863 bytes.isdigit() Unicode Character Categories","title":"python\u4e2d\u7684str.isdecimal() str.isdigit() str.isnumeric() bytes.isdigit()"},{"location":"Python/isdecimal_isdigit_isnumeric/#1-strisdecimal","text":"","title":"1. str.isdecimal()"},{"location":"Python/matplotlib/","text":"matplotlib\u5e93\u4f7f\u7528\u6307\u5357 # 1.\u753b\u56fe\u57fa\u7840 # import matplotlib.pyplot as plt import numpy as np x=np.linspace(-100,100,200) y=2*x plt.plot(x,y) plt.show() 2.\u4e3a\u56fe\u6807\u6dfb\u52a0\u6ce8\u91ca # import matplotlib.pyplot as plt import numpy as np import math angle = 0.05 distance = 100 k = (math.atan(math.radians(angle))) x = np.linspace(0, distance, 10000) y = k*x plt.figure(num=1, figsize=(8, 5),) plt.plot(x, y) ax = plt.gca() ax.spines['right'].set_color('none') ax.spines['top'].set_color('none') ax.spines['top'].set_color('none') ax.xaxis.set_ticks_position('bottom') ax.spines['bottom'].set_position(('data', 0)) ax.yaxis.set_ticks_position('left') ax.spines['left'].set_position(('data', 0)) x0 = 100 y0 = k*x0 # \u753b\u51fa\u4e00\u6761\u5782\u76f4\u4e8ex\u8f74\u7684\u865a\u7ebf. plt.plot([x0, x0,], [0, y0,], 'k--', linewidth=2.5) # set dot styles plt.scatter([x0, ], [y0, ], s=50, color='b') # \u6dfb\u52a0\u6ce8\u91ca annotate, (x0, y0)\u8fd9\u4e2a\u70b9\u8fdb\u884c\u6807\u6ce8. #\u53c2\u6570xycoords='data' \u662f\u8bf4\u57fa\u4e8e\u6570\u636e\u7684\u503c\u6765\u9009\u4f4d\u7f6e, # xytext=(+30, -30) \u548c textcoords='offset points' \u5bf9\u4e8e\u6807\u6ce8\u4f4d\u7f6e\u7684\u63cf\u8ff0 \u548c xy \u504f\u5dee\u503c, # arrowprops\u662f\u5bf9\u56fe\u4e2d\u7bad\u5934\u7c7b\u578b\u7684\u4e00\u4e9b\u8bbe\u7f6e. y0_ = y0*distance plt.annotate(r'$%.4fcm$' % y0_, xy=(x0, y0), xycoords='data', xytext=(-30, +30), textcoords='offset points', fontsize=16, arrowprops=dict(arrowstyle='->', connectionstyle=\"arc3,rad=.2\")) plt.annotate(r'$%.2f\u00b0$' % angle, xy=(0, 0), xycoords='data', xytext=(+30, +5), textcoords='offset points', fontsize=16, arrowprops=dict(arrowstyle='->', connectionstyle=\"arc3,rad=.2\")) # \u6dfb\u52a0\u6ce8\u91ca text # \u5176\u4e2d-3.7, 3,\u662f\u9009\u53d6text\u7684\u4f4d\u7f6e plt.text(3, 0.05, 'ok', fontdict={'size': 16, 'color': 'r'}) plt.show()","title":"matplotlib\u4f7f\u7528"},{"location":"Python/matplotlib/#matplotlib","text":"","title":"matplotlib\u5e93\u4f7f\u7528\u6307\u5357"},{"location":"Python/matplotlib/#1","text":"import matplotlib.pyplot as plt import numpy as np x=np.linspace(-100,100,200) y=2*x plt.plot(x,y) plt.show()","title":"1.\u753b\u56fe\u57fa\u7840"},{"location":"Python/matplotlib/#2","text":"import matplotlib.pyplot as plt import numpy as np import math angle = 0.05 distance = 100 k = (math.atan(math.radians(angle))) x = np.linspace(0, distance, 10000) y = k*x plt.figure(num=1, figsize=(8, 5),) plt.plot(x, y) ax = plt.gca() ax.spines['right'].set_color('none') ax.spines['top'].set_color('none') ax.spines['top'].set_color('none') ax.xaxis.set_ticks_position('bottom') ax.spines['bottom'].set_position(('data', 0)) ax.yaxis.set_ticks_position('left') ax.spines['left'].set_position(('data', 0)) x0 = 100 y0 = k*x0 # \u753b\u51fa\u4e00\u6761\u5782\u76f4\u4e8ex\u8f74\u7684\u865a\u7ebf. plt.plot([x0, x0,], [0, y0,], 'k--', linewidth=2.5) # set dot styles plt.scatter([x0, ], [y0, ], s=50, color='b') # \u6dfb\u52a0\u6ce8\u91ca annotate, (x0, y0)\u8fd9\u4e2a\u70b9\u8fdb\u884c\u6807\u6ce8. #\u53c2\u6570xycoords='data' \u662f\u8bf4\u57fa\u4e8e\u6570\u636e\u7684\u503c\u6765\u9009\u4f4d\u7f6e, # xytext=(+30, -30) \u548c textcoords='offset points' \u5bf9\u4e8e\u6807\u6ce8\u4f4d\u7f6e\u7684\u63cf\u8ff0 \u548c xy \u504f\u5dee\u503c, # arrowprops\u662f\u5bf9\u56fe\u4e2d\u7bad\u5934\u7c7b\u578b\u7684\u4e00\u4e9b\u8bbe\u7f6e. y0_ = y0*distance plt.annotate(r'$%.4fcm$' % y0_, xy=(x0, y0), xycoords='data', xytext=(-30, +30), textcoords='offset points', fontsize=16, arrowprops=dict(arrowstyle='->', connectionstyle=\"arc3,rad=.2\")) plt.annotate(r'$%.2f\u00b0$' % angle, xy=(0, 0), xycoords='data', xytext=(+30, +5), textcoords='offset points', fontsize=16, arrowprops=dict(arrowstyle='->', connectionstyle=\"arc3,rad=.2\")) # \u6dfb\u52a0\u6ce8\u91ca text # \u5176\u4e2d-3.7, 3,\u662f\u9009\u53d6text\u7684\u4f4d\u7f6e plt.text(3, 0.05, 'ok', fontdict={'size': 16, 'color': 'r'}) plt.show()","title":"2.\u4e3a\u56fe\u6807\u6dfb\u52a0\u6ce8\u91ca"},{"location":"Python/python_packages/","text":"\u67e5\u770b\u67d0\u4e2apython\u5b89\u88c5\u5305\u7684\u4f4d\u7f6e # help('module_name')","title":"Python packages"},{"location":"Python/python_packages/#python","text":"help('module_name')","title":"\u67e5\u770b\u67d0\u4e2apython\u5b89\u88c5\u5305\u7684\u4f4d\u7f6e"},{"location":"Python/python_record_play/","text":"python\u5f55\u97f3\u4e0e\u64ad\u653e # \u4f7f\u7528pyAudio \u70b9\u51fb\u67e5\u9605pyAudio\u5b98\u65b9\u6587\u6863 Note pyAudio\u5bf9Python\u7684\u7248\u672c\u662f\u6709\u8981\u6c42\u7684\uff0c\u4f7f\u7528\u65f6\u8bf7\u7559\u610f\u5b98\u65b9\u6587\u6863\u8bf4\u660e\uff0c\u76ee\u524d\uff082019-03-08\uff09\u652f\u6301Python 2.7, 3.4, 3.5, and 3.6 1. \u5f55\u97f3\u4ee3\u7801\u793a\u4f8b # \"\"\"PyAudio example: Record a few seconds of audio and save to a WAVE file.\"\"\" import pyaudio import wave CHUNK = 1024 FORMAT = pyaudio.paInt16 CHANNELS = 2 RATE = 44100 RECORD_SECONDS = 5 WAVE_OUTPUT_FILENAME = \"output.wav\" p = pyaudio.PyAudio() stream = p.open(format=FORMAT, channels=CHANNELS, rate=RATE, input=True, frames_per_buffer=CHUNK) print(\"* recording\") frames = [] for i in range(0, int(RATE / CHUNK * RECORD_SECONDS)): data = stream.read(CHUNK) frames.append(data) print(\"* done recording\") stream.stop_stream() stream.close() p.terminate() wf = wave.open(WAVE_OUTPUT_FILENAME, 'wb') wf.setnchannels(CHANNELS) wf.setsampwidth(p.get_sample_size(FORMAT)) wf.setframerate(RATE) wf.writeframes(b''.join(frames)) wf.close() 2. \u64ad\u653e\u5f55\u97f3\u4ee3\u7801\u793a\u4f8b # \"\"\"PyAudio Example: Play a WAVE file.\"\"\" import pyaudio import wave import sys CHUNK = 1024 if len(sys.argv) < 2: print(\"Plays a wave file.\\n\\nUsage: %s filename.wav\" % sys.argv[0]) sys.exit(-1) wf = wave.open(sys.argv[1], 'rb') p = pyaudio.PyAudio() stream = p.open(format=p.get_format_from_width(wf.getsampwidth()), channels=wf.getnchannels(), rate=wf.getframerate(), output=True) data = wf.readframes(CHUNK) while data != '': stream.write(data) data = wf.readframes(CHUNK) stream.stop_stream() stream.close() p.terminate()","title":"\u5f55\u97f3\u4e0e\u64ad\u653e"},{"location":"Python/python_record_play/#python","text":"\u4f7f\u7528pyAudio \u70b9\u51fb\u67e5\u9605pyAudio\u5b98\u65b9\u6587\u6863 Note pyAudio\u5bf9Python\u7684\u7248\u672c\u662f\u6709\u8981\u6c42\u7684\uff0c\u4f7f\u7528\u65f6\u8bf7\u7559\u610f\u5b98\u65b9\u6587\u6863\u8bf4\u660e\uff0c\u76ee\u524d\uff082019-03-08\uff09\u652f\u6301Python 2.7, 3.4, 3.5, and 3.6","title":"python\u5f55\u97f3\u4e0e\u64ad\u653e"},{"location":"Python/python_record_play/#1","text":"\"\"\"PyAudio example: Record a few seconds of audio and save to a WAVE file.\"\"\" import pyaudio import wave CHUNK = 1024 FORMAT = pyaudio.paInt16 CHANNELS = 2 RATE = 44100 RECORD_SECONDS = 5 WAVE_OUTPUT_FILENAME = \"output.wav\" p = pyaudio.PyAudio() stream = p.open(format=FORMAT, channels=CHANNELS, rate=RATE, input=True, frames_per_buffer=CHUNK) print(\"* recording\") frames = [] for i in range(0, int(RATE / CHUNK * RECORD_SECONDS)): data = stream.read(CHUNK) frames.append(data) print(\"* done recording\") stream.stop_stream() stream.close() p.terminate() wf = wave.open(WAVE_OUTPUT_FILENAME, 'wb') wf.setnchannels(CHANNELS) wf.setsampwidth(p.get_sample_size(FORMAT)) wf.setframerate(RATE) wf.writeframes(b''.join(frames)) wf.close()","title":"1. \u5f55\u97f3\u4ee3\u7801\u793a\u4f8b"},{"location":"Python/python_record_play/#2","text":"\"\"\"PyAudio Example: Play a WAVE file.\"\"\" import pyaudio import wave import sys CHUNK = 1024 if len(sys.argv) < 2: print(\"Plays a wave file.\\n\\nUsage: %s filename.wav\" % sys.argv[0]) sys.exit(-1) wf = wave.open(sys.argv[1], 'rb') p = pyaudio.PyAudio() stream = p.open(format=p.get_format_from_width(wf.getsampwidth()), channels=wf.getnchannels(), rate=wf.getframerate(), output=True) data = wf.readframes(CHUNK) while data != '': stream.write(data) data = wf.readframes(CHUNK) stream.stop_stream() stream.close() p.terminate()","title":"2. \u64ad\u653e\u5f55\u97f3\u4ee3\u7801\u793a\u4f8b"},{"location":"Python/python_string_format/","text":"Python\u5b57\u7b26\u4e32\u683c\u5f0f\u5316\u7684\u4e00\u79cd\u65b9\u6cd5 # cmd_1 = \"#ud %d 0 %d\" % (step,direction)","title":"Python\u5b57\u7b26\u4e32\u683c\u5f0f\u5316"},{"location":"Python/python_string_format/#python","text":"cmd_1 = \"#ud %d 0 %d\" % (step,direction)","title":"Python\u5b57\u7b26\u4e32\u683c\u5f0f\u5316\u7684\u4e00\u79cd\u65b9\u6cd5"},{"location":"Python/python_trigonometric/","text":"python \u4e09\u89d2\u51fd\u6570 # *\u8ba1\u7b971500m 1MOA\u7684\u76f4\u5f84 import math # *100\u5c06m\u53d8\u6210cm\uff0c*2\u5c06\u534a\u5f84\u53d8\u76f4\u5f84 math.tan(math.radians(1.0/60.0)) * 1500 * 100 * 2 \u51fd\u6570 \u8bf4\u660e \u793a\u4f8b acos(x) \u6c42x\u7684\u53cd\u4f59\u5f26(\u7ed3\u679c\u662f\u5f27\u5ea6) acos(2.0)\u7b49\u4e8e0.0 asin(x) \u6c42x\u7684\u53cd\u6b63\u5f26(\u7ed3\u679c\u662f\u5f27\u5ea6 asin(0.0)\u7b49\u4e8e0.0 atan(x) \u6c42x\u7684\u53cd\u6b63\u5207(\u7ed3\u679c\u662f\u5f27\u5ea6\uff09 atan(0.0)\u7b49\u4e8e0.0 ceil(x) \u4e3ax\u53d6\u6574\uff0c\u7ed3\u679c\u662f\u4e0d\u5c0f\u4e8ex\u7684\u6700\u5c0f\u6574\u6570 ceil(9.2)\u7b49\u4e8e10.0 ceil(-9.8)\u7b49\u4e8e-9.0 cos(x) \u6c42x\u7684\u4f59\u5f26(x\u662f\u5f27\u5ea6\uff09 cos(0.0)\u7b49\u4e8e1.0 exp(x) \u6c42\u5e42\u51fd\u6570e exp(1.0)\u7b49\u4e8e2.71828 exp(2.0)\u7b49\u4e8e7.38906 fabs(x) \u6c42x\u7684\u7edd\u5bf9\u503c fabs(5.1)\u7b49\u4e8e5.1 fabs(-5.1)\u7b49\u4e8e5.1 floor(x) \u4e3ax\u53d6\u6574\uff0c\u7ed3\u679c\u662f\u4e0d\u5927\u4e8ex\u7684\u6700\u5927\u6574\u6570 floor(9.2)\u7b49\u4e8e9.0 floor(-9.8)\u7b49\u4e8e-10.0 fmod(x,y) \u6c42x/y\u7684\u4f59\u6570\uff0c\u7ed3\u679c\u662f\u6d6e\u70b9\u6570 fmod(9.8,4.0)\u7b49\u4e8e1.8 hypot(x,y) \u6c42\u76f4\u89d2\u4e09\u89d2\u7684\u659c\u8fb9\u957f\u5ea6 hypot(3.0,4.0)\u7b49\u4e8e5.0 log10(x) \u6c42x\u7684\u5bf9\u6570\uff08\u4ee510\u4e3a\u5e95\uff09 log10(10.0)\u7b49\u4e8e1.0 log10(100.0)\u7b49\u4e8e2.0 pow(x,y) \u6c42x\u7684y\u6b21\u65b9\uff08xy\uff09 pow(2.7,7.0)\u7b49\u4e8e128.0 pow(9.0,0.5)\u7b49\u4e8e3.0 sin(x) \u6c42x\u7684\u6b63\u5f26\uff08x\u662f\u5f27\u5ea6\uff09 sin(0.0)\u7b49\u4e8e0.0 sqrt(x) \u6c42x\u7684\u5e73\u65b9\u6839 sqrt(900.0)\u7b49\u4e8e30.0 tan(x) \u6c42x\u7684\u6b63\u5207\uff08x\u662f\u5f27\u5ea6\uff09 tan(0.0)\u7b49\u4e8e0.0 radians(x) \u89d2\u5ea6\u8f6c\u5f27\u5ea6","title":"\u4e09\u89d2\u51fd\u6570"},{"location":"Python/python_trigonometric/#python","text":"*\u8ba1\u7b971500m 1MOA\u7684\u76f4\u5f84 import math # *100\u5c06m\u53d8\u6210cm\uff0c*2\u5c06\u534a\u5f84\u53d8\u76f4\u5f84 math.tan(math.radians(1.0/60.0)) * 1500 * 100 * 2 \u51fd\u6570 \u8bf4\u660e \u793a\u4f8b acos(x) \u6c42x\u7684\u53cd\u4f59\u5f26(\u7ed3\u679c\u662f\u5f27\u5ea6) acos(2.0)\u7b49\u4e8e0.0 asin(x) \u6c42x\u7684\u53cd\u6b63\u5f26(\u7ed3\u679c\u662f\u5f27\u5ea6 asin(0.0)\u7b49\u4e8e0.0 atan(x) \u6c42x\u7684\u53cd\u6b63\u5207(\u7ed3\u679c\u662f\u5f27\u5ea6\uff09 atan(0.0)\u7b49\u4e8e0.0 ceil(x) \u4e3ax\u53d6\u6574\uff0c\u7ed3\u679c\u662f\u4e0d\u5c0f\u4e8ex\u7684\u6700\u5c0f\u6574\u6570 ceil(9.2)\u7b49\u4e8e10.0 ceil(-9.8)\u7b49\u4e8e-9.0 cos(x) \u6c42x\u7684\u4f59\u5f26(x\u662f\u5f27\u5ea6\uff09 cos(0.0)\u7b49\u4e8e1.0 exp(x) \u6c42\u5e42\u51fd\u6570e exp(1.0)\u7b49\u4e8e2.71828 exp(2.0)\u7b49\u4e8e7.38906 fabs(x) \u6c42x\u7684\u7edd\u5bf9\u503c fabs(5.1)\u7b49\u4e8e5.1 fabs(-5.1)\u7b49\u4e8e5.1 floor(x) \u4e3ax\u53d6\u6574\uff0c\u7ed3\u679c\u662f\u4e0d\u5927\u4e8ex\u7684\u6700\u5927\u6574\u6570 floor(9.2)\u7b49\u4e8e9.0 floor(-9.8)\u7b49\u4e8e-10.0 fmod(x,y) \u6c42x/y\u7684\u4f59\u6570\uff0c\u7ed3\u679c\u662f\u6d6e\u70b9\u6570 fmod(9.8,4.0)\u7b49\u4e8e1.8 hypot(x,y) \u6c42\u76f4\u89d2\u4e09\u89d2\u7684\u659c\u8fb9\u957f\u5ea6 hypot(3.0,4.0)\u7b49\u4e8e5.0 log10(x) \u6c42x\u7684\u5bf9\u6570\uff08\u4ee510\u4e3a\u5e95\uff09 log10(10.0)\u7b49\u4e8e1.0 log10(100.0)\u7b49\u4e8e2.0 pow(x,y) \u6c42x\u7684y\u6b21\u65b9\uff08xy\uff09 pow(2.7,7.0)\u7b49\u4e8e128.0 pow(9.0,0.5)\u7b49\u4e8e3.0 sin(x) \u6c42x\u7684\u6b63\u5f26\uff08x\u662f\u5f27\u5ea6\uff09 sin(0.0)\u7b49\u4e8e0.0 sqrt(x) \u6c42x\u7684\u5e73\u65b9\u6839 sqrt(900.0)\u7b49\u4e8e30.0 tan(x) \u6c42x\u7684\u6b63\u5207\uff08x\u662f\u5f27\u5ea6\uff09 tan(0.0)\u7b49\u4e8e0.0 radians(x) \u89d2\u5ea6\u8f6c\u5f27\u5ea6","title":"python \u4e09\u89d2\u51fd\u6570"},{"location":"Python/snippet/","text":"Python\u4ee3\u7801\u7247\u6bb5 # 1.CRC16 # crc16_table = [ 0x0000,0x1021,0x2042,0x3063,0x4084,0x50A5,0x60C6,0x70E7, 0x8108,0x9129,0xA14A,0xB16B,0xC18C,0xD1AD,0xE1CE,0xF1EF, 0x1231,0x0210,0x3273,0x2252,0x52B5,0x4294,0x72F7,0x62D6, 0x9339,0x8318,0xB37B,0xA35A,0xD3BD,0xC39C,0xF3FF,0xE3DE, 0x2462,0x3443,0x0420,0x1401,0x64E6,0x74C7,0x44A4,0x5485, 0xA56A,0xB54B,0x8528,0x9509,0xE5EE,0xF5CF,0xC5AC,0xD58D, 0x3653,0x2672,0x1611,0x0630,0x76D7,0x66F6,0x5695,0x46B4, 0xB75B,0xA77A,0x9719,0x8738,0xF7DF,0xE7FE,0xD79D,0xC7BC, 0x48C4,0x58E5,0x6886,0x78A7,0x0840,0x1861,0x2802,0x3823, 0xC9CC,0xD9ED,0xE98E,0xF9AF,0x8948,0x9969,0xA90A,0xB92B, 0x5AF5,0x4AD4,0x7AB7,0x6A96,0x1A71,0x0A50,0x3A33,0x2A12, 0xDBFD,0xCBDC,0xFBBF,0xEB9E,0x9B79,0x8B58,0xBB3B,0xAB1A, 0x6CA6,0x7C87,0x4CE4,0x5CC5,0x2C22,0x3C03,0x0C60,0x1C41, 0xEDAE,0xFD8F,0xCDEC,0xDDCD,0xAD2A,0xBD0B,0x8D68,0x9D49, 0x7E97,0x6EB6,0x5ED5,0x4EF4,0x3E13,0x2E32,0x1E51,0x0E70, 0xFF9F,0xEFBE,0xDFDD,0xCFFC,0xBF1B,0xAF3A,0x9F59,0x8F78, 0x9188,0x81A9,0xB1CA,0xA1EB,0xD10C,0xC12D,0xF14E,0xE16F, 0x1080,0x00A1,0x30C2,0x20E3,0x5004,0x4025,0x7046,0x6067, 0x83B9,0x9398,0xA3FB,0xB3DA,0xC33D,0xD31C,0xE37F,0xF35E, 0x02B1,0x1290,0x22F3,0x32D2,0x4235,0x5214,0x6277,0x7256, 0xB5EA,0xA5CB,0x95A8,0x8589,0xF56E,0xE54F,0xD52C,0xC50D, 0x34E2,0x24C3,0x14A0,0x0481,0x7466,0x6447,0x5424,0x4405, 0xA7DB,0xB7FA,0x8799,0x97B8,0xE75F,0xF77E,0xC71D,0xD73C, 0x26D3,0x36F2,0x0691,0x16B0,0x6657,0x7676,0x4615,0x5634, 0xD94C,0xC96D,0xF90E,0xE92F,0x99C8,0x89E9,0xB98A,0xA9AB, 0x5844,0x4865,0x7806,0x6827,0x18C0,0x08E1,0x3882,0x28A3, 0xCB7D,0xDB5C,0xEB3F,0xFB1E,0x8BF9,0x9BD8,0xABBB,0xBB9A, 0x4A75,0x5A54,0x6A37,0x7A16,0x0AF1,0x1AD0,0x2AB3,0x3A92, 0xFD2E,0xED0F,0xDD6C,0xCD4D,0xBDAA,0xAD8B,0x9DE8,0x8DC9, 0x7C26,0x6C07,0x5C64,0x4C45,0x3CA2,0x2C83,0x1CE0,0x0CC1, 0xEF1F,0xFF3E,0xCF5D,0xDF7C,0xAF9B,0xBFBA,0x8FD9,0x9FF8, 0x6E17,0x7E36,0x4E55,0x5E74,0x2E93,0x3EB2,0x0ED1,0x1EF0 ] def crc_16(buf, len): crc = 0 for i in range(1,len): index = ((crc >> 8) ^ ord(buf[i])) & 0xFF crc = ((crc << 8) ^ crc16_table[index]) & 0xFFFF return crc","title":"Python\u4ee3\u7801\u7247\u6bb5"},{"location":"Python/snippet/#python","text":"","title":"Python\u4ee3\u7801\u7247\u6bb5"},{"location":"Python/snippet/#1crc16","text":"crc16_table = [ 0x0000,0x1021,0x2042,0x3063,0x4084,0x50A5,0x60C6,0x70E7, 0x8108,0x9129,0xA14A,0xB16B,0xC18C,0xD1AD,0xE1CE,0xF1EF, 0x1231,0x0210,0x3273,0x2252,0x52B5,0x4294,0x72F7,0x62D6, 0x9339,0x8318,0xB37B,0xA35A,0xD3BD,0xC39C,0xF3FF,0xE3DE, 0x2462,0x3443,0x0420,0x1401,0x64E6,0x74C7,0x44A4,0x5485, 0xA56A,0xB54B,0x8528,0x9509,0xE5EE,0xF5CF,0xC5AC,0xD58D, 0x3653,0x2672,0x1611,0x0630,0x76D7,0x66F6,0x5695,0x46B4, 0xB75B,0xA77A,0x9719,0x8738,0xF7DF,0xE7FE,0xD79D,0xC7BC, 0x48C4,0x58E5,0x6886,0x78A7,0x0840,0x1861,0x2802,0x3823, 0xC9CC,0xD9ED,0xE98E,0xF9AF,0x8948,0x9969,0xA90A,0xB92B, 0x5AF5,0x4AD4,0x7AB7,0x6A96,0x1A71,0x0A50,0x3A33,0x2A12, 0xDBFD,0xCBDC,0xFBBF,0xEB9E,0x9B79,0x8B58,0xBB3B,0xAB1A, 0x6CA6,0x7C87,0x4CE4,0x5CC5,0x2C22,0x3C03,0x0C60,0x1C41, 0xEDAE,0xFD8F,0xCDEC,0xDDCD,0xAD2A,0xBD0B,0x8D68,0x9D49, 0x7E97,0x6EB6,0x5ED5,0x4EF4,0x3E13,0x2E32,0x1E51,0x0E70, 0xFF9F,0xEFBE,0xDFDD,0xCFFC,0xBF1B,0xAF3A,0x9F59,0x8F78, 0x9188,0x81A9,0xB1CA,0xA1EB,0xD10C,0xC12D,0xF14E,0xE16F, 0x1080,0x00A1,0x30C2,0x20E3,0x5004,0x4025,0x7046,0x6067, 0x83B9,0x9398,0xA3FB,0xB3DA,0xC33D,0xD31C,0xE37F,0xF35E, 0x02B1,0x1290,0x22F3,0x32D2,0x4235,0x5214,0x6277,0x7256, 0xB5EA,0xA5CB,0x95A8,0x8589,0xF56E,0xE54F,0xD52C,0xC50D, 0x34E2,0x24C3,0x14A0,0x0481,0x7466,0x6447,0x5424,0x4405, 0xA7DB,0xB7FA,0x8799,0x97B8,0xE75F,0xF77E,0xC71D,0xD73C, 0x26D3,0x36F2,0x0691,0x16B0,0x6657,0x7676,0x4615,0x5634, 0xD94C,0xC96D,0xF90E,0xE92F,0x99C8,0x89E9,0xB98A,0xA9AB, 0x5844,0x4865,0x7806,0x6827,0x18C0,0x08E1,0x3882,0x28A3, 0xCB7D,0xDB5C,0xEB3F,0xFB1E,0x8BF9,0x9BD8,0xABBB,0xBB9A, 0x4A75,0x5A54,0x6A37,0x7A16,0x0AF1,0x1AD0,0x2AB3,0x3A92, 0xFD2E,0xED0F,0xDD6C,0xCD4D,0xBDAA,0xAD8B,0x9DE8,0x8DC9, 0x7C26,0x6C07,0x5C64,0x4C45,0x3CA2,0x2C83,0x1CE0,0x0CC1, 0xEF1F,0xFF3E,0xCF5D,0xDF7C,0xAF9B,0xBFBA,0x8FD9,0x9FF8, 0x6E17,0x7E36,0x4E55,0x5E74,0x2E93,0x3EB2,0x0ED1,0x1EF0 ] def crc_16(buf, len): crc = 0 for i in range(1,len): index = ((crc >> 8) ^ ord(buf[i])) & 0xFF crc = ((crc << 8) ^ crc16_table[index]) & 0xFFFF return crc","title":"1.CRC16"},{"location":"Python/tensorflow_install_on_windows/","text":"\u5b89\u88c5Tensorflow # # Current stable release for CPU-only pip install tensorflow # Preview nightly build for CPU-only (unstable) pip install tf-nightly # Install TensorFlow 2.0 Beta pip install tensorflow==2.0.0-beta1 \u5982\u679c\u62a5\u9519\uff0c\u90a3\u4e48\u8bf7\u5347\u7ea7\u60a8\u7684pip\uff0cnumpy\u548cmatplotlib python -m install --upgrade pip pip install -U numpy pip install -U matplotlib","title":"\u5b89\u88c5Tensorflow"},{"location":"Python/tensorflow_install_on_windows/#tensorflow","text":"# Current stable release for CPU-only pip install tensorflow # Preview nightly build for CPU-only (unstable) pip install tf-nightly # Install TensorFlow 2.0 Beta pip install tensorflow==2.0.0-beta1 \u5982\u679c\u62a5\u9519\uff0c\u90a3\u4e48\u8bf7\u5347\u7ea7\u60a8\u7684pip\uff0cnumpy\u548cmatplotlib python -m install --upgrade pip pip install -U numpy pip install -U matplotlib","title":"\u5b89\u88c5Tensorflow"},{"location":"Tools/JupyterNotebook/","text":"\u5c40\u57df\u7f51\u8bbf\u95eeJupyter Notebook\u7684\u8bbe\u7f6e\u65b9\u6cd5 # 1.\u5b89\u88c5Jupyter Notebook # pip install jupyter 2.\u5bfc\u51faJupyter Notebook\u7684\u914d\u7f6e\u6587\u4ef6 # jupyter notebook --generate-config 3.\u5bf9Jupyter Notebook\u7684\u914d\u7f6e\u6587\u4ef6\u505a\u5982\u4e0b\u4fee\u6539 # c.NotebookApp.ip='*' c.NotebookApp.open_browser = False c.NotebookApp.port =8888 4.\u542f\u52a8Jupyter Notebook # jupyter notebook --ip=0.0.0.0 --no-browser --allow-root \u7136\u540e\u6839\u636e\u547d\u4ee4\u884c\u63d0\u793a\u7684URL\u767b\u5f55\u5373\u53ef","title":"\u5c40\u57df\u7f51\u8bbf\u95eeJupyter Notebook"},{"location":"Tools/JupyterNotebook/#jupyter-notebook","text":"","title":"\u5c40\u57df\u7f51\u8bbf\u95eeJupyter Notebook\u7684\u8bbe\u7f6e\u65b9\u6cd5"},{"location":"Tools/JupyterNotebook/#1jupyter-notebook","text":"pip install jupyter","title":"1.\u5b89\u88c5Jupyter Notebook"},{"location":"Tools/JupyterNotebook/#2jupyter-notebook","text":"jupyter notebook --generate-config","title":"2.\u5bfc\u51faJupyter Notebook\u7684\u914d\u7f6e\u6587\u4ef6"},{"location":"Tools/JupyterNotebook/#3jupyter-notebook","text":"c.NotebookApp.ip='*' c.NotebookApp.open_browser = False c.NotebookApp.port =8888","title":"3.\u5bf9Jupyter Notebook\u7684\u914d\u7f6e\u6587\u4ef6\u505a\u5982\u4e0b\u4fee\u6539"},{"location":"Tools/JupyterNotebook/#4jupyter-notebook","text":"jupyter notebook --ip=0.0.0.0 --no-browser --allow-root \u7136\u540e\u6839\u636e\u547d\u4ee4\u884c\u63d0\u793a\u7684URL\u767b\u5f55\u5373\u53ef","title":"4.\u542f\u52a8Jupyter Notebook"},{"location":"Tools/PlantUML/","text":"UML Tool # Resources # PlantUML Office Site Graphviz Office Site Install Graphviz for PlantUML Download plantuml.jar Set \"graphviz/bin\" path to environment variables. PlantUML for Notepad++ # PlantUML for Notepad++ Test with Notepad++ # Create a new txt file with PlantUML commands, like this example called test_uml.txt @startuml :Main Admin: as Admin (Use the application) as (Use) User -> (Start) User --> (Use) Admin ---> (Use) note right of Admin : This is an example. note right of (Use) A note can also be on several lines end note note \"This note is connected\\nto several objects.\" as N2 (Start) .. N2 N2 .. (Use) @enduml Then, run PlantUML, using test_uml.txt as input. The output is an image. java -jar plantuml.jar test_uml.txt The result is: Note It only is sytax highlighting support for PlantUML user defined language defined for Notepad++, the real program is plantuml.jar. PlantUML for Android Studio # File -> Settings -> Plug -> Browse Repositories Then search \"plantuml\" Then install it Test with Android Studio # File -> New -> UML Use Case -> \"test.puml\" The result is:","title":"UML"},{"location":"Tools/PlantUML/#uml-tool","text":"","title":"UML Tool"},{"location":"Tools/PlantUML/#resources","text":"PlantUML Office Site Graphviz Office Site Install Graphviz for PlantUML Download plantuml.jar Set \"graphviz/bin\" path to environment variables.","title":"Resources"},{"location":"Tools/PlantUML/#plantuml-for-notepad","text":"PlantUML for Notepad++","title":"PlantUML for Notepad++"},{"location":"Tools/PlantUML/#test-with-notepad","text":"Create a new txt file with PlantUML commands, like this example called test_uml.txt @startuml :Main Admin: as Admin (Use the application) as (Use) User -> (Start) User --> (Use) Admin ---> (Use) note right of Admin : This is an example. note right of (Use) A note can also be on several lines end note note \"This note is connected\\nto several objects.\" as N2 (Start) .. N2 N2 .. (Use) @enduml Then, run PlantUML, using test_uml.txt as input. The output is an image. java -jar plantuml.jar test_uml.txt The result is: Note It only is sytax highlighting support for PlantUML user defined language defined for Notepad++, the real program is plantuml.jar.","title":"Test with Notepad++"},{"location":"Tools/PlantUML/#plantuml-for-android-studio","text":"File -> Settings -> Plug -> Browse Repositories Then search \"plantuml\" Then install it","title":"PlantUML for Android Studio"},{"location":"Tools/PlantUML/#test-with-android-studio","text":"File -> New -> UML Use Case -> \"test.puml\" The result is:","title":"Test with Android Studio"},{"location":"Tools/embedded_develop_tools/","text":"\u5d4c\u5165\u5f0f\u5f00\u53d1\u4e4b\u795e\u5175\u5229\u5668 # \u4e00\u4e9b\u975e\u5e38\u5b9e\u7528\u4f46\u662f\u4e0d\u592a\u597d\u627e\u7684\u5de5\u5177\u3002 1. Source Insight\u4ee3\u7801\u9605\u8bfb\u795e\u5668 # Source Insight\u662f\u4e00\u4e2a\u529f\u80fd\u5f3a\u5927\u7684\u9762\u5411\u9879\u76ee\u7684\u7f16\u7a0b\u7f16\u8f91\u5668\uff0c\u4ee3\u7801\u6d4f\u89c8\u5668\u548c\u5206\u6790\u5668\uff0c\u53ef\u5e2e\u52a9\u4f60\u5728\u5de5\u4f5c\u548c\u8ba1\u5212\u200b\u200b\u65f6\u7406\u89e3\u4ee3\u7801\u3002 Source Insight\u5b98\u7f51 Source Insight4.0\u4e0b\u8f7d\u5730\u5740 2. \u4e8c\u8fdb\u5236\u6587\u4ef6\u7f16\u8f91\u5668 # Windows\u5e73\u53f0\u4e0b\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u7f16\u8f91\u5668\u3002 WinHex\u5b98\u7f51 WinHex19.8\u4e0b\u8f7d\u5730\u5740 3.\u601d\u7ef4\u5bfc\u56fe # MindManger\u662f\u4e00\u6b3e\u975e\u5e38\u4f18\u79c0\u7684\u601d\u7ef4\u5bfc\u56fe\u8f6f\u4ef6\u3002 MindManger\u5b98\u7f51 MindManger19\u4e0b\u8f7d\u5730\u5740 4.\u622a\u5c4f\u53d6\u8272\u5f55\u5c4f\u5de5\u5177FS Capture # Windows\u5e73\u53f0\u622a\u5c4f\u53d6\u8272\u5f55\u5c4f\u5de5\u5177FastStone Capture\u3002 FS Capture\u4e0b\u8f7d\u5730\u5740 5. Windows UVC\u6444\u50cf\u5934 AMCAP # UVC\u6444\u50cf\u5934\u64cd\u4f5c\u8f6f\u4ef6\u3002 AMCAP9.22\u4e0b\u8f7d\u5730\u5740 6. ScreenToGif # GIF\u5c4f\u5e55\u5f55\u5236\u5de5\u5177\u3002 ScreenToGif\u5b98\u7f51\u4e0b\u8f7d\u5730\u5740 ScreenToGif\u4e0b\u8f7d\u5730\u5740 7. VLC # VLC\u662f\u4e00\u6b3e\u514d\u8d39\u5f00\u6e90\u7684\u591a\u5a92\u4f53\u64ad\u653e\u5668\uff0c\u5177\u6709\u89c6\u9891\u64ad\u653e\uff0c\u89c6\u9891\u63a8\u6d41\uff0c\u6444\u50cf\u5934\u9884\u89c8\uff0c\u5c4f\u5e55\u5f55\u50cf\u7b49\u529f\u80fd\u3002 VLC\u5b98\u7f51\u5730\u5740 8. OBS-Studio # OBS-Studio\u662f\u4e00\u6b3e\u514d\u8d39\u5f00\u6e90\u7684\u5f55\u50cf\u548c\u76f4\u64ad\u63a8\u6d41\u5de5\u5177\u3002 OBS-Studio\u5b98\u7f51 x.\u6301\u7eed\u66f4\u65b0\u4e2d... # \u795e\u5175\u5229\u5668\u5386\u7ec3\u4e2d\uff0c\u656c\u8bf7\u5173\u6ce8\uff01 \u66f4\u591a\u7cbe\u5f69\u8d44\u8baf\uff0c\u8bf7\u626b\u7801\u5173\u6ce8\uff01","title":"\u5d4c\u5165\u5f0f\u5f00\u53d1\u795e\u5175\u5229\u5668"},{"location":"Tools/embedded_develop_tools/#_1","text":"\u4e00\u4e9b\u975e\u5e38\u5b9e\u7528\u4f46\u662f\u4e0d\u592a\u597d\u627e\u7684\u5de5\u5177\u3002","title":"\u5d4c\u5165\u5f0f\u5f00\u53d1\u4e4b\u795e\u5175\u5229\u5668"},{"location":"Tools/embedded_develop_tools/#1-source-insight","text":"Source Insight\u662f\u4e00\u4e2a\u529f\u80fd\u5f3a\u5927\u7684\u9762\u5411\u9879\u76ee\u7684\u7f16\u7a0b\u7f16\u8f91\u5668\uff0c\u4ee3\u7801\u6d4f\u89c8\u5668\u548c\u5206\u6790\u5668\uff0c\u53ef\u5e2e\u52a9\u4f60\u5728\u5de5\u4f5c\u548c\u8ba1\u5212\u200b\u200b\u65f6\u7406\u89e3\u4ee3\u7801\u3002 Source Insight\u5b98\u7f51 Source Insight4.0\u4e0b\u8f7d\u5730\u5740","title":"1. Source Insight\u4ee3\u7801\u9605\u8bfb\u795e\u5668"},{"location":"Tools/embedded_develop_tools/#2","text":"Windows\u5e73\u53f0\u4e0b\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u7f16\u8f91\u5668\u3002 WinHex\u5b98\u7f51 WinHex19.8\u4e0b\u8f7d\u5730\u5740","title":"2. \u4e8c\u8fdb\u5236\u6587\u4ef6\u7f16\u8f91\u5668"},{"location":"Tools/embedded_develop_tools/#3","text":"MindManger\u662f\u4e00\u6b3e\u975e\u5e38\u4f18\u79c0\u7684\u601d\u7ef4\u5bfc\u56fe\u8f6f\u4ef6\u3002 MindManger\u5b98\u7f51 MindManger19\u4e0b\u8f7d\u5730\u5740","title":"3.\u601d\u7ef4\u5bfc\u56fe"},{"location":"Tools/embedded_develop_tools/#4fs-capture","text":"Windows\u5e73\u53f0\u622a\u5c4f\u53d6\u8272\u5f55\u5c4f\u5de5\u5177FastStone Capture\u3002 FS Capture\u4e0b\u8f7d\u5730\u5740","title":"4.\u622a\u5c4f\u53d6\u8272\u5f55\u5c4f\u5de5\u5177FS Capture"},{"location":"Tools/embedded_develop_tools/#5-windows-uvc-amcap","text":"UVC\u6444\u50cf\u5934\u64cd\u4f5c\u8f6f\u4ef6\u3002 AMCAP9.22\u4e0b\u8f7d\u5730\u5740","title":"5. Windows UVC\u6444\u50cf\u5934 AMCAP"},{"location":"Tools/embedded_develop_tools/#6-screentogif","text":"GIF\u5c4f\u5e55\u5f55\u5236\u5de5\u5177\u3002 ScreenToGif\u5b98\u7f51\u4e0b\u8f7d\u5730\u5740 ScreenToGif\u4e0b\u8f7d\u5730\u5740","title":"6. ScreenToGif"},{"location":"Tools/embedded_develop_tools/#7-vlc","text":"VLC\u662f\u4e00\u6b3e\u514d\u8d39\u5f00\u6e90\u7684\u591a\u5a92\u4f53\u64ad\u653e\u5668\uff0c\u5177\u6709\u89c6\u9891\u64ad\u653e\uff0c\u89c6\u9891\u63a8\u6d41\uff0c\u6444\u50cf\u5934\u9884\u89c8\uff0c\u5c4f\u5e55\u5f55\u50cf\u7b49\u529f\u80fd\u3002 VLC\u5b98\u7f51\u5730\u5740","title":"7. VLC"},{"location":"Tools/embedded_develop_tools/#8-obs-studio","text":"OBS-Studio\u662f\u4e00\u6b3e\u514d\u8d39\u5f00\u6e90\u7684\u5f55\u50cf\u548c\u76f4\u64ad\u63a8\u6d41\u5de5\u5177\u3002 OBS-Studio\u5b98\u7f51","title":"8. OBS-Studio"},{"location":"Tools/embedded_develop_tools/#x","text":"\u795e\u5175\u5229\u5668\u5386\u7ec3\u4e2d\uff0c\u656c\u8bf7\u5173\u6ce8\uff01 \u66f4\u591a\u7cbe\u5f69\u8d44\u8baf\uff0c\u8bf7\u626b\u7801\u5173\u6ce8\uff01","title":"x.\u6301\u7eed\u66f4\u65b0\u4e2d..."},{"location":"Tools/git_command/","text":"Git # 1.git\u5b50\u6a21\u5757 # \u83b7\u53d6\u8fdc\u7a0b\u6307\u5b9a\u5206\u652f # \u4ece\u8fdc\u7a0b\u4ed3\u5e93\u91cc\u62c9\u53d6\u4e00\u6761\u672c\u5730\u4e0d\u5b58\u5728\u7684\u5206\u652f\u65f6 git checkout -b new_local_branch_name origin/remote_branch_name 2.\u4ee5\u56fe\u5f62\u7684\u65b9\u5f0f\u67e5\u770b\u5206\u652f\u4e4b\u95f4\u7684\u5173\u7cfb # gitk --simplify-by-decoration --all 3.Git\u521b\u5efa\u7a7a\u767d\uff08\u5b64\u513f\uff09\u5206\u652f # 3.1 \u521b\u5efa\u4e00\u4e2a\u7a7a\u767d\u5206\u652f # // \u521b\u5efa\u5e76\u5207\u6362\u5230\u65b0\u5206\u652f git checkout --orphan <branch_name> // \u521b\u5efa\u4e00\u4e2a\u7a7a\u7684\u72ec\u7acb\u5206\u652f git rm -rf . // \u521b\u5efa\u6587\u4ef6\u5e76\u63d0\u4ea4\uff08\u5982\u679c\u6ca1\u6709\u63d0\u4ea4orphan\u5206\u652f\u5c06\u4e0d\u4f1a\u751f\u6548\uff09 vim README.md git add README.md git commit -m \"add README.md\" 3.2 \u521b\u5efa\u4e00\u4e2a\u4ee5\u5f53\u524d\u8282\u70b9\u4e3a\u57fa\u7840\u7684\u72ec\u7acb\u5206\u652f # // \u521b\u5efa\u5e76\u5207\u6362\u5230\u65b0\u5206\u652f git checkout --orphan <branch_name> // \u5c06\u5f53\u524d\u6240\u6709\u6587\u4ef6\u63d0\u4ea4 git commit -a 4.git\u5220\u9664\u5df2\u7ecf\u63d0\u4ea4\u7684\u6587\u4ef6 # git rm -r --cached xxx // xxx\u662f\u4f60\u8981\u5220\u9664\u7684\u6587\u4ef6\uff0c\u672c\u547d\u4ee4\u6267\u884c\u5b8c\u4e4b\u540e\uff0c\u5728.gitignore\u6587\u4ef6\u4e2d\u6dfb\u52a0\u4e0a\u8be5\u9700\u8981\u5220\u9664\u7684\u6587\u4ef6 git add . git commit -m \"update .gitignore\" git push -f origin master // \u5f3a\u63a8 5.git\u5f3a\u5236\u62c9\u53d6\u8fdc\u7a0b\u5206\u652f\u66f4\u65b0 # \u5047\u8bbe\u4f60\u5de5\u4f5c\u5728master\u5206\u652f # \u83b7\u53d6\u8fdc\u7a0b\u5206\u652f\u7684\u5185\u5bb9 git fetch -all # \u6307\u5411\u65b0\u7684\u5206\u652f git reset --hard origin/master","title":"git command"},{"location":"Tools/git_command/#git","text":"","title":"Git"},{"location":"Tools/git_command/#1git","text":"","title":"1.git\u5b50\u6a21\u5757"},{"location":"Tools/git_command/#_1","text":"\u4ece\u8fdc\u7a0b\u4ed3\u5e93\u91cc\u62c9\u53d6\u4e00\u6761\u672c\u5730\u4e0d\u5b58\u5728\u7684\u5206\u652f\u65f6 git checkout -b new_local_branch_name origin/remote_branch_name","title":"\u83b7\u53d6\u8fdc\u7a0b\u6307\u5b9a\u5206\u652f"},{"location":"Tools/git_command/#2","text":"gitk --simplify-by-decoration --all","title":"2.\u4ee5\u56fe\u5f62\u7684\u65b9\u5f0f\u67e5\u770b\u5206\u652f\u4e4b\u95f4\u7684\u5173\u7cfb"},{"location":"Tools/git_command/#3git","text":"","title":"3.Git\u521b\u5efa\u7a7a\u767d\uff08\u5b64\u513f\uff09\u5206\u652f"},{"location":"Tools/git_command/#31","text":"// \u521b\u5efa\u5e76\u5207\u6362\u5230\u65b0\u5206\u652f git checkout --orphan <branch_name> // \u521b\u5efa\u4e00\u4e2a\u7a7a\u7684\u72ec\u7acb\u5206\u652f git rm -rf . // \u521b\u5efa\u6587\u4ef6\u5e76\u63d0\u4ea4\uff08\u5982\u679c\u6ca1\u6709\u63d0\u4ea4orphan\u5206\u652f\u5c06\u4e0d\u4f1a\u751f\u6548\uff09 vim README.md git add README.md git commit -m \"add README.md\"","title":"3.1 \u521b\u5efa\u4e00\u4e2a\u7a7a\u767d\u5206\u652f"},{"location":"Tools/git_command/#32","text":"// \u521b\u5efa\u5e76\u5207\u6362\u5230\u65b0\u5206\u652f git checkout --orphan <branch_name> // \u5c06\u5f53\u524d\u6240\u6709\u6587\u4ef6\u63d0\u4ea4 git commit -a","title":"3.2 \u521b\u5efa\u4e00\u4e2a\u4ee5\u5f53\u524d\u8282\u70b9\u4e3a\u57fa\u7840\u7684\u72ec\u7acb\u5206\u652f"},{"location":"Tools/git_command/#4git","text":"git rm -r --cached xxx // xxx\u662f\u4f60\u8981\u5220\u9664\u7684\u6587\u4ef6\uff0c\u672c\u547d\u4ee4\u6267\u884c\u5b8c\u4e4b\u540e\uff0c\u5728.gitignore\u6587\u4ef6\u4e2d\u6dfb\u52a0\u4e0a\u8be5\u9700\u8981\u5220\u9664\u7684\u6587\u4ef6 git add . git commit -m \"update .gitignore\" git push -f origin master // \u5f3a\u63a8","title":"4.git\u5220\u9664\u5df2\u7ecf\u63d0\u4ea4\u7684\u6587\u4ef6"},{"location":"Tools/git_command/#5git","text":"\u5047\u8bbe\u4f60\u5de5\u4f5c\u5728master\u5206\u652f # \u83b7\u53d6\u8fdc\u7a0b\u5206\u652f\u7684\u5185\u5bb9 git fetch -all # \u6307\u5411\u65b0\u7684\u5206\u652f git reset --hard origin/master","title":"5.git\u5f3a\u5236\u62c9\u53d6\u8fdc\u7a0b\u5206\u652f\u66f4\u65b0"},{"location":"Tools/hexo/","text":"Hexo\u914d\u7f6e # 1.\u5728\u53f3\u4e0a\u89d2\u6216\u8005\u5de6\u4e0a\u89d2\u5b9e\u73b0fork me on github # \u53f3\u4e0a\u89d2 \u5de6\u4e0a\u89d2 2.\u4e3b\u9875\u6587\u7ae0\u6dfb\u52a0\u9634\u5f71\u6548\u679c # 2.1 \u6253\u5f00\\themes\\next\\source\\css_custom\\custom.styl,\u5411\u91cc\u9762\u52a0\u5165\uff1a # // \u4e3b\u9875\u6587\u7ae0\u6dfb\u52a0\u9634\u5f71\u6548\u679c .post { margin-top: 60px; margin-bottom: 60px; padding: 25px; -webkit-box-shadow: 0 0 5px rgba(202, 203, 203, .5); -moz-box-shadow: 0 0 5px rgba(202, 203, 204, .5); } 3.\u5728\u7f51\u7ad9\u5e95\u90e8\u52a0\u4e0a\u8bbf\u95ee\u91cf # \u4e0d\u849c\u5b50 \u6253\u5f00\\themes\\next\\layout_partials\\footer.swig\u6587\u4ef6,\u5728copyright\u524d\u52a0\u4e0a\u753b\u7ea2\u7ebf\u8fd9\u53e5\u8bdd\uff1a <script async src=\"https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js\"></script> \u7136\u540e\u5728\\themes\\next\\layout_partials\\footer.swig {% if theme.footer.powered.enable %} # add <div class=\"powered-by\"> <i class=\"fa fa-user-md\"></i><span id=\"busuanzi_container_site_uv\"> \u672c\u7ad9\u8bbf\u5ba2\u6570:<span id=\"busuanzi_value_site_uv\"></span> </span> </div> # add <span class=\"post-meta-divider\">|</span> <div class=\"powered-by\">{# #}{{ __('footer.powered', next_url('https://hexo.io', 'Hexo', {class: 'theme-link'})) }}{# #}{% if theme.footer.powered.version %} v{{ hexo_env('version') }}{% endif %}{# #}</div> {% endif %}","title":"Hexo"},{"location":"Tools/hexo/#hexo","text":"","title":"Hexo\u914d\u7f6e"},{"location":"Tools/hexo/#1fork-me-on-github","text":"\u53f3\u4e0a\u89d2 \u5de6\u4e0a\u89d2","title":"1.\u5728\u53f3\u4e0a\u89d2\u6216\u8005\u5de6\u4e0a\u89d2\u5b9e\u73b0fork me on github"},{"location":"Tools/hexo/#2","text":"","title":"2.\u4e3b\u9875\u6587\u7ae0\u6dfb\u52a0\u9634\u5f71\u6548\u679c"},{"location":"Tools/hexo/#21-themesnextsourcecss95customcustomstyl","text":"// \u4e3b\u9875\u6587\u7ae0\u6dfb\u52a0\u9634\u5f71\u6548\u679c .post { margin-top: 60px; margin-bottom: 60px; padding: 25px; -webkit-box-shadow: 0 0 5px rgba(202, 203, 203, .5); -moz-box-shadow: 0 0 5px rgba(202, 203, 204, .5); }","title":"2.1 \u6253\u5f00\\themes\\next\\source\\css_custom\\custom.styl,\u5411\u91cc\u9762\u52a0\u5165\uff1a"},{"location":"Tools/hexo/#3","text":"\u4e0d\u849c\u5b50 \u6253\u5f00\\themes\\next\\layout_partials\\footer.swig\u6587\u4ef6,\u5728copyright\u524d\u52a0\u4e0a\u753b\u7ea2\u7ebf\u8fd9\u53e5\u8bdd\uff1a <script async src=\"https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js\"></script> \u7136\u540e\u5728\\themes\\next\\layout_partials\\footer.swig {% if theme.footer.powered.enable %} # add <div class=\"powered-by\"> <i class=\"fa fa-user-md\"></i><span id=\"busuanzi_container_site_uv\"> \u672c\u7ad9\u8bbf\u5ba2\u6570:<span id=\"busuanzi_value_site_uv\"></span> </span> </div> # add <span class=\"post-meta-divider\">|</span> <div class=\"powered-by\">{# #}{{ __('footer.powered', next_url('https://hexo.io', 'Hexo', {class: 'theme-link'})) }}{# #}{% if theme.footer.powered.version %} v{{ hexo_env('version') }}{% endif %}{# #}</div> {% endif %}","title":"3.\u5728\u7f51\u7ad9\u5e95\u90e8\u52a0\u4e0a\u8bbf\u95ee\u91cf"},{"location":"Tools/markdown/","text":"Markdown\u4e2d\u7684\u4e00\u4e9b\u6280\u5de7 # 1.\u65b0\u7a97\u53e3\u6253\u5f00\u94fe\u63a5 # <a href=\"https://www.gnu.org/software/make/manual/make.html#Flavors\" target=\"_blank\">\u5b98\u7f51\u7684\u4ecb\u7ecd</a>","title":"Markdown\u4e2d\u7684\u4e00\u4e9b\u6280\u5de7"},{"location":"Tools/markdown/#markdown","text":"","title":"Markdown\u4e2d\u7684\u4e00\u4e9b\u6280\u5de7"},{"location":"Tools/markdown/#1","text":"<a href=\"https://www.gnu.org/software/make/manual/make.html#Flavors\" target=\"_blank\">\u5b98\u7f51\u7684\u4ecb\u7ecd</a>","title":"1.\u65b0\u7a97\u53e3\u6253\u5f00\u94fe\u63a5"},{"location":"Tools/VIM/vim_base/","text":"vim\u57fa\u7840 # 1.\u65b0\u6280\u5de7 # 1.1 \u5728vim\u4e2d\u6253\u5f00\u4e00\u4e2a\u7ec8\u7aef # # \u6253\u5f00\u7ec8\u7aef :ter #\u5728vim\u547d\u4ee4\u6a21\u5f0f\u8f93\u5165ter # \u9690\u85cf\u7ec8\u7aef ctrl+w :hide #\u5148\u6309\u4e0bctrl+w\u952e\uff0c\u7136\u540e\u5728vim\u547d\u4ee4\u6a21\u5f0f\u8f93\u5165hide # \u6062\u590d\u9690\u85cf\u7684\u7ec8\u7aef :ls # ls\u67e5\u770b\u5173\u95ed\u7684\u7ec8\u7aef\u7684\u5e8f\u53f7 # \u6062\u590d\u7ec8\u7aef :buffer 2 # \u5173\u95ed\u7ec8\u7aef ctrl+w :quit! 1.2 \u5206\u5c4f\u64cd\u4f5c # # \u4e0a\u4e0b\u5206\u5c4f :sp # \u5de6\u53f3\u5206\u5c4f :vs/vsp 1.3 vim\u4e2d\u652f\u6301\u9f20\u6807 # :set mouse=a 2.\u6307\u4ee4 # \u6307\u4ee4 \u542b\u4e49 dd \u5220\u9664\uff08\u526a\u5207\uff09\u5f53\u524d\u884c ndd \u5220\u9664\uff08\u526a\u5207\uff09n\u884c dw \u590d\u5236\u4e00\u4e2a\u5b57\u7b26 ndw \u590d\u5236n\u4e2a\u5b57\u7b26 yy \u590d\u5236\u5f53\u524d\u884c nyy \u590d\u5236n\u884c","title":"VIM\u57fa\u7840"},{"location":"Tools/VIM/vim_base/#vim","text":"","title":"vim\u57fa\u7840"},{"location":"Tools/VIM/vim_base/#1","text":"","title":"1.\u65b0\u6280\u5de7"},{"location":"Tools/VIM/vim_base/#11-vim","text":"# \u6253\u5f00\u7ec8\u7aef :ter #\u5728vim\u547d\u4ee4\u6a21\u5f0f\u8f93\u5165ter # \u9690\u85cf\u7ec8\u7aef ctrl+w :hide #\u5148\u6309\u4e0bctrl+w\u952e\uff0c\u7136\u540e\u5728vim\u547d\u4ee4\u6a21\u5f0f\u8f93\u5165hide # \u6062\u590d\u9690\u85cf\u7684\u7ec8\u7aef :ls # ls\u67e5\u770b\u5173\u95ed\u7684\u7ec8\u7aef\u7684\u5e8f\u53f7 # \u6062\u590d\u7ec8\u7aef :buffer 2 # \u5173\u95ed\u7ec8\u7aef ctrl+w :quit!","title":"1.1 \u5728vim\u4e2d\u6253\u5f00\u4e00\u4e2a\u7ec8\u7aef"},{"location":"Tools/VIM/vim_base/#12","text":"# \u4e0a\u4e0b\u5206\u5c4f :sp # \u5de6\u53f3\u5206\u5c4f :vs/vsp","title":"1.2 \u5206\u5c4f\u64cd\u4f5c"},{"location":"Tools/VIM/vim_base/#13-vim","text":":set mouse=a","title":"1.3 vim\u4e2d\u652f\u6301\u9f20\u6807"},{"location":"Tools/VIM/vim_base/#2","text":"\u6307\u4ee4 \u542b\u4e49 dd \u5220\u9664\uff08\u526a\u5207\uff09\u5f53\u524d\u884c ndd \u5220\u9664\uff08\u526a\u5207\uff09n\u884c dw \u590d\u5236\u4e00\u4e2a\u5b57\u7b26 ndw \u590d\u5236n\u4e2a\u5b57\u7b26 yy \u590d\u5236\u5f53\u524d\u884c nyy \u590d\u5236n\u884c","title":"2.\u6307\u4ee4"},{"location":"Tools/VIM/vim_configure/","text":"VIM\u914d\u7f6e # 1. \u5b89\u88c5VIM\u63d2\u4ef6\u7ba1\u7406\u5668 # git clone https://github.com/VundleVim/Vundle.vim.git ~/.vim/bundle/Vundle.vim set nocompatible \" be iMproved, required filetype off \" required \" set the runtime path to include Vundle and initialize set rtp+=~/.vim/bundle/Vundle.vim call vundle#begin() \" alternatively, pass a path where Vundle should install plugins \"call vundle#begin('~/some/path/here') \" let Vundle manage Vundle, required Plugin 'VundleVim/Vundle.vim' \" \u5c06\u8981\u5b89\u88c5\u7684\u63d2\u4ef6\u5199\u5728call vundle#begin() \u548c call vundle#end() \u4e4b\u95f4 \" All of your Plugins must be added before the following line call vundle#end() \" required filetype plugin indent on \" required \" To ignore plugin indent changes, instead use: \"filetype plugin on \" \" Brief help \" :PluginList - lists configured plugins \" :PluginInstall - installs plugins; append `!` to update or just :PluginUpdate \" :PluginSearch foo - searches for foo; append `!` to refresh local cache \" :PluginClean - confirms removal of unused plugins; append `!` to auto-approve removal \" \" see :h vundle for more details or wiki for FAQ \" Put your non-Plugin stuff after this line 2. \u4ee3\u7801\u81ea\u52a8\u8865\u5168\u63d2\u4ef6YouCompleteMe\u5b89\u88c5 # \u56e0\u4e3aVundle\u5b89\u88c5\u63d2\u4ef6\u6bd4\u8f83\u6162\uff0c\u6240\u4ee5\u6211\u4eec\u624b\u52a8\u5b89\u88c5\u3002 YouCompleteMe git clone https://github.com/ycm-core/YouCompleteMe.git ~/.vim/plugged/YouCompleteMe cd .vim/bundle/YouCompleteMe git submodule update--init--recursive ./install.py --clang-completer let g:ycm_global_ycm_extra_conf = '~/.vim/bundle/YouCompleteMe/third_party/ycmd/cpp/ycm/.ycm_extra_conf.py'","title":"VIM\u63d2\u4ef6\u914d\u7f6e"},{"location":"Tools/VIM/vim_configure/#vim","text":"","title":"VIM\u914d\u7f6e"},{"location":"Tools/VIM/vim_configure/#1-vim","text":"git clone https://github.com/VundleVim/Vundle.vim.git ~/.vim/bundle/Vundle.vim set nocompatible \" be iMproved, required filetype off \" required \" set the runtime path to include Vundle and initialize set rtp+=~/.vim/bundle/Vundle.vim call vundle#begin() \" alternatively, pass a path where Vundle should install plugins \"call vundle#begin('~/some/path/here') \" let Vundle manage Vundle, required Plugin 'VundleVim/Vundle.vim' \" \u5c06\u8981\u5b89\u88c5\u7684\u63d2\u4ef6\u5199\u5728call vundle#begin() \u548c call vundle#end() \u4e4b\u95f4 \" All of your Plugins must be added before the following line call vundle#end() \" required filetype plugin indent on \" required \" To ignore plugin indent changes, instead use: \"filetype plugin on \" \" Brief help \" :PluginList - lists configured plugins \" :PluginInstall - installs plugins; append `!` to update or just :PluginUpdate \" :PluginSearch foo - searches for foo; append `!` to refresh local cache \" :PluginClean - confirms removal of unused plugins; append `!` to auto-approve removal \" \" see :h vundle for more details or wiki for FAQ \" Put your non-Plugin stuff after this line","title":"1. \u5b89\u88c5VIM\u63d2\u4ef6\u7ba1\u7406\u5668"},{"location":"Tools/VIM/vim_configure/#2-youcompleteme","text":"\u56e0\u4e3aVundle\u5b89\u88c5\u63d2\u4ef6\u6bd4\u8f83\u6162\uff0c\u6240\u4ee5\u6211\u4eec\u624b\u52a8\u5b89\u88c5\u3002 YouCompleteMe git clone https://github.com/ycm-core/YouCompleteMe.git ~/.vim/plugged/YouCompleteMe cd .vim/bundle/YouCompleteMe git submodule update--init--recursive ./install.py --clang-completer let g:ycm_global_ycm_extra_conf = '~/.vim/bundle/YouCompleteMe/third_party/ycmd/cpp/ycm/.ycm_extra_conf.py'","title":"2. \u4ee3\u7801\u81ea\u52a8\u8865\u5168\u63d2\u4ef6YouCompleteMe\u5b89\u88c5"},{"location":"Tools/VIM/vim_plug_nerdtree/","text":"VIM \u5b89\u88c5\u4f7f\u7528NERDTree\u63d2\u4ef6 # 1.\u4f7f\u7528VIM-Plug\u5b89\u88c5NERDTree\u63d2\u4ef6 # 1.1 Download plug.vim and put it in the \"autoload\" directory # curl -fLo ~/.vim/autoload/plug.vim --create-dirs \\ https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim Reference site 1.2 Download NERDTree # # dowmload NERDTree git clone https://github.com/preservim/nerdtree.git ~/.vim/pack/vendor/start/nerdtree # vim -u NONE \u5ffd\u7565.vimrc\u6587\u4ef6\u542f\u52a8vim # -c \"helptags ~/.vim/pack/vendor/start/nerdtree/doc\" \u5c06NERD\u7684\u5e2e\u52a9\u6587\u6863\u6dfb\u52a0\u5230VIM\u7684\u5e2e\u52a9\u6587\u6863\u4e2d # -c q \u6267\u884c\u9000\u51fa\u547d\u4ee4 vim -u NONE -c \"helptags ~/.vim/pack/vendor/start/nerdtree/doc\" -c q 1.3 Configure VIM-Plug # # \u6253\u5f00\u4f60\u7684.vimrc\u914d\u7f6e\u6587\u4ef6 vim .vimrc # \u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9 call plug#begin() Plug 'preservim/nerdtree' call plug#end() autocmd VimEnter * NERDTree 1.4 Install NERDTree # \u9996\u5148\u542f\u52a8vim\uff0c\u7136\u540e\u6309\u4e0b : \u952e\uff0c\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff1a PlugInstall","title":"\u4f7f\u7528VIM-Plug\u914d\u5408NERDTree"},{"location":"Tools/VIM/vim_plug_nerdtree/#vim-nerdtree","text":"","title":"VIM \u5b89\u88c5\u4f7f\u7528NERDTree\u63d2\u4ef6"},{"location":"Tools/VIM/vim_plug_nerdtree/#1vim-plugnerdtree","text":"","title":"1.\u4f7f\u7528VIM-Plug\u5b89\u88c5NERDTree\u63d2\u4ef6"},{"location":"Tools/VIM/vim_plug_nerdtree/#11-download-plugvim-and-put-it-in-the-autoload-directory","text":"curl -fLo ~/.vim/autoload/plug.vim --create-dirs \\ https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim Reference site","title":"1.1 Download plug.vim and put it in the \"autoload\" directory"},{"location":"Tools/VIM/vim_plug_nerdtree/#12-download-nerdtree","text":"# dowmload NERDTree git clone https://github.com/preservim/nerdtree.git ~/.vim/pack/vendor/start/nerdtree # vim -u NONE \u5ffd\u7565.vimrc\u6587\u4ef6\u542f\u52a8vim # -c \"helptags ~/.vim/pack/vendor/start/nerdtree/doc\" \u5c06NERD\u7684\u5e2e\u52a9\u6587\u6863\u6dfb\u52a0\u5230VIM\u7684\u5e2e\u52a9\u6587\u6863\u4e2d # -c q \u6267\u884c\u9000\u51fa\u547d\u4ee4 vim -u NONE -c \"helptags ~/.vim/pack/vendor/start/nerdtree/doc\" -c q","title":"1.2 Download NERDTree"},{"location":"Tools/VIM/vim_plug_nerdtree/#13-configure-vim-plug","text":"# \u6253\u5f00\u4f60\u7684.vimrc\u914d\u7f6e\u6587\u4ef6 vim .vimrc # \u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9 call plug#begin() Plug 'preservim/nerdtree' call plug#end() autocmd VimEnter * NERDTree","title":"1.3 Configure VIM-Plug"},{"location":"Tools/VIM/vim_plug_nerdtree/#14-install-nerdtree","text":"\u9996\u5148\u542f\u52a8vim\uff0c\u7136\u540e\u6309\u4e0b : \u952e\uff0c\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff1a PlugInstall","title":"1.4 Install NERDTree"},{"location":"Tools/VIM/vim_usage/","text":"VIM\u4f7f\u7528 # 1. \u5206\u5c4f\u6253\u5f00\u6587\u4ef6 # \u7ad6\u76f4\u5206\u5c4f vim -On file1 file2 \u5782\u76f4\u5206\u914d vim -0n file1 file2 2. \u5207\u6362\u5206\u5c4f # \u987a\u5e8f\u5207\u6362 ctrl + w w \u6309\u7167\u65b9\u5411\u5207\u6362 ctrl + w \u65b9\u5411\u952e 3. \u8c03\u6574\u5206\u5c4f\u5c3a\u5bf8 # \u8c03\u6574\u9ad8\u5ea6 ctrl + w +/- \u8c03\u6574\u5bbd\u5ea6 # \u7b49\u5bbd ctrl + w = # \u5de6\u53f3\u8c03\u6574 ctrl + w < \u6216\u8005 > 4. \u5173\u95ed\u5206\u5c4f # ctrl + w c # \u5047\u5982\u662f\u6700\u540e\u4e00\u5c4f\uff0c\u5219\u9000\u51favim ctrl + w q","title":"VIM\u4f7f\u7528"},{"location":"Tools/VIM/vim_usage/#vim","text":"","title":"VIM\u4f7f\u7528"},{"location":"Tools/VIM/vim_usage/#1","text":"\u7ad6\u76f4\u5206\u5c4f vim -On file1 file2 \u5782\u76f4\u5206\u914d vim -0n file1 file2","title":"1. \u5206\u5c4f\u6253\u5f00\u6587\u4ef6"},{"location":"Tools/VIM/vim_usage/#2","text":"\u987a\u5e8f\u5207\u6362 ctrl + w w \u6309\u7167\u65b9\u5411\u5207\u6362 ctrl + w \u65b9\u5411\u952e","title":"2. \u5207\u6362\u5206\u5c4f"},{"location":"Tools/VIM/vim_usage/#3","text":"\u8c03\u6574\u9ad8\u5ea6 ctrl + w +/- \u8c03\u6574\u5bbd\u5ea6 # \u7b49\u5bbd ctrl + w = # \u5de6\u53f3\u8c03\u6574 ctrl + w < \u6216\u8005 >","title":"3. \u8c03\u6574\u5206\u5c4f\u5c3a\u5bf8"},{"location":"Tools/VIM/vim_usage/#4","text":"ctrl + w c # \u5047\u5982\u662f\u6700\u540e\u4e00\u5c4f\uff0c\u5219\u9000\u51favim ctrl + w q","title":"4. \u5173\u95ed\u5206\u5c4f"},{"location":"Tools/VPN/ShadowsocksR_client_for_ubuntu/","text":"\u7b2c\u4e00\u6b21\u5b89\u88c5\u65f6\u4f1a\u5c06\"shadowsocksr\"\u6587\u4ef6\u5939\u79fb\u52a8\u5230/opt/shadowsocksr\uff0c\u6240\u4ee5\u975e\u7b2c\u4e00\u6b21\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\uff0c\u8bf7\u5230\"/opt/shadowsocksr/config.json\" 1.Clone or download project # ~ $ git clone https://github.com/showzeng/shadowsocksr 2.Usage for single user on linux platform # Fill in your configuration file (shadowsocksr/config.json): { \"server\": \"0.0.0.0\", \"server_ipv6\": \"::\", \"server_port\": 8388, \"local_address\": \"127.0.0.1\", \"local_port\": 1080, \"password\": \"m\", \"method\": \"aes-128-ctr\", \"protocol\": \"auth_aes128_md5\", \"protocol_param\": \"\", \"obfs\": \"tls1.2_ticket_auth_compatible\", \"obfs_param\": \"\", \"speed_limit_per_con\": 0, \"speed_limit_per_user\": 0, \"additional_ports\" : {}, \"additional_ports_only\" : false, \"timeout\": 120, \"udp_timeout\": 60, \"dns_ipv6\": false, \"connect_verbose_info\": 0, \"redirect\": \"\", \"fast_open\": false } You need config your configuration with these items: { \"server\": \"0.0.0.0\", \"server_port\": 8388, \"password\": \"m\", \"method\": \"aes-128-ctr\", \"protocol\": \"auth_aes128_md5\", \"obfs\": \"tls1.2_ticket_auth_compatible\", } Then turn on your terminal and get into \"shadowsocksr/\" folder. Excute the command as below: ~/shadowsocksr [manyuser] $ chmod 755 runssr stopssr ~/shadowsocksr [manyuser] $ sudo mv runssr stopssr /usr/local/bin [sudo] password for xxxx: ~/shadowsocksr [manyuser] $ ../ ~ $ sudo mv shadowsocksr/ /opt/ ~ $ source /etc/profile Once done with that, you can turn on/off shadowsocksR with these simple command at anytime as you wish :p , such as you just open your computer. 3.Turn on/off SSR # ~ $ runssr ~ $ stopssr 4.install proxychains4 # sudo apt-get install proxychains4 5.configure proxychains4 # # \u6253\u5f00\u914d\u7f6e\u6587\u4ef6 sudo vim /etc/proxychains4.conf # \u5728\u6587\u4ef6\u672b\u5c3e\u6dfb\u52a0 socks5 127.0.0.1 1080 6. install curl # sudo apt-get install curl 7.test # you are success, test it. Warning \u4e0d\u80fd\u7528ping\u547d\u4ee4\u6d4b\u8bd5\uff0c\u56e0\u4e3aproxychains\u53ea\u652f\u6301\u4f7f\u7528tcp\u6216udp\u534f\u8bae\u7684\u7a0b\u5e8f\u3002 ping\u7528\u7684\u662fICMP\u534f\u8bae\uff0c\u4e0d\u4ee5tcp\u6216udp\u4e3a\u57fa\u7840\uff0c\u6240\u4ee5\u7528\u4e0d\u4e86\u3002 proxychains4 curl www.google.com 8. configure the browser # Eg: FireFox","title":"ShadowsocksR Ubuntu\u5ba2\u6237\u7aef"},{"location":"Tools/VPN/ShadowsocksR_client_for_ubuntu/#1clone-or-download-project","text":"~ $ git clone https://github.com/showzeng/shadowsocksr","title":"1.Clone or download project"},{"location":"Tools/VPN/ShadowsocksR_client_for_ubuntu/#2usage-for-single-user-on-linux-platform","text":"Fill in your configuration file (shadowsocksr/config.json): { \"server\": \"0.0.0.0\", \"server_ipv6\": \"::\", \"server_port\": 8388, \"local_address\": \"127.0.0.1\", \"local_port\": 1080, \"password\": \"m\", \"method\": \"aes-128-ctr\", \"protocol\": \"auth_aes128_md5\", \"protocol_param\": \"\", \"obfs\": \"tls1.2_ticket_auth_compatible\", \"obfs_param\": \"\", \"speed_limit_per_con\": 0, \"speed_limit_per_user\": 0, \"additional_ports\" : {}, \"additional_ports_only\" : false, \"timeout\": 120, \"udp_timeout\": 60, \"dns_ipv6\": false, \"connect_verbose_info\": 0, \"redirect\": \"\", \"fast_open\": false } You need config your configuration with these items: { \"server\": \"0.0.0.0\", \"server_port\": 8388, \"password\": \"m\", \"method\": \"aes-128-ctr\", \"protocol\": \"auth_aes128_md5\", \"obfs\": \"tls1.2_ticket_auth_compatible\", } Then turn on your terminal and get into \"shadowsocksr/\" folder. Excute the command as below: ~/shadowsocksr [manyuser] $ chmod 755 runssr stopssr ~/shadowsocksr [manyuser] $ sudo mv runssr stopssr /usr/local/bin [sudo] password for xxxx: ~/shadowsocksr [manyuser] $ ../ ~ $ sudo mv shadowsocksr/ /opt/ ~ $ source /etc/profile Once done with that, you can turn on/off shadowsocksR with these simple command at anytime as you wish :p , such as you just open your computer.","title":"2.Usage for single user on linux platform"},{"location":"Tools/VPN/ShadowsocksR_client_for_ubuntu/#3turn-onoff-ssr","text":"~ $ runssr ~ $ stopssr","title":"3.Turn on/off SSR"},{"location":"Tools/VPN/ShadowsocksR_client_for_ubuntu/#4install-proxychains4","text":"sudo apt-get install proxychains4","title":"4.install proxychains4"},{"location":"Tools/VPN/ShadowsocksR_client_for_ubuntu/#5configure-proxychains4","text":"# \u6253\u5f00\u914d\u7f6e\u6587\u4ef6 sudo vim /etc/proxychains4.conf # \u5728\u6587\u4ef6\u672b\u5c3e\u6dfb\u52a0 socks5 127.0.0.1 1080","title":"5.configure proxychains4"},{"location":"Tools/VPN/ShadowsocksR_client_for_ubuntu/#6-install-curl","text":"sudo apt-get install curl","title":"6. install curl"},{"location":"Tools/VPN/ShadowsocksR_client_for_ubuntu/#7test","text":"you are success, test it. Warning \u4e0d\u80fd\u7528ping\u547d\u4ee4\u6d4b\u8bd5\uff0c\u56e0\u4e3aproxychains\u53ea\u652f\u6301\u4f7f\u7528tcp\u6216udp\u534f\u8bae\u7684\u7a0b\u5e8f\u3002 ping\u7528\u7684\u662fICMP\u534f\u8bae\uff0c\u4e0d\u4ee5tcp\u6216udp\u4e3a\u57fa\u7840\uff0c\u6240\u4ee5\u7528\u4e0d\u4e86\u3002 proxychains4 curl www.google.com","title":"7.test"},{"location":"Tools/VPN/ShadowsocksR_client_for_ubuntu/#8-configure-the-browser","text":"Eg: FireFox","title":"8. configure the browser"},{"location":"Tools/VPN/ShadowsocksR_server_for_ubuntu/","text":"ShadowsocksR Server For Ubuntu # 1. \u83b7\u53d6\u4e00\u952e\u5b89\u88c5\u811a\u672c # wget --no-check-certificate https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocksR.sh 2. \u6267\u884c\u4e00\u952e\u5b89\u88c5 # \u6839\u636e\u63d0\u793a\u8bbe\u7f6e\u5373\u53ef\u3002 chmod +x shadowsocksR.sh ./shadowsocksR.sh 2>&1 | tee shadowsocksR.log 3. \u4fee\u6539SSR server\u914d\u7f6e # \u4fee\u6539\u914d\u7f6e\uff1a vim /etc/shadowsocks.json \u91cd\u542fSSR server\u670d\u52a1 /etc/init.d/shadowsocks restart 4. BBR # \u53bb\u8fd9\u91cc\u770b\u5427\uff01","title":"ShadowsocksR Ubuntu\u670d\u52a1\u7aef"},{"location":"Tools/VPN/ShadowsocksR_server_for_ubuntu/#shadowsocksr-server-for-ubuntu","text":"","title":"ShadowsocksR Server For Ubuntu"},{"location":"Tools/VPN/ShadowsocksR_server_for_ubuntu/#1","text":"wget --no-check-certificate https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocksR.sh","title":"1. \u83b7\u53d6\u4e00\u952e\u5b89\u88c5\u811a\u672c"},{"location":"Tools/VPN/ShadowsocksR_server_for_ubuntu/#2","text":"\u6839\u636e\u63d0\u793a\u8bbe\u7f6e\u5373\u53ef\u3002 chmod +x shadowsocksR.sh ./shadowsocksR.sh 2>&1 | tee shadowsocksR.log","title":"2. \u6267\u884c\u4e00\u952e\u5b89\u88c5"},{"location":"Tools/VPN/ShadowsocksR_server_for_ubuntu/#3-ssr-server","text":"\u4fee\u6539\u914d\u7f6e\uff1a vim /etc/shadowsocks.json \u91cd\u542fSSR server\u670d\u52a1 /etc/init.d/shadowsocks restart","title":"3. \u4fee\u6539SSR server\u914d\u7f6e"},{"location":"Tools/VPN/ShadowsocksR_server_for_ubuntu/#4-bbr","text":"\u53bb\u8fd9\u91cc\u770b\u5427\uff01","title":"4. BBR"},{"location":"Tools/VPN/Shadowsocks_client_for_ubuntu/","text":"Shadowsocks for Ubuntu # 1. Install Shadowsocks # Ubuntu16.04 and above sudo add-apt-repository ppa:hzwhuang/ss-qt5 sudo apt-get update sudo apt-get install shadowsocks-qt5 Ubuntu18.04 sudo vim /etc/apt/sources.list.d/hzwhuang-ubuntu-ss-qt5-bionic.list deb http://ppa.launchpad.net/hzwhuang/ss-qt5/ubuntu xenial main # deb-src http://ppa.launchpad.net/hzwhuang/ss-qt5/ubuntu xenial main 2. \u542f\u52a8Shadowsocks-qt5\u5e76\u914d\u7f6e # Note \u6b64\u5904\u7684\u8d26\u53f7\u771f\u5b9e\u6709\u6548\uff0c\u9700\u8981\u5bc6\u7801\u7684\u540c\u5b66\u8bf7\u79c1\u4fe1\u6211\u54e6\uff01 3. \u914d\u7f6e\u7cfb\u7edf\u4ee3\u7406 # // \u76f4\u63a5\u4ecegfwlist\u7f51\u7ad9\u83b7\u53d6gfwlist.txt\u6587\u4ef6 genpac --pac-proxy \"SOCKS5 127.0.0.1:8123\" --gfwlist-proxy=\"SOCKS5 127.0.0.1:8123\" --gfwlist-url=https://raw.githubusercontent.com/gfwlist/gfwlist/master/gfwlist.txt --output=\"autoproxy.pac\" // \u5047\u5982\u65e0\u6cd5\u8bbf\u95eegfwlist\uff0c\u76f4\u63a5\u4f7f\u7528\u6d4f\u89c8\u5668\u8bbf\u95ee\u5176\u7f51\u5740\uff0c\u4e0b\u8f7dgfwlist.txt\u6587\u4ef6\uff0c\u7136\u540e\u6267\u884c\u4e0b\u9762\u7684\u547d\u4ee4 genpac --pac-proxy \"SOCKS5 127.0.0.1:8123\" --gfwlist-proxy=\"SOCKS5 127.0.0.1:8123\" --gfwlist-local=./gfwlist.txt --output=\"autoproxy.pac\" Network -> Network Proxy -> Automatic \u5728Configuration URL\u4e2d file:///home/fhc/autoproxy.pac 4. \u5728\u6d4f\u89c8\u5668\u4e2d\u914d\u7f6e\u4f7f\u7528\u7cfb\u7edf\u4ee3\u7406 # 5. \u547d\u4ee4\u884c\u4f7f\u7528\u7cfb\u7edf\u4ee3\u7406 # sudo apt-get install proxychains4 proxychains4 curl www.google.com","title":"Shadowsocks Ubuntu\u5ba2\u6237\u7aef"},{"location":"Tools/VPN/Shadowsocks_client_for_ubuntu/#shadowsocks-for-ubuntu","text":"","title":"Shadowsocks for Ubuntu"},{"location":"Tools/VPN/Shadowsocks_client_for_ubuntu/#1-install-shadowsocks","text":"Ubuntu16.04 and above sudo add-apt-repository ppa:hzwhuang/ss-qt5 sudo apt-get update sudo apt-get install shadowsocks-qt5 Ubuntu18.04 sudo vim /etc/apt/sources.list.d/hzwhuang-ubuntu-ss-qt5-bionic.list deb http://ppa.launchpad.net/hzwhuang/ss-qt5/ubuntu xenial main # deb-src http://ppa.launchpad.net/hzwhuang/ss-qt5/ubuntu xenial main","title":"1. Install Shadowsocks"},{"location":"Tools/VPN/Shadowsocks_client_for_ubuntu/#2-shadowsocks-qt5","text":"Note \u6b64\u5904\u7684\u8d26\u53f7\u771f\u5b9e\u6709\u6548\uff0c\u9700\u8981\u5bc6\u7801\u7684\u540c\u5b66\u8bf7\u79c1\u4fe1\u6211\u54e6\uff01","title":"2. \u542f\u52a8Shadowsocks-qt5\u5e76\u914d\u7f6e"},{"location":"Tools/VPN/Shadowsocks_client_for_ubuntu/#3","text":"// \u76f4\u63a5\u4ecegfwlist\u7f51\u7ad9\u83b7\u53d6gfwlist.txt\u6587\u4ef6 genpac --pac-proxy \"SOCKS5 127.0.0.1:8123\" --gfwlist-proxy=\"SOCKS5 127.0.0.1:8123\" --gfwlist-url=https://raw.githubusercontent.com/gfwlist/gfwlist/master/gfwlist.txt --output=\"autoproxy.pac\" // \u5047\u5982\u65e0\u6cd5\u8bbf\u95eegfwlist\uff0c\u76f4\u63a5\u4f7f\u7528\u6d4f\u89c8\u5668\u8bbf\u95ee\u5176\u7f51\u5740\uff0c\u4e0b\u8f7dgfwlist.txt\u6587\u4ef6\uff0c\u7136\u540e\u6267\u884c\u4e0b\u9762\u7684\u547d\u4ee4 genpac --pac-proxy \"SOCKS5 127.0.0.1:8123\" --gfwlist-proxy=\"SOCKS5 127.0.0.1:8123\" --gfwlist-local=./gfwlist.txt --output=\"autoproxy.pac\" Network -> Network Proxy -> Automatic \u5728Configuration URL\u4e2d file:///home/fhc/autoproxy.pac","title":"3. \u914d\u7f6e\u7cfb\u7edf\u4ee3\u7406"},{"location":"Tools/VPN/Shadowsocks_client_for_ubuntu/#4","text":"","title":"4. \u5728\u6d4f\u89c8\u5668\u4e2d\u914d\u7f6e\u4f7f\u7528\u7cfb\u7edf\u4ee3\u7406"},{"location":"Tools/VPN/Shadowsocks_client_for_ubuntu/#5","text":"sudo apt-get install proxychains4 proxychains4 curl www.google.com","title":"5. \u547d\u4ee4\u884c\u4f7f\u7528\u7cfb\u7edf\u4ee3\u7406"},{"location":"Tools/VPN/ss_parameter/","text":"SSR\u7684\u914d\u7f6e\u53c2\u6570 # 1. ShadowsocksR\u4e2d\u7684\u4ee3\u7406\u89c4\u5219 # \u53c2\u8003\u94fe\u63a5 ShadowsocksR\u76ee\u524d\u5206\u4e24\u79cd\u89c4\u5219\u65b9\u5f0f\uff0c\u90a3\u5c31\u662f PAC\u89c4\u5219\uff08\u7cfb\u7edf\u4ee3\u7406\u6a21\u5f0f\uff09 \u548c \u4ee3\u7406\u89c4\u5219 \u3002 PAC\u89c4\u5219 \u662f\u6839\u636ePAC\u6587\u4ef6\u4e2d\u7684\u9ed1\u767d\u5730\u5740\u540d\u5355\u6765\u5224\u65ad\u90a3\u4e9b\u7f51\u7ad9\u8d70\u4ee3\u7406\u3002\u4e5f\u5c31\u662f\u5224\u65ad \u6d41\u91cf\u662f\u5426\u8fdb\u5165\u5ba2\u6237\u7aef\u3002 \u5f53\u4f60\u8981\u8bbf\u95ee\u7684\u7f51\u7ad9\u6ee1\u8db3 PAC\u91cc\u7684\u8bbe\u7f6e\uff0c\u90a3\u4e48\u6d4f\u89c8\u5668\u5c31\u4f1a\u5411\u4ee3\u7406\u670d\u52a1\u5668\u4e5f\u5c31\u662f\u5ba2\u6237\u7aef\u53d1\u9001\u7f51\u7ad9\u8bf7\u6c42\u6570\u636e\uff0c\u8fd9\u65f6\u5019\u6211\u4eec\u624d\u8fdb\u5165\u4e86ShadowsocksR\u5ba2\u6237\u7aef\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u5c31\u8fdb\u5165\u4e86\u4ee3\u7406\u89c4\u5219\u5224\u65ad\u73af\u8282\u3002 \u4ee3\u7406\u89c4\u5219 \u662f\u6839\u636eIP\u5224\u65ad\uff0c\u6309\u8bbe\u5b9a\u7684\u89c4\u5219\u6765\u5224\u65ad\u8fdb\u5165 \u5ba2\u6237\u7aef\u7684\u6d41\u91cf\u662f\u76f4\u8fde\u8fd8\u662f\u8d70\u4ee3\u7406\u3002 \u5f53\u4f60\u8bbf\u95ee XXX \u7f51\u7ad9\uff0c\u7136\u540e\u662f\u5168\u5c40\u6216\u8005\u6ee1\u8db3PAC\u6761\u4ef6\u4ece\u800c\u8bbf\u95ee XXX\u7f51\u7ad9\u7684\u8bf7\u6c42\u6570\u636e\u6d41\u91cf\u8fdb\u5165\u4e86\u5ba2\u6237\u7aef\uff0c\u7136\u540e\u5ba2\u6237\u7aef\u4f1a\u6839\u636e XXX\u7f51\u7ad9\u7684IP\u6765\u5224\u65ad\uff0c\u5982\u4e0b\uff1a \u7ed5\u8fc7\u5c40\u57df\u7f51\uff0c\u5f53IP\u5c5e\u4e8e\u5c40\u57df\u7f51\u5185\u7684\uff0c\u90a3\u4e48SSR\u5ba2\u6237\u7aef\u5c31\u4f1a\u8ba9\u6d41\u91cf\u76f4\u8fde\uff0c\u53cd\u4e4b\u5219\u4f1a\u8ba9\u6d41\u91cf\u8d70\u4ee3\u7406\uff08\u53d1\u9001\u5230SSR\u670d\u52a1\u7aef\uff09\u3002 \u7ed5\u8fc7\u5c40\u57df\u7f51\u548c\u5927\u9646\uff0c\u5f53IP\u5c5e\u4e8e\u5927\u9646\u5185\u6216\u5c40\u57df\u7f51\u7684\uff0c\u90a3\u4e48SSR\u5ba2\u6237\u7aef\u5c31\u4f1a\u8ba9\u6d41\u91cf\u76f4\u8fde\uff0c\u53cd\u4e4b\u5219\u4f1a\u8ba9\u6d41\u91cf\u8d70\u4ee3\u7406\uff08\u53d1\u9001\u5230SSR\u670d\u52a1\u7aef\uff09\u3002 \u7ed5\u8fc7\u5c40\u57df\u7f51\u548c\u975e\u5927\u9646\uff0c\u5f53IP\u5c5e\u4e8e\u5927\u9646\u5916(\u975e\u5927\u9646IP\u90fd\u7b97\u5927\u9646\u5916)\u6216\u5c40\u57df\u7f51\u7684\uff0c\u90a3\u4e48SSR\u5ba2\u6237\u7aef\u5c31\u4f1a\u8ba9\u6d41\u91cf\u76f4\u8fde\uff0c\u53cd\u4e4b\u5219\u4f1a\u8ba9\u6d41\u91cf\u8d70\u4ee3\u7406\uff08\u53d1\u9001\u5230SSR\u670d\u52a1\u7aef\uff09\u3002 \u8fd9\u4e24\u79cd\u5224\u65ad\u65b9\u5f0f\u662f\u76f8\u4e92\u914d\u5408\u4f7f\u7528\u7684\uff0c\u5148\u7528\u7cfb\u7edf\u4ee3\u7406\u6a21\u5f0f\u6765\u5224\u65ad\u662f\u5426\u8ba9\u6570\u636e\u8fdb\u5165SSR\u5ba2\u6237\u7aef\uff0c\u518d\u7528\u4ee3\u7406\u89c4\u5219\u6765\u5224\u65ad\u8fdb\u5165SSR\u5ba2\u6237\u7aef\u7684\u6570\u636e\u662f\u76f4\u8fde\u8fd8\u662f\u8d70\u4ee3\u7406\u3002 \u4e3e\u4e2a\u6817\u5b50\uff1a\u5047\u8bbe\u7cfb\u7edf\u4ee3\u7406\u6a21\u5f0f\u4e3a PAC\uff0c\u90a3\u4e48\u8bbf\u95ee www.google.com \uff0c\u6d4f\u89c8\u5668\u5728PAC\u6587\u4ef6\u4e2d\u5339\u914d\u8fd9\u4e2a\u57df\u540d\uff0c\u5e76\u53d1\u73b0\u8fd9\u4e2a\u57df\u540d\u6309PAC\u89c4\u5219\u89c4\u5219\u5e94\u8d70\u4ee3\u7406\uff0c\u6240\u4ee5 \u6d4f\u89c8\u5668\u5c31\u4f1a\u53d1\u9001 \u8bbf\u95ee\u7f51\u9875\u6570\u636e\u5230 PAC\u4e2d\u7684\u4ee3\u7406\u670d\u52a1\u5668(\u9ed8\u8ba4\u5982127.0.0.1:1080)\uff0c\u4e8e\u662fSSR\u5ba2\u6237\u7aef\u5c31\u6536\u5230\u4e86 \u8bbf\u95ee\u8c37\u6b4c\u7684\u6570\u636e\uff0c\u800c\u8fd9\u65f6\u5019\u5c31\u8be5\u7528 \u4ee3\u7406\u89c4\u5219 \u5224\u65ad\u4e86\u3002 \u9996\u5148\u4ee3\u7406\u89c4\u5219\u4e3a\uff1a\u7ed5\u8fc7\u5c40\u57df\u7f51\uff0c\u5219\u5224\u65ad www.google.com \u57df\u540d\u7684IP\u662f\u5426\u662f\u5c40\u57df\u7f51IP\uff0c\u7136\u800c\u4e0d\u662f\u5c40\u57df\u7f51IP\uff0c\u4e8e\u662f\u8d70\u4ee3\u7406\u3002 \u4ee3\u7406\u89c4\u5219\u4e3a\uff1a\u7ed5\u8fc7\u5c40\u57df\u7f51\u548c\u5927\u9646\uff0c\u5219\u5224\u65ad www.google.com \u57df\u540d\u7684IP\u662f\u5426\u662f\u5c40\u57df\u7f51IP \u6216 \u5927\u9646IP\uff0c\u7136\u800c\u4e0d\u662f\u5c40\u57df\u7f51IP\u6216\u5927\u9646IP\uff0c\u4e8e\u662f\u8d70\u4ee3\u7406\u3002 \u4ee3\u7406\u89c4\u5219\u4e3a\uff1a\u7ed5\u8fc7\u5c40\u57df\u7f51\u548c\u975e\u5927\u9646\uff0c\u5219\u5224\u65ad www.google.com \u57df\u540d\u7684IP\u662f\u5426\u662f\u5c40\u57df\u7f51IP \u6216 \u975e\u5927\u9646IP\uff0c\u7136\u800c\u662f\u975e\u5927\u9646IP\uff0c\u4e8e\u662f\u4e0d\u8d70\u4ee3\u7406\uff0c\u76f4\u8fde\u3002 \u4ee3\u7406\u89c4\u5219\u4e3a\uff1a\u5168\u5c40\uff0c\u4e0d\u5224\u65ad www.google.com \u57df\u540d\u7684IP\uff0c\u76f4\u63a5\u8d70\u4ee3\u7406\u3002 2.ShadowsocksR\u4e2d\u7684\u672c\u5730\u4ee3\u7406 # \u672c\u5730\u4ee3\u7406 \u4e3b\u8981\u662f\u7ed9\u81ea\u5df1\u7684 \u672c\u673a\u8f6f\u4ef6 \u548c \u5c40\u57df\u7f51\u5185\u5176\u4ed6\u8bbe\u5907 \u7528\u7684\u3002 \u5047\u8bbe\u4f60\u8bbe\u7f6e\u7684\u672c\u5730\u4ee3\u7406\u7aef\u53e3\u662f\u9ed8\u8ba4\u7684 1080 \uff0c\u7136\u540e\u4f60\u8fd9\u4e2a\u7535\u8111\u5728\u5c40\u57df\u7f51\u5185\u7684 \u5185\u7f51IP\u662f 192.168.0.5 \u3002 \u672c\u673a\u8f6f\u4ef6\uff0c\u6bd4\u5982 IDM \u60f3\u8981\u7ecf\u8fc7ShadowsocksR\u4e0b\u8f7d\u5899\u5916\u7684\u5185\u5bb9\uff0c\u90a3\u4e48\u4f60\u53ef\u4ee5IDM\u8bbe\u7f6e\u4ee3\u7406\u670d\u52a1\u5668 Socks5\u4ee3\u7406 127.0.0.1:1080 \uff0c\u7136\u540e IDM \u5c31\u4f1a\u901a\u8fc7ShadowsocksR\u4e0b\u8f7d\u5899\u5916\u7684\u6587\u4ef6\u4e86\u3002 \u5176\u4ed6\u8bbe\u5907\u6bd4\u5982\uff0c\u4f60\u5b89\u5353\u624b\u673a\u60f3\u8981\u4e0d\u901a\u8fc7\u5b89\u5353\u5ba2\u6237\u7aef\u8fde\u63a5\u540c\u5c40\u57df\u7f51\u5185\u7684\u7535\u8111\u4e0a\u7684ShadowsocksR\uff0c\u90a3\u4e48\u5728\u5b89\u5353\u7684\u8bbe\u7f6e\u4e2d \u8bbe\u7f6e\u4ee3\u7406\u670d\u52a1\u5668 192.168.0.5:1080 \u5c31\u53ef\u4ee5\u8fde\u63a5\u5230\u4f60\u7535\u8111\u7684 ShadowsocksR\u4e86\uff0c\u5176\u4ed6\u8bbe\u5907\u4e5f\u662f\u4e00\u6837\u3002 \u540c\u5c40\u57df\u7f51\u5185\u5176\u4ed6\u8bbe\u5907\u60f3\u8981\u94fe\u63a5\u4f60\u8fd9\u4e2a\u7535\u8111\u4e0a\u9762\u7684ShadowsocksR\uff0c\u53ea\u8981\u5728\u4ed6\u4eec\u7684\u6d4f\u89c8\u5668\u6216\u7cfb\u7edf\u4ee3\u7406\u8bbe\u7f6e \u8bbe\u7f6e\u4e3a 192.168.0.5:1080 \u5c31\u884c\u4e86\uff0c\u4e0d\u9700\u8981\u5f00ShadowsocksR\u5ba2\u6237\u7aef\u3002 3.ShadowsocksR\u4e2d\u7684\u4e8c\u7ea7(\u524d\u7f6e)\u4ee3\u7406 # \u4e8c\u7ea7(\u524d\u7f6e)\u4ee3\u7406\u6307\u7684\u662f\uff1a\u5f53\u4f60\u94fe\u63a5Shadowsocks\u670d\u52a1\u5668\u7684\u65f6\u5019\uff0c\u5e76\u4e0d\u4f1a\u76f4\u63a5\u8fde\u63a5Shadowsocks\u670d\u52a1\u5668\uff0c\u800c\u662f\u5148\u94fe\u63a5 \u4e8c\u7ea7(\u524d\u7f6e)\u4ee3\u7406\u670d\u52a1\u5668\uff0c\u7136\u540e\u4e8c\u7ea7(\u524d\u7f6e)\u4ee3\u7406\u670d\u52a1\u5668\u518d\u53bb\u94fe\u63a5Shadowsocks\u670d\u52a1\u5668\uff0c\u53ef\u4ee5\u8fbe\u5230 \u9690\u85cf\u81ea\u5df1\u7684IP \u6216 \u901a\u8fc7\u56fd\u5185\u4e2d\u8f6c(\u56fd\u5185\u670d\u52a1\u5668\u642d\u5efa\u4ee3\u7406\u670d\u52a1\u5668)\u6765\u52a0\u901fShadowsocks\u3002 \u540c\u65f6\u4e0a\u9762\u63d0\u5230\u7684\u4ee3\u7406\u89c4\u5219\uff0c\u5c31\u662f\u7ed9\u4e8c\u7ea7(\u524d\u7f6e)\u4ee3\u7406\u4f7f\u7528\u7684\uff0c\u5f53\u4f60\u8bbe\u7f6e \u4ee3\u7406\u89c4\u5219 \u2014\u2014 \u5168\u5c40 \u7684\u65f6\u5019\uff0c\u4f60\u8bbf\u95ee\u56fd\u5185\u7684\u7f51\u7ad9\uff0c\u4f60\u4e5f\u662f\u8d70\u4ee3\u7406\u670d\u52a1\u5668\u7684\uff0c\u800c\u4f60\u8bbf\u95ee\u6d77\u5916\u7684\u7f51\u7ad9\u4e5f\u662f\u5148\u94fe\u63a5\u4ee3\u7406\u670d\u52a1\u5668\u7136\u540e\u518d\u94fe\u63a5Shadowsocks\u670d\u52a1\u5668\u7684\uff0c\u8fbe\u5230\u4efb\u4f55\u60c5\u51b5\u9690\u85cf\u81ea\u5df1\u771f\u5b9eIP\u7684\u76ee\u7684\uff0c\u5f53\u7136\u8fd8\u6709\u5176\u4ed6\u7684\u4f5c\u7528\u5c31\u4e0d\u4e00\u4e00\u8bf4\u660e\u4e86\u3002 \u8fd8\u6709\u5c31\u662f\uff0c\u4e8c\u7ea7(\u524d\u7f6e)\u4ee3\u7406\uff0c\u8fd8\u6709\u4e2a\u4e3b\u8981\u4f7f\u7528\u60c5\u51b5\u662f\uff1a \u90e8\u5206\u4f01\u4e1a/\u5b66\u6821 \u8981\u94fe\u63a5\u4e92\u8054\u7f51\uff0c\u5fc5\u987b\u8981\u7528 \u4f01\u4e1a/\u5b66\u6821 \u63d0\u4f9b\u7684HTTP\u4ee3\u7406\u670d\u52a1\u5668(\u4e00\u822c\u90fd\u662f\u4e3a\u4e86\u9632\u6b62\u4f60\u8bbf\u95ee\u4e0d\u8be5\u8bbf\u95ee\u7684\u7f51\u7ad9)\u3002 \u8fd9\u6837\u4f60\u5c31\u5148\u94fe\u63a5 \u4f01\u4e1a/\u5b66\u4e60 \u63d0\u4f9b\u7684\u4ee3\u7406\u670d\u52a1\u5668\uff0c\u7136\u540e\u518d\u94fe\u63a5ShadowsocksR\uff0c\u7136\u540e\u5229\u7528ShadowsocksR\u7684\u6df7\u6dc6\u7279\u6027\uff0c\u53ef\u4ee5\u7a81\u7834 \u4f01\u4e1a/\u5b66\u6821 \u7684\u4ee3\u7406\u670d\u52a1\u5668\u7f51\u7ad9\u9650\u5236\u5c01\u9501\u3002","title":"\u914d\u7f6e\u53c2\u6570"},{"location":"Tools/VPN/ss_parameter/#ssr","text":"","title":"SSR\u7684\u914d\u7f6e\u53c2\u6570"},{"location":"Tools/VPN/ss_parameter/#1-shadowsocksr","text":"\u53c2\u8003\u94fe\u63a5 ShadowsocksR\u76ee\u524d\u5206\u4e24\u79cd\u89c4\u5219\u65b9\u5f0f\uff0c\u90a3\u5c31\u662f PAC\u89c4\u5219\uff08\u7cfb\u7edf\u4ee3\u7406\u6a21\u5f0f\uff09 \u548c \u4ee3\u7406\u89c4\u5219 \u3002 PAC\u89c4\u5219 \u662f\u6839\u636ePAC\u6587\u4ef6\u4e2d\u7684\u9ed1\u767d\u5730\u5740\u540d\u5355\u6765\u5224\u65ad\u90a3\u4e9b\u7f51\u7ad9\u8d70\u4ee3\u7406\u3002\u4e5f\u5c31\u662f\u5224\u65ad \u6d41\u91cf\u662f\u5426\u8fdb\u5165\u5ba2\u6237\u7aef\u3002 \u5f53\u4f60\u8981\u8bbf\u95ee\u7684\u7f51\u7ad9\u6ee1\u8db3 PAC\u91cc\u7684\u8bbe\u7f6e\uff0c\u90a3\u4e48\u6d4f\u89c8\u5668\u5c31\u4f1a\u5411\u4ee3\u7406\u670d\u52a1\u5668\u4e5f\u5c31\u662f\u5ba2\u6237\u7aef\u53d1\u9001\u7f51\u7ad9\u8bf7\u6c42\u6570\u636e\uff0c\u8fd9\u65f6\u5019\u6211\u4eec\u624d\u8fdb\u5165\u4e86ShadowsocksR\u5ba2\u6237\u7aef\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u5c31\u8fdb\u5165\u4e86\u4ee3\u7406\u89c4\u5219\u5224\u65ad\u73af\u8282\u3002 \u4ee3\u7406\u89c4\u5219 \u662f\u6839\u636eIP\u5224\u65ad\uff0c\u6309\u8bbe\u5b9a\u7684\u89c4\u5219\u6765\u5224\u65ad\u8fdb\u5165 \u5ba2\u6237\u7aef\u7684\u6d41\u91cf\u662f\u76f4\u8fde\u8fd8\u662f\u8d70\u4ee3\u7406\u3002 \u5f53\u4f60\u8bbf\u95ee XXX \u7f51\u7ad9\uff0c\u7136\u540e\u662f\u5168\u5c40\u6216\u8005\u6ee1\u8db3PAC\u6761\u4ef6\u4ece\u800c\u8bbf\u95ee XXX\u7f51\u7ad9\u7684\u8bf7\u6c42\u6570\u636e\u6d41\u91cf\u8fdb\u5165\u4e86\u5ba2\u6237\u7aef\uff0c\u7136\u540e\u5ba2\u6237\u7aef\u4f1a\u6839\u636e XXX\u7f51\u7ad9\u7684IP\u6765\u5224\u65ad\uff0c\u5982\u4e0b\uff1a \u7ed5\u8fc7\u5c40\u57df\u7f51\uff0c\u5f53IP\u5c5e\u4e8e\u5c40\u57df\u7f51\u5185\u7684\uff0c\u90a3\u4e48SSR\u5ba2\u6237\u7aef\u5c31\u4f1a\u8ba9\u6d41\u91cf\u76f4\u8fde\uff0c\u53cd\u4e4b\u5219\u4f1a\u8ba9\u6d41\u91cf\u8d70\u4ee3\u7406\uff08\u53d1\u9001\u5230SSR\u670d\u52a1\u7aef\uff09\u3002 \u7ed5\u8fc7\u5c40\u57df\u7f51\u548c\u5927\u9646\uff0c\u5f53IP\u5c5e\u4e8e\u5927\u9646\u5185\u6216\u5c40\u57df\u7f51\u7684\uff0c\u90a3\u4e48SSR\u5ba2\u6237\u7aef\u5c31\u4f1a\u8ba9\u6d41\u91cf\u76f4\u8fde\uff0c\u53cd\u4e4b\u5219\u4f1a\u8ba9\u6d41\u91cf\u8d70\u4ee3\u7406\uff08\u53d1\u9001\u5230SSR\u670d\u52a1\u7aef\uff09\u3002 \u7ed5\u8fc7\u5c40\u57df\u7f51\u548c\u975e\u5927\u9646\uff0c\u5f53IP\u5c5e\u4e8e\u5927\u9646\u5916(\u975e\u5927\u9646IP\u90fd\u7b97\u5927\u9646\u5916)\u6216\u5c40\u57df\u7f51\u7684\uff0c\u90a3\u4e48SSR\u5ba2\u6237\u7aef\u5c31\u4f1a\u8ba9\u6d41\u91cf\u76f4\u8fde\uff0c\u53cd\u4e4b\u5219\u4f1a\u8ba9\u6d41\u91cf\u8d70\u4ee3\u7406\uff08\u53d1\u9001\u5230SSR\u670d\u52a1\u7aef\uff09\u3002 \u8fd9\u4e24\u79cd\u5224\u65ad\u65b9\u5f0f\u662f\u76f8\u4e92\u914d\u5408\u4f7f\u7528\u7684\uff0c\u5148\u7528\u7cfb\u7edf\u4ee3\u7406\u6a21\u5f0f\u6765\u5224\u65ad\u662f\u5426\u8ba9\u6570\u636e\u8fdb\u5165SSR\u5ba2\u6237\u7aef\uff0c\u518d\u7528\u4ee3\u7406\u89c4\u5219\u6765\u5224\u65ad\u8fdb\u5165SSR\u5ba2\u6237\u7aef\u7684\u6570\u636e\u662f\u76f4\u8fde\u8fd8\u662f\u8d70\u4ee3\u7406\u3002 \u4e3e\u4e2a\u6817\u5b50\uff1a\u5047\u8bbe\u7cfb\u7edf\u4ee3\u7406\u6a21\u5f0f\u4e3a PAC\uff0c\u90a3\u4e48\u8bbf\u95ee www.google.com \uff0c\u6d4f\u89c8\u5668\u5728PAC\u6587\u4ef6\u4e2d\u5339\u914d\u8fd9\u4e2a\u57df\u540d\uff0c\u5e76\u53d1\u73b0\u8fd9\u4e2a\u57df\u540d\u6309PAC\u89c4\u5219\u89c4\u5219\u5e94\u8d70\u4ee3\u7406\uff0c\u6240\u4ee5 \u6d4f\u89c8\u5668\u5c31\u4f1a\u53d1\u9001 \u8bbf\u95ee\u7f51\u9875\u6570\u636e\u5230 PAC\u4e2d\u7684\u4ee3\u7406\u670d\u52a1\u5668(\u9ed8\u8ba4\u5982127.0.0.1:1080)\uff0c\u4e8e\u662fSSR\u5ba2\u6237\u7aef\u5c31\u6536\u5230\u4e86 \u8bbf\u95ee\u8c37\u6b4c\u7684\u6570\u636e\uff0c\u800c\u8fd9\u65f6\u5019\u5c31\u8be5\u7528 \u4ee3\u7406\u89c4\u5219 \u5224\u65ad\u4e86\u3002 \u9996\u5148\u4ee3\u7406\u89c4\u5219\u4e3a\uff1a\u7ed5\u8fc7\u5c40\u57df\u7f51\uff0c\u5219\u5224\u65ad www.google.com \u57df\u540d\u7684IP\u662f\u5426\u662f\u5c40\u57df\u7f51IP\uff0c\u7136\u800c\u4e0d\u662f\u5c40\u57df\u7f51IP\uff0c\u4e8e\u662f\u8d70\u4ee3\u7406\u3002 \u4ee3\u7406\u89c4\u5219\u4e3a\uff1a\u7ed5\u8fc7\u5c40\u57df\u7f51\u548c\u5927\u9646\uff0c\u5219\u5224\u65ad www.google.com \u57df\u540d\u7684IP\u662f\u5426\u662f\u5c40\u57df\u7f51IP \u6216 \u5927\u9646IP\uff0c\u7136\u800c\u4e0d\u662f\u5c40\u57df\u7f51IP\u6216\u5927\u9646IP\uff0c\u4e8e\u662f\u8d70\u4ee3\u7406\u3002 \u4ee3\u7406\u89c4\u5219\u4e3a\uff1a\u7ed5\u8fc7\u5c40\u57df\u7f51\u548c\u975e\u5927\u9646\uff0c\u5219\u5224\u65ad www.google.com \u57df\u540d\u7684IP\u662f\u5426\u662f\u5c40\u57df\u7f51IP \u6216 \u975e\u5927\u9646IP\uff0c\u7136\u800c\u662f\u975e\u5927\u9646IP\uff0c\u4e8e\u662f\u4e0d\u8d70\u4ee3\u7406\uff0c\u76f4\u8fde\u3002 \u4ee3\u7406\u89c4\u5219\u4e3a\uff1a\u5168\u5c40\uff0c\u4e0d\u5224\u65ad www.google.com \u57df\u540d\u7684IP\uff0c\u76f4\u63a5\u8d70\u4ee3\u7406\u3002","title":"1. ShadowsocksR\u4e2d\u7684\u4ee3\u7406\u89c4\u5219"},{"location":"Tools/VPN/ss_parameter/#2shadowsocksr","text":"\u672c\u5730\u4ee3\u7406 \u4e3b\u8981\u662f\u7ed9\u81ea\u5df1\u7684 \u672c\u673a\u8f6f\u4ef6 \u548c \u5c40\u57df\u7f51\u5185\u5176\u4ed6\u8bbe\u5907 \u7528\u7684\u3002 \u5047\u8bbe\u4f60\u8bbe\u7f6e\u7684\u672c\u5730\u4ee3\u7406\u7aef\u53e3\u662f\u9ed8\u8ba4\u7684 1080 \uff0c\u7136\u540e\u4f60\u8fd9\u4e2a\u7535\u8111\u5728\u5c40\u57df\u7f51\u5185\u7684 \u5185\u7f51IP\u662f 192.168.0.5 \u3002 \u672c\u673a\u8f6f\u4ef6\uff0c\u6bd4\u5982 IDM \u60f3\u8981\u7ecf\u8fc7ShadowsocksR\u4e0b\u8f7d\u5899\u5916\u7684\u5185\u5bb9\uff0c\u90a3\u4e48\u4f60\u53ef\u4ee5IDM\u8bbe\u7f6e\u4ee3\u7406\u670d\u52a1\u5668 Socks5\u4ee3\u7406 127.0.0.1:1080 \uff0c\u7136\u540e IDM \u5c31\u4f1a\u901a\u8fc7ShadowsocksR\u4e0b\u8f7d\u5899\u5916\u7684\u6587\u4ef6\u4e86\u3002 \u5176\u4ed6\u8bbe\u5907\u6bd4\u5982\uff0c\u4f60\u5b89\u5353\u624b\u673a\u60f3\u8981\u4e0d\u901a\u8fc7\u5b89\u5353\u5ba2\u6237\u7aef\u8fde\u63a5\u540c\u5c40\u57df\u7f51\u5185\u7684\u7535\u8111\u4e0a\u7684ShadowsocksR\uff0c\u90a3\u4e48\u5728\u5b89\u5353\u7684\u8bbe\u7f6e\u4e2d \u8bbe\u7f6e\u4ee3\u7406\u670d\u52a1\u5668 192.168.0.5:1080 \u5c31\u53ef\u4ee5\u8fde\u63a5\u5230\u4f60\u7535\u8111\u7684 ShadowsocksR\u4e86\uff0c\u5176\u4ed6\u8bbe\u5907\u4e5f\u662f\u4e00\u6837\u3002 \u540c\u5c40\u57df\u7f51\u5185\u5176\u4ed6\u8bbe\u5907\u60f3\u8981\u94fe\u63a5\u4f60\u8fd9\u4e2a\u7535\u8111\u4e0a\u9762\u7684ShadowsocksR\uff0c\u53ea\u8981\u5728\u4ed6\u4eec\u7684\u6d4f\u89c8\u5668\u6216\u7cfb\u7edf\u4ee3\u7406\u8bbe\u7f6e \u8bbe\u7f6e\u4e3a 192.168.0.5:1080 \u5c31\u884c\u4e86\uff0c\u4e0d\u9700\u8981\u5f00ShadowsocksR\u5ba2\u6237\u7aef\u3002","title":"2.ShadowsocksR\u4e2d\u7684\u672c\u5730\u4ee3\u7406"},{"location":"Tools/VPN/ss_parameter/#3shadowsocksr","text":"\u4e8c\u7ea7(\u524d\u7f6e)\u4ee3\u7406\u6307\u7684\u662f\uff1a\u5f53\u4f60\u94fe\u63a5Shadowsocks\u670d\u52a1\u5668\u7684\u65f6\u5019\uff0c\u5e76\u4e0d\u4f1a\u76f4\u63a5\u8fde\u63a5Shadowsocks\u670d\u52a1\u5668\uff0c\u800c\u662f\u5148\u94fe\u63a5 \u4e8c\u7ea7(\u524d\u7f6e)\u4ee3\u7406\u670d\u52a1\u5668\uff0c\u7136\u540e\u4e8c\u7ea7(\u524d\u7f6e)\u4ee3\u7406\u670d\u52a1\u5668\u518d\u53bb\u94fe\u63a5Shadowsocks\u670d\u52a1\u5668\uff0c\u53ef\u4ee5\u8fbe\u5230 \u9690\u85cf\u81ea\u5df1\u7684IP \u6216 \u901a\u8fc7\u56fd\u5185\u4e2d\u8f6c(\u56fd\u5185\u670d\u52a1\u5668\u642d\u5efa\u4ee3\u7406\u670d\u52a1\u5668)\u6765\u52a0\u901fShadowsocks\u3002 \u540c\u65f6\u4e0a\u9762\u63d0\u5230\u7684\u4ee3\u7406\u89c4\u5219\uff0c\u5c31\u662f\u7ed9\u4e8c\u7ea7(\u524d\u7f6e)\u4ee3\u7406\u4f7f\u7528\u7684\uff0c\u5f53\u4f60\u8bbe\u7f6e \u4ee3\u7406\u89c4\u5219 \u2014\u2014 \u5168\u5c40 \u7684\u65f6\u5019\uff0c\u4f60\u8bbf\u95ee\u56fd\u5185\u7684\u7f51\u7ad9\uff0c\u4f60\u4e5f\u662f\u8d70\u4ee3\u7406\u670d\u52a1\u5668\u7684\uff0c\u800c\u4f60\u8bbf\u95ee\u6d77\u5916\u7684\u7f51\u7ad9\u4e5f\u662f\u5148\u94fe\u63a5\u4ee3\u7406\u670d\u52a1\u5668\u7136\u540e\u518d\u94fe\u63a5Shadowsocks\u670d\u52a1\u5668\u7684\uff0c\u8fbe\u5230\u4efb\u4f55\u60c5\u51b5\u9690\u85cf\u81ea\u5df1\u771f\u5b9eIP\u7684\u76ee\u7684\uff0c\u5f53\u7136\u8fd8\u6709\u5176\u4ed6\u7684\u4f5c\u7528\u5c31\u4e0d\u4e00\u4e00\u8bf4\u660e\u4e86\u3002 \u8fd8\u6709\u5c31\u662f\uff0c\u4e8c\u7ea7(\u524d\u7f6e)\u4ee3\u7406\uff0c\u8fd8\u6709\u4e2a\u4e3b\u8981\u4f7f\u7528\u60c5\u51b5\u662f\uff1a \u90e8\u5206\u4f01\u4e1a/\u5b66\u6821 \u8981\u94fe\u63a5\u4e92\u8054\u7f51\uff0c\u5fc5\u987b\u8981\u7528 \u4f01\u4e1a/\u5b66\u6821 \u63d0\u4f9b\u7684HTTP\u4ee3\u7406\u670d\u52a1\u5668(\u4e00\u822c\u90fd\u662f\u4e3a\u4e86\u9632\u6b62\u4f60\u8bbf\u95ee\u4e0d\u8be5\u8bbf\u95ee\u7684\u7f51\u7ad9)\u3002 \u8fd9\u6837\u4f60\u5c31\u5148\u94fe\u63a5 \u4f01\u4e1a/\u5b66\u4e60 \u63d0\u4f9b\u7684\u4ee3\u7406\u670d\u52a1\u5668\uff0c\u7136\u540e\u518d\u94fe\u63a5ShadowsocksR\uff0c\u7136\u540e\u5229\u7528ShadowsocksR\u7684\u6df7\u6dc6\u7279\u6027\uff0c\u53ef\u4ee5\u7a81\u7834 \u4f01\u4e1a/\u5b66\u6821 \u7684\u4ee3\u7406\u670d\u52a1\u5668\u7f51\u7ad9\u9650\u5236\u5c01\u9501\u3002","title":"3.ShadowsocksR\u4e2d\u7684\u4e8c\u7ea7(\u524d\u7f6e)\u4ee3\u7406"},{"location":"Tools/VSCode/vscode_cmake_base/","text":"VSCode\u4e0eCMake\u642d\u914d\u4f7f\u7528\u4e4b\u57fa\u672c\u914d\u7f6e # 1.\u9996\u5148\u5b89\u88c5VSCode\u63d2\u4ef6CMake\u548cCMake Tools # CMake\u63d2\u4ef6\u4e3b\u8981\u529f\u80fd\u662fCMake\u8bed\u6cd5\u9ad8\u4eae\u3001\u81ea\u52a8\u8865\u5168 CMake Tools\u7684\u529f\u80fd\u4e3b\u8981\u662f\u7ed3\u5408VSCode IDE\u4f7f\u7528CMake\u8fd9\u4e2a\u5de5\u5177\uff0c\u6bd4\u5982\u751f\u6210CMake\u9879\u76ee\u3001\u6784\u5efaCMake\u9879\u76ee\u7b49 2.\u65b0\u5efaCMake\u9879\u76ee # Ctrl+Shift+p \u6253\u5f00VSCode\u7684\u6307\u4ee4\u9762\u677f\uff0c\u7136\u540e\u8f93\u5165 cmake:q \uff0cVSCode\u4f1a\u6839\u636e\u8f93\u5165\u81ea\u52a8\u63d0\u793a\uff0c\u7136\u540e\u9009\u62e9 CMake: Quick Start \u7136\u540e\u9009\u62e9\u9002\u5408\u4f60\u7684\u7f16\u8bd1\u5668\uff08VSCode\u4f1a\u5c06\u4f60\u5b89\u88c5\u7684\u7f16\u8bd1\u5668\u90fd\u7f57\u5217\u51fa\u6765\u4f9b\u4f60\u9009\u62e9\u3002\u5982\u679c\u4f60\u662f\u4ea4\u53c9\u7f16\u8bd1\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u5728\u8fd9\u91cc\u914d\u7f6e\u4f60\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668\uff09,\u4e3a\u65b9\u4fbf\u6f14\u793a\u8fd9\u91cc\u6211\u4eec\u9009\u62e9 GCC7.4.0 \uff1a \u7136\u540e\u6839\u636e\u63d0\u793a\u8f93\u5165\u9879\u76ee\u540d\u79f0: \u7136\u540e\u9009\u62e9\u8be5\u9879\u76ee\u662f\u521b\u5efa\u5e93\u8fd8\u662f\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u4e3a\u4e86\u6f14\u793a\u65b9\u4fbf\u8fd9\u91cc\u6211\u4eec\u9009\u62e9\u53ef\u6267\u884c\u6587\u4ef6 Executable \uff1a \u7136\u540eVSCode\u5c31\u4f1a\u4e3a\u4f60\u751f\u6210\u4e00\u4e2aCMake\u9879\u76ee\uff0c\u5982\u4e0b\u6240\u793a\uff1a build\u6587\u4ef6\u5939\u662f cmake \u6307\u4ee4\u7684\u8f93\u51fa\u6587\u4ef6\u5939 \u9ed8\u8ba4\u751f\u6210\u7684 CMakeLists.txt \u6587\u4ef6 \u9ed8\u8ba4\u751f\u6210\u7684 main.cpp \u6587\u4ef6 3. \u7f16\u8bd1\u9879\u76ee # \u5f53\u7136\u4f60\u53ef\u4ee5\u5728\u547d\u4ee4\u884c\u4e2d\u6267\u884c\uff1a cd build cmake .. \u4f46\u662fVSCode\u63d0\u4f9b\u4e86\u66f4\u4fbf\u6377\u7684\u65b9\u5f0f\uff08\u70b9\u51fb\u5e95\u90e8\u7684Build\uff09: \u6216\u8005\u5728VSCode\u7684\u547d\u4ee4\u9762\u677f\u4e2d\u9009\u62e9build\u547d\u4ee4\uff08\u8f93\u5165cmake\u540eVSCode\u4f1a\u5e2e\u4f60\u5217\u51fa\u6240\u6709\u652f\u6301\u7684\u547d\u4ee4\uff09\uff1a 4. \u8c03\u8bd5 # \u9996\u5148\u5728\u6e90\u7801\u4e2d\u6253\u4e0a\u65ad\u70b9\uff1a \u7136\u540e\u914d\u7f6e\u8c03\u8bd5\u73af\u5883\uff1a \u7136\u540e\u5c31\u4f1a\u81ea\u52a8\u8df3\u5165\u8c03\u8bd5\u754c\u9762\uff1a \u4e0b\u6b21\u8fdb\u5165\u8c03\u8bd5\u6709\u4e24\u79cd\u65b9\u6cd5\uff1a \u70b9\u51fbVSCode\u5e95\u90e8\u7684Debug\u9009\u9879 Ctrl+Shift+p \u5728VSCode\u7684\u547d\u4ee4\u9762\u677f\u4e2d\u9009\u62e9 CMake:Debug 5.\u53c2\u8003\u94fe\u63a5 # CMake Tools\u5b98\u65b9\u6587\u6863","title":"VSCode\u4e0eCMake\u642d\u914d\u4f7f\u7528\u4e4b\u57fa\u672c\u914d\u7f6e"},{"location":"Tools/VSCode/vscode_cmake_base/#vscodecmake","text":"","title":"VSCode\u4e0eCMake\u642d\u914d\u4f7f\u7528\u4e4b\u57fa\u672c\u914d\u7f6e"},{"location":"Tools/VSCode/vscode_cmake_base/#1vscodecmakecmake-tools","text":"CMake\u63d2\u4ef6\u4e3b\u8981\u529f\u80fd\u662fCMake\u8bed\u6cd5\u9ad8\u4eae\u3001\u81ea\u52a8\u8865\u5168 CMake Tools\u7684\u529f\u80fd\u4e3b\u8981\u662f\u7ed3\u5408VSCode IDE\u4f7f\u7528CMake\u8fd9\u4e2a\u5de5\u5177\uff0c\u6bd4\u5982\u751f\u6210CMake\u9879\u76ee\u3001\u6784\u5efaCMake\u9879\u76ee\u7b49","title":"1.\u9996\u5148\u5b89\u88c5VSCode\u63d2\u4ef6CMake\u548cCMake Tools"},{"location":"Tools/VSCode/vscode_cmake_base/#2cmake","text":"Ctrl+Shift+p \u6253\u5f00VSCode\u7684\u6307\u4ee4\u9762\u677f\uff0c\u7136\u540e\u8f93\u5165 cmake:q \uff0cVSCode\u4f1a\u6839\u636e\u8f93\u5165\u81ea\u52a8\u63d0\u793a\uff0c\u7136\u540e\u9009\u62e9 CMake: Quick Start \u7136\u540e\u9009\u62e9\u9002\u5408\u4f60\u7684\u7f16\u8bd1\u5668\uff08VSCode\u4f1a\u5c06\u4f60\u5b89\u88c5\u7684\u7f16\u8bd1\u5668\u90fd\u7f57\u5217\u51fa\u6765\u4f9b\u4f60\u9009\u62e9\u3002\u5982\u679c\u4f60\u662f\u4ea4\u53c9\u7f16\u8bd1\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u5728\u8fd9\u91cc\u914d\u7f6e\u4f60\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668\uff09,\u4e3a\u65b9\u4fbf\u6f14\u793a\u8fd9\u91cc\u6211\u4eec\u9009\u62e9 GCC7.4.0 \uff1a \u7136\u540e\u6839\u636e\u63d0\u793a\u8f93\u5165\u9879\u76ee\u540d\u79f0: \u7136\u540e\u9009\u62e9\u8be5\u9879\u76ee\u662f\u521b\u5efa\u5e93\u8fd8\u662f\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u4e3a\u4e86\u6f14\u793a\u65b9\u4fbf\u8fd9\u91cc\u6211\u4eec\u9009\u62e9\u53ef\u6267\u884c\u6587\u4ef6 Executable \uff1a \u7136\u540eVSCode\u5c31\u4f1a\u4e3a\u4f60\u751f\u6210\u4e00\u4e2aCMake\u9879\u76ee\uff0c\u5982\u4e0b\u6240\u793a\uff1a build\u6587\u4ef6\u5939\u662f cmake \u6307\u4ee4\u7684\u8f93\u51fa\u6587\u4ef6\u5939 \u9ed8\u8ba4\u751f\u6210\u7684 CMakeLists.txt \u6587\u4ef6 \u9ed8\u8ba4\u751f\u6210\u7684 main.cpp \u6587\u4ef6","title":"2.\u65b0\u5efaCMake\u9879\u76ee"},{"location":"Tools/VSCode/vscode_cmake_base/#3","text":"\u5f53\u7136\u4f60\u53ef\u4ee5\u5728\u547d\u4ee4\u884c\u4e2d\u6267\u884c\uff1a cd build cmake .. \u4f46\u662fVSCode\u63d0\u4f9b\u4e86\u66f4\u4fbf\u6377\u7684\u65b9\u5f0f\uff08\u70b9\u51fb\u5e95\u90e8\u7684Build\uff09: \u6216\u8005\u5728VSCode\u7684\u547d\u4ee4\u9762\u677f\u4e2d\u9009\u62e9build\u547d\u4ee4\uff08\u8f93\u5165cmake\u540eVSCode\u4f1a\u5e2e\u4f60\u5217\u51fa\u6240\u6709\u652f\u6301\u7684\u547d\u4ee4\uff09\uff1a","title":"3. \u7f16\u8bd1\u9879\u76ee"},{"location":"Tools/VSCode/vscode_cmake_base/#4","text":"\u9996\u5148\u5728\u6e90\u7801\u4e2d\u6253\u4e0a\u65ad\u70b9\uff1a \u7136\u540e\u914d\u7f6e\u8c03\u8bd5\u73af\u5883\uff1a \u7136\u540e\u5c31\u4f1a\u81ea\u52a8\u8df3\u5165\u8c03\u8bd5\u754c\u9762\uff1a \u4e0b\u6b21\u8fdb\u5165\u8c03\u8bd5\u6709\u4e24\u79cd\u65b9\u6cd5\uff1a \u70b9\u51fbVSCode\u5e95\u90e8\u7684Debug\u9009\u9879 Ctrl+Shift+p \u5728VSCode\u7684\u547d\u4ee4\u9762\u677f\u4e2d\u9009\u62e9 CMake:Debug","title":"4. \u8c03\u8bd5"},{"location":"Tools/VSCode/vscode_cmake_base/#5","text":"CMake Tools\u5b98\u65b9\u6587\u6863","title":"5.\u53c2\u8003\u94fe\u63a5"},{"location":"Tools/mkdocs/mkdocs_custom/","text":"\u5b9a\u5236 # \u8d85\u94fe\u63a5\u65b0\u7a97\u53e3\u6253\u5f00 \u5b98\u7f51\u7684\u4ecb\u7ecd","title":"\u5b9a\u5236"},{"location":"Tools/mkdocs/mkdocs_custom/#_1","text":"\u8d85\u94fe\u63a5\u65b0\u7a97\u53e3\u6253\u5f00 \u5b98\u7f51\u7684\u4ecb\u7ecd","title":"\u5b9a\u5236"},{"location":"Tools/mkdocs/mkdocs_deploy_githubpages/","text":"MkDocs - \u90e8\u7f72WiKi\u7ad9\u70b9\u5230Github Pages # \u5f80\u671f\u56de\u987e\uff1a \u7b2c\u4e00\u671f\uff1a MkDocs - \u521d\u8bc6 \u672c\u671f\u5c0f\u7f16\u5c06\u5e26\u4f60\u4e86\u89e3\u5982\u4f55\u5c06\u4f60\u7684WiKi\u90e8\u7f72\u5230Web\u670d\u52a1\u5668\uff0c\u4f7f\u4f60\u7684WiKi\u80fd\u591f\u5728\u4e92\u8054\u7f51\u4e2d\u88ab\u8bbf\u95ee\u3002 \u672c\u671f\u6211\u4eec\u9009\u62e9\u7684Web\u670d\u52a1\u5668\u662fGithub Pages\u3002 1.\u521b\u5efa\u4e00\u4e2a\u65b0\u7684Github\u8fdc\u7a0b\u4ed3\u5e93 # \u719f\u6089Github\u4f7f\u7528\u7684\u540c\u5b66\u53ef\u4ee5\u8df3\u8fc7\u672c\u8282\uff0c\u8bf7\u81ea\u884c\u521b\u5efa\u4e00\u4e2aGithub\u8fdc\u7a0b\u4ed3\u5e93\u5907\u7528\u3002 \u6ca1\u6709Github\u8d26\u53f7\u7684\u540c\u5b66\uff0c\u8bf7\u5148\u5230Github\u5b98\u7f51\u7533\u8bf7\u3002 \u70b9\u51fb\u8fdb\u5165Github\u5b98\u7f51 \u767b\u5f55\u540e\u9009\u62e9\u53f3\u4e0a\u89d2\u7684\u65b0\u5efa\u4ed3\u5e93\u3002 \u7136\u540e\u6309\u7167\u63d0\u793a\u586b\u5199\u4ed3\u5e93\u540d\u79f0\u7b49\u3002\u4ed3\u5e93\u521b\u5efa\u6210\u540e\uff0c\u4f60\u5c06\u770b\u5230\u5982\u4e0b\u754c\u9762\uff1a \u83b7\u53d6\u8fdc\u7a0b\u4ed3\u5e93\u5730\u5740\u5907\u7528\u3002 2.\u672c\u5730WiKi\u7ad9\u70b9\u914d\u7f6e # \u719f\u6089Git\u4f7f\u7528\u7684\u540c\u5b66\u53ef\u8df3\u8fc7\u672c\u8282\uff0c\u8bf7\u81ea\u884c\u5c06Wiki\u7ad9\u70b9my-project\u6587\u4ef6\u5939\u521d\u59cb\u5316\u4e3a\u672c\u5730Git\u4ed3\u5e93\u3002 \u9996\u5148\u8fdb\u5165\u6211\u4eec\u4e4b\u524d\u521b\u5efa\u7684WiKi\u9879\u76ee\u6587\u4ef6\u5939my-project\uff0c\u5c06\u5176\u521d\u59cb\u5316\u4e3a\u4e00\u4e2a\u672c\u5730Git\u4ed3\u5e93 cd my-project git init \u672c\u5730Git\u4ed3\u5e93\u521d\u59cb\u5316\u6210\u529f\u540e\uff0c\u770b\u4e0a\u53bb\u5c31\u50cf\u8fd9\u6837\uff1a \u5728\u672c\u5730\u4ed3\u5e93\u4e2d\u6dfb\u52a0\u8fdc\u7a0b\u4ed3\u5e93\u94fe\u63a5 git add remote https://github.com/user_name/repository_name \u5c06WiKi\u7ad9\u70b9\u7684\u6e90\u6587\u4ef6\uff08Markdown\u6587\u4ef6\uff09\u63a8\u9001\u5230\u8fdc\u7a0b\u4ed3\u5e93\u662f\u53ef\u9009\u7684\uff0c\u56e0\u4e3a\u90e8\u7f72\u4f60\u7684WiKi\u7f51\u7ad9\u53ea\u9700\u8981\u5c06HTML\u7f51\u9875\u6587\u4ef6\u63a8\u9001\u5230\u8fdc\u7aef\u5373\u53ef\u3002 git add . git commit -m \"first commit\" git push origin master 3. \u90e8\u7f72\u5230Github Pages # \u5c06\u4f60\u7684WiKi\u7ad9\u70b9\u90e8\u7f72\u5230GitHub mkdocs gh-deploy \u8be5\u547d\u4ee4\u6267\u884c\u7684\u52a8\u4f5c\uff1a \u521b\u5efagh-pages\u5206\u652f\uff0c\u5e76\u5207\u6362\u5230gh-pages\u5206\u652f\uff1b \u6267\u884c mkdocs build \u6307\u4ee4\uff0c\u5c06Markdown\u6587\u4ef6\u8f6c\u6362\u6210HTML\u9759\u6001\u7f51\u9875\uff1b \u5c06HTML\u9759\u6001\u7f51\u9875\u63a8\u9001\u5230\u8fdc\u7aefgh-pages\u5206\u652f\uff1b \u63a8\u9001\u5b8c\u6210\uff0c\u5207\u6362\u56demaster\u5206\u652f\u3002 \u5b8c\u6210\u90e8\u7f72\u4e4b\u540e\uff0c\u4f60\u7684WiKi\u7f51\u7ad9\u7684HTML\u6587\u4ef6\u90fd\u90e8\u7f72\u5728\u4e86gh-pages\u5206\u652f\uff1bmarkdown\u6587\u4ef6\u90fd\u90e8\u7f72\u5728\u4e86master\u5206\u652f\uff08\u5047\u5982\u4f60\u63d0\u4ea4\u4e86\u7684\u8bdd\uff09 \u8fd9\u662fmaster\u5206\u652f: \u8fd9\u662fgh-pages\u5206\u652f: \u73b0\u5728\u4f7f\u7528\u7c7b\u4f3c\u4e0b\u9762\u7684URL\uff0c\u5c31\u53ef\u4ee5\u5728\u4e92\u8054\u7f51\u4e2d\u8bbf\u95ee\u4f60\u7684Wiki\u7ad9\u70b9\u4e86\u3002 https://user_name.github.io/repository_name/ 4.\u5728\u7ebfDemo # \u5728\u7ebfDemo\u5730\u5740\uff1a https://edgeai-lab.github.io/my-project \u5728\u7ebfDemo\u6e90\u7801\uff1a https://github.com/EdgeAI-Lab/my-project \u66f4\u591a\u7cbe\u5f69\u8d44\u8baf\uff0c\u8bf7\u626b\u7801\u5173\u6ce8\uff01","title":"2.MkDocs - \u90e8\u7f72\u5230Github Pages"},{"location":"Tools/mkdocs/mkdocs_deploy_githubpages/#mkdocs-wikigithub-pages","text":"\u5f80\u671f\u56de\u987e\uff1a \u7b2c\u4e00\u671f\uff1a MkDocs - \u521d\u8bc6 \u672c\u671f\u5c0f\u7f16\u5c06\u5e26\u4f60\u4e86\u89e3\u5982\u4f55\u5c06\u4f60\u7684WiKi\u90e8\u7f72\u5230Web\u670d\u52a1\u5668\uff0c\u4f7f\u4f60\u7684WiKi\u80fd\u591f\u5728\u4e92\u8054\u7f51\u4e2d\u88ab\u8bbf\u95ee\u3002 \u672c\u671f\u6211\u4eec\u9009\u62e9\u7684Web\u670d\u52a1\u5668\u662fGithub Pages\u3002","title":"MkDocs - \u90e8\u7f72WiKi\u7ad9\u70b9\u5230Github Pages"},{"location":"Tools/mkdocs/mkdocs_deploy_githubpages/#1github","text":"\u719f\u6089Github\u4f7f\u7528\u7684\u540c\u5b66\u53ef\u4ee5\u8df3\u8fc7\u672c\u8282\uff0c\u8bf7\u81ea\u884c\u521b\u5efa\u4e00\u4e2aGithub\u8fdc\u7a0b\u4ed3\u5e93\u5907\u7528\u3002 \u6ca1\u6709Github\u8d26\u53f7\u7684\u540c\u5b66\uff0c\u8bf7\u5148\u5230Github\u5b98\u7f51\u7533\u8bf7\u3002 \u70b9\u51fb\u8fdb\u5165Github\u5b98\u7f51 \u767b\u5f55\u540e\u9009\u62e9\u53f3\u4e0a\u89d2\u7684\u65b0\u5efa\u4ed3\u5e93\u3002 \u7136\u540e\u6309\u7167\u63d0\u793a\u586b\u5199\u4ed3\u5e93\u540d\u79f0\u7b49\u3002\u4ed3\u5e93\u521b\u5efa\u6210\u540e\uff0c\u4f60\u5c06\u770b\u5230\u5982\u4e0b\u754c\u9762\uff1a \u83b7\u53d6\u8fdc\u7a0b\u4ed3\u5e93\u5730\u5740\u5907\u7528\u3002","title":"1.\u521b\u5efa\u4e00\u4e2a\u65b0\u7684Github\u8fdc\u7a0b\u4ed3\u5e93"},{"location":"Tools/mkdocs/mkdocs_deploy_githubpages/#2wiki","text":"\u719f\u6089Git\u4f7f\u7528\u7684\u540c\u5b66\u53ef\u8df3\u8fc7\u672c\u8282\uff0c\u8bf7\u81ea\u884c\u5c06Wiki\u7ad9\u70b9my-project\u6587\u4ef6\u5939\u521d\u59cb\u5316\u4e3a\u672c\u5730Git\u4ed3\u5e93\u3002 \u9996\u5148\u8fdb\u5165\u6211\u4eec\u4e4b\u524d\u521b\u5efa\u7684WiKi\u9879\u76ee\u6587\u4ef6\u5939my-project\uff0c\u5c06\u5176\u521d\u59cb\u5316\u4e3a\u4e00\u4e2a\u672c\u5730Git\u4ed3\u5e93 cd my-project git init \u672c\u5730Git\u4ed3\u5e93\u521d\u59cb\u5316\u6210\u529f\u540e\uff0c\u770b\u4e0a\u53bb\u5c31\u50cf\u8fd9\u6837\uff1a \u5728\u672c\u5730\u4ed3\u5e93\u4e2d\u6dfb\u52a0\u8fdc\u7a0b\u4ed3\u5e93\u94fe\u63a5 git add remote https://github.com/user_name/repository_name \u5c06WiKi\u7ad9\u70b9\u7684\u6e90\u6587\u4ef6\uff08Markdown\u6587\u4ef6\uff09\u63a8\u9001\u5230\u8fdc\u7a0b\u4ed3\u5e93\u662f\u53ef\u9009\u7684\uff0c\u56e0\u4e3a\u90e8\u7f72\u4f60\u7684WiKi\u7f51\u7ad9\u53ea\u9700\u8981\u5c06HTML\u7f51\u9875\u6587\u4ef6\u63a8\u9001\u5230\u8fdc\u7aef\u5373\u53ef\u3002 git add . git commit -m \"first commit\" git push origin master","title":"2.\u672c\u5730WiKi\u7ad9\u70b9\u914d\u7f6e"},{"location":"Tools/mkdocs/mkdocs_deploy_githubpages/#3-github-pages","text":"\u5c06\u4f60\u7684WiKi\u7ad9\u70b9\u90e8\u7f72\u5230GitHub mkdocs gh-deploy \u8be5\u547d\u4ee4\u6267\u884c\u7684\u52a8\u4f5c\uff1a \u521b\u5efagh-pages\u5206\u652f\uff0c\u5e76\u5207\u6362\u5230gh-pages\u5206\u652f\uff1b \u6267\u884c mkdocs build \u6307\u4ee4\uff0c\u5c06Markdown\u6587\u4ef6\u8f6c\u6362\u6210HTML\u9759\u6001\u7f51\u9875\uff1b \u5c06HTML\u9759\u6001\u7f51\u9875\u63a8\u9001\u5230\u8fdc\u7aefgh-pages\u5206\u652f\uff1b \u63a8\u9001\u5b8c\u6210\uff0c\u5207\u6362\u56demaster\u5206\u652f\u3002 \u5b8c\u6210\u90e8\u7f72\u4e4b\u540e\uff0c\u4f60\u7684WiKi\u7f51\u7ad9\u7684HTML\u6587\u4ef6\u90fd\u90e8\u7f72\u5728\u4e86gh-pages\u5206\u652f\uff1bmarkdown\u6587\u4ef6\u90fd\u90e8\u7f72\u5728\u4e86master\u5206\u652f\uff08\u5047\u5982\u4f60\u63d0\u4ea4\u4e86\u7684\u8bdd\uff09 \u8fd9\u662fmaster\u5206\u652f: \u8fd9\u662fgh-pages\u5206\u652f: \u73b0\u5728\u4f7f\u7528\u7c7b\u4f3c\u4e0b\u9762\u7684URL\uff0c\u5c31\u53ef\u4ee5\u5728\u4e92\u8054\u7f51\u4e2d\u8bbf\u95ee\u4f60\u7684Wiki\u7ad9\u70b9\u4e86\u3002 https://user_name.github.io/repository_name/","title":"3. \u90e8\u7f72\u5230Github Pages"},{"location":"Tools/mkdocs/mkdocs_deploy_githubpages/#4demo","text":"\u5728\u7ebfDemo\u5730\u5740\uff1a https://edgeai-lab.github.io/my-project \u5728\u7ebfDemo\u6e90\u7801\uff1a https://github.com/EdgeAI-Lab/my-project \u66f4\u591a\u7cbe\u5f69\u8d44\u8baf\uff0c\u8bf7\u626b\u7801\u5173\u6ce8\uff01","title":"4.\u5728\u7ebfDemo"},{"location":"Tools/mkdocs/mkdocs_deploy_nginx/","text":"MkDocs - \u90e8\u7f72WiKi\u7ad9\u70b9\u5230Nginx Web\u670d\u52a1\u5668 # \u5f80\u671f\u56de\u987e\uff1a \u7b2c\u4e00\u671f\uff1a MkDocs - \u521d\u8bc6 \u7b2c\u4e8c\u671f\uff1a MkDocs - \u90e8\u7f72WiKi\u7ad9\u70b9\u5230Github Pages \u672c\u671f\u5c0f\u7f16\u5c06\u5e26\u4f60\u4e86\u89e3\u5982\u4f55\u5c06\u4f60\u7684WiKi\u90e8\u7f72\u5230Web\u670d\u52a1\u5668\uff0c\u4f7f\u4f60\u7684WiKi\u80fd\u591f\u5728\u4e92\u8054\u7f51\u4e2d\u88ab\u8bbf\u95ee\u3002 \u672c\u671f\u6211\u4eec\u9009\u62e9\u7684Web\u670d\u52a1\u5668\u662fNginx\u3002 1.\u4e0b\u8f7dNginx\u6e90\u7801 # \u70b9\u51fb\u4e0b\u8f7dNginx\u6e90\u7801 \u89e3\u538bNginx\u6e90\u7801\uff1a tar -xzvf nginx-1.x.x.tar.gz 2.\u7f16\u8bd1\u5b89\u88c5 # # \u8fdb\u5165Nginx\u6e90\u7801\u6839\u76ee\u5f55 cd path/to/nginx # \u4f7f\u7528nginx\u9ed8\u8ba4\u914d\u7f6e\u5373\u53ef ./configure # \u7f16\u8bd1\u5b89\u88c5 make && make install Nginx\u76f8\u5173\u8def\u5f84\uff1a nginx\u5b89\u88c5\u8def\u5f84: \"/usr/local/nginx\" nginx\u53ef\u6267\u884c\u6587\u4ef6\u8def\u5f84: \"/usr/local/nginx/sbin/nginx\" nginx\u914d\u7f6e\u6587\u4ef6\u8def\u5f84: \"/usr/local/nginx/conf/nginx.conf\" 3.\u914d\u7f6eNginx # \u6253\u5f00\u914d\u7f6e\u6587\u4ef6\uff1a sudo vim /user/local/nginx/conf/nginx.conf \u4fee\u6539\u7aef\u53e3\u53f7\u548c\u57df\u540d\uff1a # \u6b64\u5904\u7701\u7565n\u884c\u4ee3\u7801 http { # \u6b64\u5904\u7701\u7565n\u884c\u4ee3\u7801 server { listen 80; # \u4fee\u6539\u7aef\u53e3\u53f7 server_name localhost; # \u4fee\u6539\u57df\u540d location / { root html; # \u6b64\u5904\u4e3a\u5b58\u653e\u7f51\u7ad9\u7684\u76ee\u5f55path/to/nginx/html/ index index.html index.htm; } # \u6b64\u5904\u7701\u7565n\u884c\u4ee3\u7801 } # \u6b64\u5904\u7701\u7565n\u884c\u4ee3\u7801 } Nginx\u914d\u7f6e\u8bf4\u660e\uff1a listen 80; \u670d\u52a1\u5668\u76d1\u542c\u7684\u7aef\u53e3\u53f7\u4e3a80 server_name localhost; \u4ee5Nginx\u670d\u52a1\u5668\u7684IP\u5730\u5740\u4f5c\u4e3ahost root html; \u7f51\u7ad9\u5b58\u653e\u7684\u76ee\u5f55 4.\u542f\u52a8nginx # cd /user/local/nginx/sbin sudo ./nginx 5.\u67e5\u770bnginx\u662f\u5426\u6b63\u786e\u8fd0\u884c # \u6253\u5f00\u6d4f\u89c8\u5668\u8f93\u5165\u670d\u52a1\u5668IP\u5730\u5740\uff0c\u5982\u679cNginx\u6b63\u5e38\u542f\u52a8\uff0c\u4f60\u5c06\u770b\u5230\u5982\u4e0b\u754c\u9762\uff1a 6. \u751f\u6210\u9759\u6001\u7f51\u7ad9 # \u5229\u7528MkDocs\u5c06WiKi\u6e90\u6587\u4ef6\uff08Markdown\u6587\u4ef6\uff09\u8f6c\u6210HTML\u9759\u6001\u7f51\u7ad9\u3002 \u6b64\u5904\u4ee5\u7b2c\u4e00\u671f\uff1a MkDocs - \u521d\u8bc6 \u4e2d\u6211\u4eec\u521b\u5efa\u7684wiki\u9879\u76ee\u4e3a\u4f8b\u3002 # \u8fdb\u5165wiki\u9879\u76ee\u76ee\u5f55 cd my-project # \u751f\u4ea7\u9759\u6001\u7f51\u7ad9 mkdocs build mkdocs build \u547d\u4ee4\u6267\u884c\u540e\uff0c\u5c06\u4f1a\u5728wiki\u9879\u76ee\u76ee\u5f55\u4e0b\u751f\u6210 site \u6587\u4ef6\u5939\uff0c\u8be5\u6587\u4ef6\u5939\u4e2d\u5305\u542b\u7684\u5c31\u662f\u9759\u6001\u7f51\u7ad9\u3002 7.\u5c06Wiki\u7ad9\u70b9\u90e8\u7f72\u5230Nginx # \u5c06 site \u6587\u4ef6\u5939\u4e2d\u7684\u5185\u5bb9\u590d\u5236\u5230Nginx\u670d\u52a1\u5668\u4e0a\u7684 /user/local/nginx/html \u76ee\u5f55\u4e0b\u5373\u53ef\u3002 \u66f4\u591a\u7cbe\u5f69\u8d44\u8baf\uff0c\u8bf7\u626b\u7801\u5173\u6ce8\uff01","title":"3.MkDocs - \u90e8\u7f72\u5230Nginx"},{"location":"Tools/mkdocs/mkdocs_deploy_nginx/#mkdocs-wikinginx-web","text":"\u5f80\u671f\u56de\u987e\uff1a \u7b2c\u4e00\u671f\uff1a MkDocs - \u521d\u8bc6 \u7b2c\u4e8c\u671f\uff1a MkDocs - \u90e8\u7f72WiKi\u7ad9\u70b9\u5230Github Pages \u672c\u671f\u5c0f\u7f16\u5c06\u5e26\u4f60\u4e86\u89e3\u5982\u4f55\u5c06\u4f60\u7684WiKi\u90e8\u7f72\u5230Web\u670d\u52a1\u5668\uff0c\u4f7f\u4f60\u7684WiKi\u80fd\u591f\u5728\u4e92\u8054\u7f51\u4e2d\u88ab\u8bbf\u95ee\u3002 \u672c\u671f\u6211\u4eec\u9009\u62e9\u7684Web\u670d\u52a1\u5668\u662fNginx\u3002","title":"MkDocs - \u90e8\u7f72WiKi\u7ad9\u70b9\u5230Nginx Web\u670d\u52a1\u5668"},{"location":"Tools/mkdocs/mkdocs_deploy_nginx/#1nginx","text":"\u70b9\u51fb\u4e0b\u8f7dNginx\u6e90\u7801 \u89e3\u538bNginx\u6e90\u7801\uff1a tar -xzvf nginx-1.x.x.tar.gz","title":"1.\u4e0b\u8f7dNginx\u6e90\u7801"},{"location":"Tools/mkdocs/mkdocs_deploy_nginx/#2","text":"# \u8fdb\u5165Nginx\u6e90\u7801\u6839\u76ee\u5f55 cd path/to/nginx # \u4f7f\u7528nginx\u9ed8\u8ba4\u914d\u7f6e\u5373\u53ef ./configure # \u7f16\u8bd1\u5b89\u88c5 make && make install Nginx\u76f8\u5173\u8def\u5f84\uff1a nginx\u5b89\u88c5\u8def\u5f84: \"/usr/local/nginx\" nginx\u53ef\u6267\u884c\u6587\u4ef6\u8def\u5f84: \"/usr/local/nginx/sbin/nginx\" nginx\u914d\u7f6e\u6587\u4ef6\u8def\u5f84: \"/usr/local/nginx/conf/nginx.conf\"","title":"2.\u7f16\u8bd1\u5b89\u88c5"},{"location":"Tools/mkdocs/mkdocs_deploy_nginx/#3nginx","text":"\u6253\u5f00\u914d\u7f6e\u6587\u4ef6\uff1a sudo vim /user/local/nginx/conf/nginx.conf \u4fee\u6539\u7aef\u53e3\u53f7\u548c\u57df\u540d\uff1a # \u6b64\u5904\u7701\u7565n\u884c\u4ee3\u7801 http { # \u6b64\u5904\u7701\u7565n\u884c\u4ee3\u7801 server { listen 80; # \u4fee\u6539\u7aef\u53e3\u53f7 server_name localhost; # \u4fee\u6539\u57df\u540d location / { root html; # \u6b64\u5904\u4e3a\u5b58\u653e\u7f51\u7ad9\u7684\u76ee\u5f55path/to/nginx/html/ index index.html index.htm; } # \u6b64\u5904\u7701\u7565n\u884c\u4ee3\u7801 } # \u6b64\u5904\u7701\u7565n\u884c\u4ee3\u7801 } Nginx\u914d\u7f6e\u8bf4\u660e\uff1a listen 80; \u670d\u52a1\u5668\u76d1\u542c\u7684\u7aef\u53e3\u53f7\u4e3a80 server_name localhost; \u4ee5Nginx\u670d\u52a1\u5668\u7684IP\u5730\u5740\u4f5c\u4e3ahost root html; \u7f51\u7ad9\u5b58\u653e\u7684\u76ee\u5f55","title":"3.\u914d\u7f6eNginx"},{"location":"Tools/mkdocs/mkdocs_deploy_nginx/#4nginx","text":"cd /user/local/nginx/sbin sudo ./nginx","title":"4.\u542f\u52a8nginx"},{"location":"Tools/mkdocs/mkdocs_deploy_nginx/#5nginx","text":"\u6253\u5f00\u6d4f\u89c8\u5668\u8f93\u5165\u670d\u52a1\u5668IP\u5730\u5740\uff0c\u5982\u679cNginx\u6b63\u5e38\u542f\u52a8\uff0c\u4f60\u5c06\u770b\u5230\u5982\u4e0b\u754c\u9762\uff1a","title":"5.\u67e5\u770bnginx\u662f\u5426\u6b63\u786e\u8fd0\u884c"},{"location":"Tools/mkdocs/mkdocs_deploy_nginx/#6","text":"\u5229\u7528MkDocs\u5c06WiKi\u6e90\u6587\u4ef6\uff08Markdown\u6587\u4ef6\uff09\u8f6c\u6210HTML\u9759\u6001\u7f51\u7ad9\u3002 \u6b64\u5904\u4ee5\u7b2c\u4e00\u671f\uff1a MkDocs - \u521d\u8bc6 \u4e2d\u6211\u4eec\u521b\u5efa\u7684wiki\u9879\u76ee\u4e3a\u4f8b\u3002 # \u8fdb\u5165wiki\u9879\u76ee\u76ee\u5f55 cd my-project # \u751f\u4ea7\u9759\u6001\u7f51\u7ad9 mkdocs build mkdocs build \u547d\u4ee4\u6267\u884c\u540e\uff0c\u5c06\u4f1a\u5728wiki\u9879\u76ee\u76ee\u5f55\u4e0b\u751f\u6210 site \u6587\u4ef6\u5939\uff0c\u8be5\u6587\u4ef6\u5939\u4e2d\u5305\u542b\u7684\u5c31\u662f\u9759\u6001\u7f51\u7ad9\u3002","title":"6. \u751f\u6210\u9759\u6001\u7f51\u7ad9"},{"location":"Tools/mkdocs/mkdocs_deploy_nginx/#7wikinginx","text":"\u5c06 site \u6587\u4ef6\u5939\u4e2d\u7684\u5185\u5bb9\u590d\u5236\u5230Nginx\u670d\u52a1\u5668\u4e0a\u7684 /user/local/nginx/html \u76ee\u5f55\u4e0b\u5373\u53ef\u3002 \u66f4\u591a\u7cbe\u5f69\u8d44\u8baf\uff0c\u8bf7\u626b\u7801\u5173\u6ce8\uff01","title":"7.\u5c06Wiki\u7ad9\u70b9\u90e8\u7f72\u5230Nginx"},{"location":"Tools/mkdocs/mkdocs_intro/","text":"MkDocs - \u521d\u8bc6 # \u7b80\u5355\u7684\u8bf4MKDocs\u5c31\u662f\u4e00\u4e2a\u53ef\u4ee5\u5c06Markdown\u6587\u4ef6\u8f6c\u6362\u6210HTML\u9759\u6001\u7f51\u9875\u6587\u4ef6\u7684Python\u7a0b\u5e8f\u3002 \u672c\u671f\u5c0f\u7f16\u5c06\u5e26\u9886\u4f60\u4ece\u96f6\u5230\u4e00\u521b\u5efa\u4e00\u4e2a\u5c5e\u4e8e\u4f60\u81ea\u5df1\u7684Wiki\u77e5\u8bc6\u7ba1\u7406\u7cfb\u7edf\u3002 1. \u5199\u4f5c\u5de5\u5177 # \u5de5\u6b32\u5584\u5176\u4e8b\u5fc5\u5148\u5229\u5176\u5668\uff0c\u63a8\u8350\u5927\u5bb6\u4f7f\u7528VSCode\uff0cVSCode\u5bf9Markdown\u7684\u652f\u6301\u5341\u5206\u53cb\u597d\uff0c\u652f\u6301\u5de5\u4f5c\u7a7a\u95f4\u3001Markdown\u9884\u89c8\u548c\u547d\u4ee4\u884c\u7ec8\u7aef\u7b49\u529f\u80fd\uff0c\u662f\u4e00\u6b3e\u5199\u4f5c\u5229\u5668\u3002 VSCode\u5f00\u6e90\u514d\u8d39\u70b9\u51fb\u4e0b\u8f7d 2. \u5b89\u88c5MkDocs # \u4f7f\u7528pip\u5b89\u88c5 mkdocs \u8f6f\u4ef6\u5305 pip install mkdocs \u68c0\u6d4b MkDocs \u662f\u5426\u5b89\u88c5\u6210\u529f $ mkdocs -V mkdocs, version 1.0.4 from \\path\\to\\python-site-packages\\mkdocs(Python3.7) 3.\u65b0\u5efa\u4e00\u4e2aWiKi # \u65b0\u5efa\u4e00\u4e2a\u540d\u4e3a my-project \u7684Wiki\u9879\u76ee\uff1a mkdocs new my-project \u65b0\u5efaWiKi\u9879\u76ee\u5176\u5b9e\u5c31\u662f\u521b\u5efa\u4e86\u5982\u4e0b\u6240\u793a\u7684\u76ee\u5f55\u7ed3\u6784\uff1a my-project \u251c\u2500\u2500 docs \u2502 \u2514\u2500\u2500 index.md \u2514\u2500\u2500 mkdocs.yml my-project/docs/index.md \u662fWiKi\u7f51\u7ad9\u7684\u9996\u9875\u6e90\u6587\u4ef6 my-project/mkdocs.yml \u662fWiKi\u7f51\u7ad9\u7684\u914d\u7f6e\u6587\u4ef6\uff08\u4e3b\u9898\u3001\u5bfc\u822a\u680f\u3001\u8bed\u8a00\u7b49\uff09 \u6240\u4ee5\u6267\u884c mkdocs new my-project \u547d\u4ee4\u4e4b\u540e\uff0c\u4f60\u5c31\u6709\u4e86\u4e00\u4e2aWiki\u6240\u9700\u7684\u6700\u57fa\u672c\u7684\u76ee\u5f55\u7ed3\u6784\u3002 \u4ee5\u540e\u6211\u4eec\u5c31\u901a\u8fc7\u5411 my-project/docs \u6587\u4ef6\u5939\u589e\u51cfMarkdown\u6587\u4ef6\u5b9e\u73b0Wiki\u5185\u5bb9\u7684\u589e\u51cf\uff1b\u901a\u8fc7\u4fee\u6539 my-project/mkdocs.yml \u6587\u4ef6\u5b9e\u73b0\u5bf9WiKi\u7684\u914d\u7f6e\u3002 4.\u9884\u89c8WiKi # \u9996\u5148\u542f\u52a8MkDocs\u670d\u52a1\uff0c\u76f8\u5f53\u4e8e\u4e00\u4e2aWeb\u670d\u52a1\u5668\u3002 $ mkdocs serve INFO - Building documentation... INFO - Cleaning site directory [I 191214 10:17:31 server:296] Serving on http://127.0.0.1:8000 [I 191214 10:17:31 handlers:62] Start watching changes [I 191214 10:17:31 handlers:64] Start detecting changes \u7136\u540e\u6253\u5f00\u6d4f\u89c8\u5668\u8f93\u5165127.0.0.1:8000\u8bbf\u95eeWiKi\u7ad9\u70b9\u3002 \u5982\u679c\u4ee5\u4e0a\u6b65\u9aa4\u90fd\u6267\u884c\u6210\u529f\uff0c\u4f60\u5c06\u770b\u5230\u5982\u4e0b\u754c\u9762\uff1a \u81f3\u6b64\uff0c\u4e00\u4e2awiki\u7cfb\u7edf\u5df2\u7ecf\u642d\u5efa\u5b8c\u6210\uff0c\u4e0b\u9762\u6211\u4eec\u6765\u5b66\u4e60\u4e00\u4e0b\u5982\u4f55\u5411wiki\u7cfb\u7edf\u4e2d\u6dfb\u52a0\u65b0\u7684\u5185\u5bb9\u5427! 5.\u6dfb\u52a0\u65b0\u5185\u5bb9 # 5.1 \u6dfb\u52a0\u65b0\u9875\u9762\uff08\u6587\u5b57\u5185\u5bb9\uff09 # \u9996\u5148\u5728 my-project/docs \u6587\u4ef6\u5939\u4e0b\u9762\u521b\u5efa first.md \u6587\u4ef6\uff0c\u5e76\u4f7f\u7528\u4f60\u559c\u6b22\u7684markdown\u7f16\u8f91\u5668\u5199\u5165\u5185\u5bb9\uff1a This is a new page. # \u4e00\u7ea7\u6807\u9898 ## \u4e8c\u7ea7\u6807\u9898 ### \u4e09\u7ea7\u6807\u9898 \u7136\u540e\u7f16\u8f91 my-project/mkdocs.yml \u6587\u4ef6\uff08WiKi\u7f51\u7ad9\u914d\u7f6e\u6587\u4ef6\uff09\uff0c\u5728\u672b\u5c3e\u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9\uff1a nav: - Home: index.md - First: first.md \u6b64\u65f6\u4f60\u7684WiKi\u76ee\u5f55\u7ed3\u6784\u662f\u8fd9\u6837\u7684\uff1a my-project \u251c\u2500\u2500 docs \u2502 \u251c\u2500\u2500 first.md \u2502 \u2514\u2500\u2500 index.md \u2514\u2500\u2500 mkdocs.yml \u4fdd\u5b58\u4ee5\u4e0a\u7f16\u8f91\u7684\u6587\u4ef6\uff0c\u5e76\u5237\u65b0\u9884\u89c8\u9875\u9762\uff0c\u4f60\u5c06\u770b\u5230\u5982\u4e0b\u754c\u9762\uff1a 5.2 \u6dfb\u52a0\u56fe\u7247 # \u5efa\u7acb my-project/docs/images \u6587\u4ef6\u5939\uff0c\u5e76\u5c06 image.jpg \u653e\u5165\u6b64\u6587\u4ef6\u5939\u3002 \u7136\u540e\u5728 my-project/docs/first.md \u6587\u4ef6\u4e2d\u63d2\u5165\u8be5\u56fe\u7247\uff1a This is a new page. # \u4e00\u7ea7\u6807\u9898 ## \u4e8c\u7ea7\u6807\u9898 ### \u4e09\u7ea7\u6807\u9898 ![image](images/image.jpg) \u6b64\u65f6\u4f60\u7684WiKi\u76ee\u5f55\u7ed3\u6784\u662f\u8fd9\u6837\u7684\uff1a my-project \u251c\u2500\u2500 docs \u2502 \u251c\u2500\u2500 first.md \u2502 \u251c\u2500\u2500 images \u2502 \u2502 \u2514\u2500\u2500 image.jpg \u2502 \u2514\u2500\u2500 index.md \u2514\u2500\u2500 mkdocs.yml \u4fdd\u5b58\u4ee5\u4e0a\u7f16\u8f91\u6587\u4ef6\uff0c\u7136\u540e\u5237\u65b0\u9884\u89c8\u7f51\u9875\uff0c\u4f60\u5c06\u770b\u5230\u5982\u4e0b\u754c\u9762\uff1a 6.\u5728\u7ebfDemo # \u5728\u7ebfDemo\u5730\u5740\uff1a https://edgeai-lab.github.io/my-project \u5728\u7ebfDemo\u6e90\u7801\uff1a https://github.com/EdgeAI-Lab/my-project \u66f4\u591a\u7cbe\u5f69\u8d44\u8baf\uff0c\u8bf7\u626b\u7801\u5173\u6ce8\uff01","title":"1.MkDocs - \u521d\u8bc6"},{"location":"Tools/mkdocs/mkdocs_intro/#mkdocs-","text":"\u7b80\u5355\u7684\u8bf4MKDocs\u5c31\u662f\u4e00\u4e2a\u53ef\u4ee5\u5c06Markdown\u6587\u4ef6\u8f6c\u6362\u6210HTML\u9759\u6001\u7f51\u9875\u6587\u4ef6\u7684Python\u7a0b\u5e8f\u3002 \u672c\u671f\u5c0f\u7f16\u5c06\u5e26\u9886\u4f60\u4ece\u96f6\u5230\u4e00\u521b\u5efa\u4e00\u4e2a\u5c5e\u4e8e\u4f60\u81ea\u5df1\u7684Wiki\u77e5\u8bc6\u7ba1\u7406\u7cfb\u7edf\u3002","title":"MkDocs - \u521d\u8bc6"},{"location":"Tools/mkdocs/mkdocs_intro/#1","text":"\u5de5\u6b32\u5584\u5176\u4e8b\u5fc5\u5148\u5229\u5176\u5668\uff0c\u63a8\u8350\u5927\u5bb6\u4f7f\u7528VSCode\uff0cVSCode\u5bf9Markdown\u7684\u652f\u6301\u5341\u5206\u53cb\u597d\uff0c\u652f\u6301\u5de5\u4f5c\u7a7a\u95f4\u3001Markdown\u9884\u89c8\u548c\u547d\u4ee4\u884c\u7ec8\u7aef\u7b49\u529f\u80fd\uff0c\u662f\u4e00\u6b3e\u5199\u4f5c\u5229\u5668\u3002 VSCode\u5f00\u6e90\u514d\u8d39\u70b9\u51fb\u4e0b\u8f7d","title":"1. \u5199\u4f5c\u5de5\u5177"},{"location":"Tools/mkdocs/mkdocs_intro/#2-mkdocs","text":"\u4f7f\u7528pip\u5b89\u88c5 mkdocs \u8f6f\u4ef6\u5305 pip install mkdocs \u68c0\u6d4b MkDocs \u662f\u5426\u5b89\u88c5\u6210\u529f $ mkdocs -V mkdocs, version 1.0.4 from \\path\\to\\python-site-packages\\mkdocs(Python3.7)","title":"2. \u5b89\u88c5MkDocs"},{"location":"Tools/mkdocs/mkdocs_intro/#3wiki","text":"\u65b0\u5efa\u4e00\u4e2a\u540d\u4e3a my-project \u7684Wiki\u9879\u76ee\uff1a mkdocs new my-project \u65b0\u5efaWiKi\u9879\u76ee\u5176\u5b9e\u5c31\u662f\u521b\u5efa\u4e86\u5982\u4e0b\u6240\u793a\u7684\u76ee\u5f55\u7ed3\u6784\uff1a my-project \u251c\u2500\u2500 docs \u2502 \u2514\u2500\u2500 index.md \u2514\u2500\u2500 mkdocs.yml my-project/docs/index.md \u662fWiKi\u7f51\u7ad9\u7684\u9996\u9875\u6e90\u6587\u4ef6 my-project/mkdocs.yml \u662fWiKi\u7f51\u7ad9\u7684\u914d\u7f6e\u6587\u4ef6\uff08\u4e3b\u9898\u3001\u5bfc\u822a\u680f\u3001\u8bed\u8a00\u7b49\uff09 \u6240\u4ee5\u6267\u884c mkdocs new my-project \u547d\u4ee4\u4e4b\u540e\uff0c\u4f60\u5c31\u6709\u4e86\u4e00\u4e2aWiki\u6240\u9700\u7684\u6700\u57fa\u672c\u7684\u76ee\u5f55\u7ed3\u6784\u3002 \u4ee5\u540e\u6211\u4eec\u5c31\u901a\u8fc7\u5411 my-project/docs \u6587\u4ef6\u5939\u589e\u51cfMarkdown\u6587\u4ef6\u5b9e\u73b0Wiki\u5185\u5bb9\u7684\u589e\u51cf\uff1b\u901a\u8fc7\u4fee\u6539 my-project/mkdocs.yml \u6587\u4ef6\u5b9e\u73b0\u5bf9WiKi\u7684\u914d\u7f6e\u3002","title":"3.\u65b0\u5efa\u4e00\u4e2aWiKi"},{"location":"Tools/mkdocs/mkdocs_intro/#4wiki","text":"\u9996\u5148\u542f\u52a8MkDocs\u670d\u52a1\uff0c\u76f8\u5f53\u4e8e\u4e00\u4e2aWeb\u670d\u52a1\u5668\u3002 $ mkdocs serve INFO - Building documentation... INFO - Cleaning site directory [I 191214 10:17:31 server:296] Serving on http://127.0.0.1:8000 [I 191214 10:17:31 handlers:62] Start watching changes [I 191214 10:17:31 handlers:64] Start detecting changes \u7136\u540e\u6253\u5f00\u6d4f\u89c8\u5668\u8f93\u5165127.0.0.1:8000\u8bbf\u95eeWiKi\u7ad9\u70b9\u3002 \u5982\u679c\u4ee5\u4e0a\u6b65\u9aa4\u90fd\u6267\u884c\u6210\u529f\uff0c\u4f60\u5c06\u770b\u5230\u5982\u4e0b\u754c\u9762\uff1a \u81f3\u6b64\uff0c\u4e00\u4e2awiki\u7cfb\u7edf\u5df2\u7ecf\u642d\u5efa\u5b8c\u6210\uff0c\u4e0b\u9762\u6211\u4eec\u6765\u5b66\u4e60\u4e00\u4e0b\u5982\u4f55\u5411wiki\u7cfb\u7edf\u4e2d\u6dfb\u52a0\u65b0\u7684\u5185\u5bb9\u5427!","title":"4.\u9884\u89c8WiKi"},{"location":"Tools/mkdocs/mkdocs_intro/#5","text":"","title":"5.\u6dfb\u52a0\u65b0\u5185\u5bb9"},{"location":"Tools/mkdocs/mkdocs_intro/#51","text":"\u9996\u5148\u5728 my-project/docs \u6587\u4ef6\u5939\u4e0b\u9762\u521b\u5efa first.md \u6587\u4ef6\uff0c\u5e76\u4f7f\u7528\u4f60\u559c\u6b22\u7684markdown\u7f16\u8f91\u5668\u5199\u5165\u5185\u5bb9\uff1a This is a new page. # \u4e00\u7ea7\u6807\u9898 ## \u4e8c\u7ea7\u6807\u9898 ### \u4e09\u7ea7\u6807\u9898 \u7136\u540e\u7f16\u8f91 my-project/mkdocs.yml \u6587\u4ef6\uff08WiKi\u7f51\u7ad9\u914d\u7f6e\u6587\u4ef6\uff09\uff0c\u5728\u672b\u5c3e\u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9\uff1a nav: - Home: index.md - First: first.md \u6b64\u65f6\u4f60\u7684WiKi\u76ee\u5f55\u7ed3\u6784\u662f\u8fd9\u6837\u7684\uff1a my-project \u251c\u2500\u2500 docs \u2502 \u251c\u2500\u2500 first.md \u2502 \u2514\u2500\u2500 index.md \u2514\u2500\u2500 mkdocs.yml \u4fdd\u5b58\u4ee5\u4e0a\u7f16\u8f91\u7684\u6587\u4ef6\uff0c\u5e76\u5237\u65b0\u9884\u89c8\u9875\u9762\uff0c\u4f60\u5c06\u770b\u5230\u5982\u4e0b\u754c\u9762\uff1a","title":"5.1 \u6dfb\u52a0\u65b0\u9875\u9762\uff08\u6587\u5b57\u5185\u5bb9\uff09"},{"location":"Tools/mkdocs/mkdocs_intro/#52","text":"\u5efa\u7acb my-project/docs/images \u6587\u4ef6\u5939\uff0c\u5e76\u5c06 image.jpg \u653e\u5165\u6b64\u6587\u4ef6\u5939\u3002 \u7136\u540e\u5728 my-project/docs/first.md \u6587\u4ef6\u4e2d\u63d2\u5165\u8be5\u56fe\u7247\uff1a This is a new page. # \u4e00\u7ea7\u6807\u9898 ## \u4e8c\u7ea7\u6807\u9898 ### \u4e09\u7ea7\u6807\u9898 ![image](images/image.jpg) \u6b64\u65f6\u4f60\u7684WiKi\u76ee\u5f55\u7ed3\u6784\u662f\u8fd9\u6837\u7684\uff1a my-project \u251c\u2500\u2500 docs \u2502 \u251c\u2500\u2500 first.md \u2502 \u251c\u2500\u2500 images \u2502 \u2502 \u2514\u2500\u2500 image.jpg \u2502 \u2514\u2500\u2500 index.md \u2514\u2500\u2500 mkdocs.yml \u4fdd\u5b58\u4ee5\u4e0a\u7f16\u8f91\u6587\u4ef6\uff0c\u7136\u540e\u5237\u65b0\u9884\u89c8\u7f51\u9875\uff0c\u4f60\u5c06\u770b\u5230\u5982\u4e0b\u754c\u9762\uff1a","title":"5.2 \u6dfb\u52a0\u56fe\u7247"},{"location":"Tools/mkdocs/mkdocs_intro/#6demo","text":"\u5728\u7ebfDemo\u5730\u5740\uff1a https://edgeai-lab.github.io/my-project \u5728\u7ebfDemo\u6e90\u7801\uff1a https://github.com/EdgeAI-Lab/my-project \u66f4\u591a\u7cbe\u5f69\u8d44\u8baf\uff0c\u8bf7\u626b\u7801\u5173\u6ce8\uff01","title":"6.\u5728\u7ebfDemo"},{"location":"Tools/mkdocs/mkdocs_theme/","text":"MkDocs - Wiki\u914d\u7f6e # \u5f80\u671f\u56de\u987e\uff1a \u7b2c\u4e00\u671f\uff1a MkDocs - \u521d\u8bc6 \u7b2c\u4e8c\u671f\uff1a MkDocs - \u90e8\u7f72WiKi\u7ad9\u70b9\u5230Github Pages \u7b2c\u4e09\u671f\uff1a MkDocs - \u90e8\u7f72WiKi\u7ad9\u70b9\u5230Nginx 1.\u914d\u7f6e\u4e3b\u9898 # MkDocs\u63d0\u4f9b\u4e86\u591a\u79cd\u4e3b\u9898\u4f9b\u4f60\u9009\u62e9\u3002 \u5185\u7f6e\u4e3b\u9898 mkdocs \u548c readthedocs \uff1b \u7b2c\u4e09\u65b9\u4e3b\u9898 \u9009\u62e9\u4f60\u559c\u6b22\u7684\u4e3b\u9898\uff0c\u6839\u636e\u4e3b\u9898\u5b98\u7f51\u63d0\u793a\u8fdb\u884c\u5b89\u88c5\uff0c\u7136\u540e\u5c06\u5982\u4e0b\u5185\u5bb9\u6dfb\u52a0\u5230\u4f60\u7684Wiki\u9879\u76ee\u7684 mkdocs.yml \u6587\u4ef6\u4e2d\u3002 theme: name: 'your_theme_name' # \u66ff\u6362\u4e3a\u4f60\u9009\u62e9\u7684\u4e3b\u9898\u7684\u540d\u79f0 2.\u4ee3\u7801\u9ad8\u4eae # theme: name: 'your_theme_name' # \u4f60\u7684\u4e3b\u9898\u540d\u79f0 highlightjs: true # \u6253\u5f00\u4ee3\u7801\u9ad8\u4eae hljs_style: github # \u4ee3\u7801\u9ad8\u4eae\u98ce\u683c hljs_languages: # \u7f16\u7a0b\u8bed\u8a00 - c - c++ - java - python highlightjs\uff1a\u4f7f\u80fd\u4ee3\u7801\u9ad8\u4eae\u529f\u80fd\uff0c\u8be5\u529f\u80fd\u7531 highlight.js\u5e93 \u63d0\u4f9b\uff0c\u4ee3\u7801\u9ad8\u4eae\u529f\u80fd\u9ed8\u8ba4\u662f\u4f7f\u80fd\u7684\uff0c\u6240\u4ee5\u53ef\u4ee5\u7701\u7565\u4e0d\u5199\u3002 hljs_style\uff1a\u4ee3\u7801\u9ad8\u4eae\u7684\u98ce\u683c\uff0chighlight.js\u5e93\u63d0\u4f9b\u4e86 79\u79cd\u4e0d\u540c\u7684\u98ce\u683c \uff0c\u9ed8\u8ba4\u98ce\u683c\u662f\uff1agithub\u3002 hljs_languages\uff1ahighlight.js\u5e93\u9ed8\u8ba4\u4ec5\u652f\u630123\u79cd\u7f16\u7a0b\u8bed\u8a00\uff0c\u5982\u679c\u4f60\u4f7f\u7528\u7684\u8bed\u8a00\u4e0d\u5728\u9ed8\u8ba4\u652f\u6301\u4e2d\uff0c\u8bf7\u6dfb\u52a0\u5230\u8fd9\u91cc\u3002 3.WiKi\u76ee\u5f55\u7ed3\u6784\u89c4\u5212 # \u6211\u4eec\u5e0c\u671b\u5f52\u7c7b\u7ba1\u7406Wiki\u9875\u9762\uff0c\u6240\u4ee5\u53ef\u4ee5\u5728 my-wiki/doc \u6587\u4ef6\u5939\u4e0b\u5efa\u7acb\u4e0d\u540c\u7684\u5206\u7c7b\u6587\u4ef6\u5939\uff1a my-wiki \u251c\u2500\u2500 docs \u2502 \u251c\u2500\u2500 c \u2502 \u2502 \u2514\u2500\u2500 c_language.md \u2502 \u251c\u2500\u2500 c++ \u2502 \u2502 \u2514\u2500\u2500 c++_language.md \u2502 \u251c\u2500\u2500 first.md \u2502 \u251c\u2500\u2500 index.md \u2502 \u251c\u2500\u2500 java \u2502 \u2502 \u2514\u2500\u2500 java_language.md \u2502 \u251c\u2500\u2500 linux \u2502 \u2502 \u251c\u2500\u2500 linux_app \u2502 \u2502 \u2502 \u2514\u2500\u2500 linux_app.md \u2502 \u2502 \u2514\u2500\u2500 linux_drv \u2502 \u2502 \u2514\u2500\u2500 linux_drv.md \u2502 \u2514\u2500\u2500 python \u2502 \u2514\u2500\u2500 python_language.md \u2514\u2500\u2500 mkdocs.yml \u7136\u540e\u5728 my-wiki/mkdocs.yml \u4e2d\u8fdb\u884c\u5982\u4e0b\u914d\u7f6e\uff1a nav: - Home: index.md - First: first.md - C\u8bed\u8a00: c/c_language.md - C++\u8bed\u8a00: c++/c++_language.md - Java\u8bed\u8a00: java/java_language.md - Python\u8bed\u8a00: python/python_language.md - Linux\u5f00\u53d1: - Linux\u9a71\u52a8\u5f00\u53d1: linux/linux_drv/linux_drv.md - Linux\u5e94\u7528\u5f00\u53d1: linux/linux_app/linux_app.md 4.\u5b9a\u5236\u6837\u5f0f # \u867d\u7136MkDocs\u63d0\u4f9b\u4e86\u5f88\u591a\u4e3b\u9898\u4f9b\u6211\u4eec\u9009\u62e9\uff0c\u5982\u679c\u8fd8\u662f\u4e0d\u80fd\u5b8c\u5168\u6ee1\u8db3\u4f60\u7684\u9700\u6c42\uff0c\u90a3\u4e48\u53ef\u4ee5\u5c1d\u8bd5\u5b9a\u5236\u4f60\u81ea\u5df1\u559c\u6b22\u7684\u6837\u5f0f\u3002 4.1 \u5fae\u8c03\u5df2\u6709\u4e3b\u9898\u7684\u6837\u5f0f # \u521b\u5efa my-wiki/css/extra.css \u6587\u4ef6\uff0c\u5e76\u8bbe\u7f6e\u4f60\u60f3\u8981\u7684\u6837\u5f0f\uff08\u5b57\u4f53\u6837\u5f0f\u3001\u5b57\u4f53\u989c\u8272\u3001\u5b57\u4f53\u5927\u5c0f\u3001\u6bb5\u843d\u884c\u95f4\u8ddd\u7b49\uff09\uff1a h1 { margin-bottom:20px; # \u4e00\u7ea7\u6807\u9898\u5e95\u8fb9\u8ddd\u4e3a20px } h2 { font-size:20pt; # \u4e8c\u7ea7\u6807\u9898\u7684\u5b57\u4f53\u5927\u5c0f\u4e3a20pt margin-top:40px; # \u4e8c\u7ea7\u6807\u9898\u9876\u8fb9\u8ddd\u4e3a40px margin-bottom:20px; # \u4e8c\u7ea7\u6807\u9898\u5e95\u8fb9\u8ddd\u4e3a20px } h3 { font-size:17pt; # \u4e8c\u7ea7\u6807\u9898\u7684\u5b57\u4f53\u5927\u5c0f\u4e3a17pt margin-top:25px; # \u4e8c\u7ea7\u6807\u9898\u9876\u8fb9\u8ddd\u4e3a25px margin-bottom:20px; # \u4e8c\u7ea7\u6807\u9898\u5e95\u8fb9\u8ddd\u4e3a20px } p { font-family:\"Arial\",\"Microsoft YaHei\",\"\u9ed1\u4f53\",\"\u5b8b\u4f53\",\"sans-serif\"; # \u6bb5\u843d\u7684\u5b57\u4f53 font-size:13pt; # \u6bb5\u843d\u5b57\u4f53\u7684\u5927\u5c0f line-height:200%; # \u6bb5\u843d\u884c\u95f4\u8ddd } ul { line-height:200%; # \u65e0\u5e8f\u5217\u8868\u884c\u95f4\u8ddd } \u7136\u540e\u5728Wiki\u914d\u7f6e\u6587\u4ef6 my-wiki/mkdocs.yml \u4e2d\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9\uff1a extra_css: - css/extra.css \u66f4\u591a\u6837\u5f0f\u8bf7\u81ea\u884c\u767e\u5ea6\u641c\u7d22CSS\u7f51\u9875\u5e03\u5c40\u5b66\u4e60\u3002 4.2 Markdown\u4e0eHTML\u8bed\u6cd5\u76f8\u7ed3\u5408 # \u8bbe\u7f6e\u6587\u5b57\u5927\u5c0f\uff1a <font size=\"2pt\">\u6587\u5b57\u5185\u5bb9</font> \u8bbe\u7f6e\u6587\u5b57\u989c\u8272\uff1a <font color=\"red\">\u6587\u5b57\u5185\u5bb9</font> \u8bbe\u7f6e\u6587\u5b57\u5c45\u4e2d\u663e\u793a\uff1a <center>\u6587\u5b57\u5185\u5bb9</center> \u4ee5\u4e0aHTML\u8bed\u6cd5\u90fd\u53ef\u4ee5\u5d4c\u5957\u4f7f\u7528\uff0c\u6bd4\u5982\u8bbe\u7f6e\u6587\u5b57\u5c45\u4e2d\u663e\u793a\uff0c\u5e76\u4e14\u6587\u5b57\u4e3a\u7ea2\u8272\uff1a <center><font size=\"3pt\">\u6587\u5b57\u5185\u5bb9</font></center> \u56fe\u7247\u5c45\u4e2d\u663e\u793a\uff1a <center><p>![image](images/image.jpg)</p></center> \u66f4\u591aHTML\u8bed\u6cd5\u8bf7\u81ea\u884c\u767e\u5ea6\u641c\u7d22\u5b66\u4e60\u3002 5.\u5728\u7ebfDemo # \u5728\u7ebfDemo\u5730\u5740\uff1a https://edgeai-lab.github.io/my-wiki \u5728\u7ebfDemo\u6e90\u7801\uff1a https://github.com/EdgeAI-Lab/my-wiki \u66f4\u591a\u7cbe\u5f69\u8d44\u8baf\uff0c\u8bf7\u626b\u7801\u5173\u6ce8\uff01","title":"4.MkDocs - Wiki\u6837\u5f0f\u914d\u7f6e"},{"location":"Tools/mkdocs/mkdocs_theme/#mkdocs-wiki","text":"\u5f80\u671f\u56de\u987e\uff1a \u7b2c\u4e00\u671f\uff1a MkDocs - \u521d\u8bc6 \u7b2c\u4e8c\u671f\uff1a MkDocs - \u90e8\u7f72WiKi\u7ad9\u70b9\u5230Github Pages \u7b2c\u4e09\u671f\uff1a MkDocs - \u90e8\u7f72WiKi\u7ad9\u70b9\u5230Nginx","title":"MkDocs - Wiki\u914d\u7f6e"},{"location":"Tools/mkdocs/mkdocs_theme/#1","text":"MkDocs\u63d0\u4f9b\u4e86\u591a\u79cd\u4e3b\u9898\u4f9b\u4f60\u9009\u62e9\u3002 \u5185\u7f6e\u4e3b\u9898 mkdocs \u548c readthedocs \uff1b \u7b2c\u4e09\u65b9\u4e3b\u9898 \u9009\u62e9\u4f60\u559c\u6b22\u7684\u4e3b\u9898\uff0c\u6839\u636e\u4e3b\u9898\u5b98\u7f51\u63d0\u793a\u8fdb\u884c\u5b89\u88c5\uff0c\u7136\u540e\u5c06\u5982\u4e0b\u5185\u5bb9\u6dfb\u52a0\u5230\u4f60\u7684Wiki\u9879\u76ee\u7684 mkdocs.yml \u6587\u4ef6\u4e2d\u3002 theme: name: 'your_theme_name' # \u66ff\u6362\u4e3a\u4f60\u9009\u62e9\u7684\u4e3b\u9898\u7684\u540d\u79f0","title":"1.\u914d\u7f6e\u4e3b\u9898"},{"location":"Tools/mkdocs/mkdocs_theme/#2","text":"theme: name: 'your_theme_name' # \u4f60\u7684\u4e3b\u9898\u540d\u79f0 highlightjs: true # \u6253\u5f00\u4ee3\u7801\u9ad8\u4eae hljs_style: github # \u4ee3\u7801\u9ad8\u4eae\u98ce\u683c hljs_languages: # \u7f16\u7a0b\u8bed\u8a00 - c - c++ - java - python highlightjs\uff1a\u4f7f\u80fd\u4ee3\u7801\u9ad8\u4eae\u529f\u80fd\uff0c\u8be5\u529f\u80fd\u7531 highlight.js\u5e93 \u63d0\u4f9b\uff0c\u4ee3\u7801\u9ad8\u4eae\u529f\u80fd\u9ed8\u8ba4\u662f\u4f7f\u80fd\u7684\uff0c\u6240\u4ee5\u53ef\u4ee5\u7701\u7565\u4e0d\u5199\u3002 hljs_style\uff1a\u4ee3\u7801\u9ad8\u4eae\u7684\u98ce\u683c\uff0chighlight.js\u5e93\u63d0\u4f9b\u4e86 79\u79cd\u4e0d\u540c\u7684\u98ce\u683c \uff0c\u9ed8\u8ba4\u98ce\u683c\u662f\uff1agithub\u3002 hljs_languages\uff1ahighlight.js\u5e93\u9ed8\u8ba4\u4ec5\u652f\u630123\u79cd\u7f16\u7a0b\u8bed\u8a00\uff0c\u5982\u679c\u4f60\u4f7f\u7528\u7684\u8bed\u8a00\u4e0d\u5728\u9ed8\u8ba4\u652f\u6301\u4e2d\uff0c\u8bf7\u6dfb\u52a0\u5230\u8fd9\u91cc\u3002","title":"2.\u4ee3\u7801\u9ad8\u4eae"},{"location":"Tools/mkdocs/mkdocs_theme/#3wiki","text":"\u6211\u4eec\u5e0c\u671b\u5f52\u7c7b\u7ba1\u7406Wiki\u9875\u9762\uff0c\u6240\u4ee5\u53ef\u4ee5\u5728 my-wiki/doc \u6587\u4ef6\u5939\u4e0b\u5efa\u7acb\u4e0d\u540c\u7684\u5206\u7c7b\u6587\u4ef6\u5939\uff1a my-wiki \u251c\u2500\u2500 docs \u2502 \u251c\u2500\u2500 c \u2502 \u2502 \u2514\u2500\u2500 c_language.md \u2502 \u251c\u2500\u2500 c++ \u2502 \u2502 \u2514\u2500\u2500 c++_language.md \u2502 \u251c\u2500\u2500 first.md \u2502 \u251c\u2500\u2500 index.md \u2502 \u251c\u2500\u2500 java \u2502 \u2502 \u2514\u2500\u2500 java_language.md \u2502 \u251c\u2500\u2500 linux \u2502 \u2502 \u251c\u2500\u2500 linux_app \u2502 \u2502 \u2502 \u2514\u2500\u2500 linux_app.md \u2502 \u2502 \u2514\u2500\u2500 linux_drv \u2502 \u2502 \u2514\u2500\u2500 linux_drv.md \u2502 \u2514\u2500\u2500 python \u2502 \u2514\u2500\u2500 python_language.md \u2514\u2500\u2500 mkdocs.yml \u7136\u540e\u5728 my-wiki/mkdocs.yml \u4e2d\u8fdb\u884c\u5982\u4e0b\u914d\u7f6e\uff1a nav: - Home: index.md - First: first.md - C\u8bed\u8a00: c/c_language.md - C++\u8bed\u8a00: c++/c++_language.md - Java\u8bed\u8a00: java/java_language.md - Python\u8bed\u8a00: python/python_language.md - Linux\u5f00\u53d1: - Linux\u9a71\u52a8\u5f00\u53d1: linux/linux_drv/linux_drv.md - Linux\u5e94\u7528\u5f00\u53d1: linux/linux_app/linux_app.md","title":"3.WiKi\u76ee\u5f55\u7ed3\u6784\u89c4\u5212"},{"location":"Tools/mkdocs/mkdocs_theme/#4","text":"\u867d\u7136MkDocs\u63d0\u4f9b\u4e86\u5f88\u591a\u4e3b\u9898\u4f9b\u6211\u4eec\u9009\u62e9\uff0c\u5982\u679c\u8fd8\u662f\u4e0d\u80fd\u5b8c\u5168\u6ee1\u8db3\u4f60\u7684\u9700\u6c42\uff0c\u90a3\u4e48\u53ef\u4ee5\u5c1d\u8bd5\u5b9a\u5236\u4f60\u81ea\u5df1\u559c\u6b22\u7684\u6837\u5f0f\u3002","title":"4.\u5b9a\u5236\u6837\u5f0f"},{"location":"Tools/mkdocs/mkdocs_theme/#41","text":"\u521b\u5efa my-wiki/css/extra.css \u6587\u4ef6\uff0c\u5e76\u8bbe\u7f6e\u4f60\u60f3\u8981\u7684\u6837\u5f0f\uff08\u5b57\u4f53\u6837\u5f0f\u3001\u5b57\u4f53\u989c\u8272\u3001\u5b57\u4f53\u5927\u5c0f\u3001\u6bb5\u843d\u884c\u95f4\u8ddd\u7b49\uff09\uff1a h1 { margin-bottom:20px; # \u4e00\u7ea7\u6807\u9898\u5e95\u8fb9\u8ddd\u4e3a20px } h2 { font-size:20pt; # \u4e8c\u7ea7\u6807\u9898\u7684\u5b57\u4f53\u5927\u5c0f\u4e3a20pt margin-top:40px; # \u4e8c\u7ea7\u6807\u9898\u9876\u8fb9\u8ddd\u4e3a40px margin-bottom:20px; # \u4e8c\u7ea7\u6807\u9898\u5e95\u8fb9\u8ddd\u4e3a20px } h3 { font-size:17pt; # \u4e8c\u7ea7\u6807\u9898\u7684\u5b57\u4f53\u5927\u5c0f\u4e3a17pt margin-top:25px; # \u4e8c\u7ea7\u6807\u9898\u9876\u8fb9\u8ddd\u4e3a25px margin-bottom:20px; # \u4e8c\u7ea7\u6807\u9898\u5e95\u8fb9\u8ddd\u4e3a20px } p { font-family:\"Arial\",\"Microsoft YaHei\",\"\u9ed1\u4f53\",\"\u5b8b\u4f53\",\"sans-serif\"; # \u6bb5\u843d\u7684\u5b57\u4f53 font-size:13pt; # \u6bb5\u843d\u5b57\u4f53\u7684\u5927\u5c0f line-height:200%; # \u6bb5\u843d\u884c\u95f4\u8ddd } ul { line-height:200%; # \u65e0\u5e8f\u5217\u8868\u884c\u95f4\u8ddd } \u7136\u540e\u5728Wiki\u914d\u7f6e\u6587\u4ef6 my-wiki/mkdocs.yml \u4e2d\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9\uff1a extra_css: - css/extra.css \u66f4\u591a\u6837\u5f0f\u8bf7\u81ea\u884c\u767e\u5ea6\u641c\u7d22CSS\u7f51\u9875\u5e03\u5c40\u5b66\u4e60\u3002","title":"4.1 \u5fae\u8c03\u5df2\u6709\u4e3b\u9898\u7684\u6837\u5f0f"},{"location":"Tools/mkdocs/mkdocs_theme/#42-markdownhtml","text":"\u8bbe\u7f6e\u6587\u5b57\u5927\u5c0f\uff1a <font size=\"2pt\">\u6587\u5b57\u5185\u5bb9</font> \u8bbe\u7f6e\u6587\u5b57\u989c\u8272\uff1a <font color=\"red\">\u6587\u5b57\u5185\u5bb9</font> \u8bbe\u7f6e\u6587\u5b57\u5c45\u4e2d\u663e\u793a\uff1a <center>\u6587\u5b57\u5185\u5bb9</center> \u4ee5\u4e0aHTML\u8bed\u6cd5\u90fd\u53ef\u4ee5\u5d4c\u5957\u4f7f\u7528\uff0c\u6bd4\u5982\u8bbe\u7f6e\u6587\u5b57\u5c45\u4e2d\u663e\u793a\uff0c\u5e76\u4e14\u6587\u5b57\u4e3a\u7ea2\u8272\uff1a <center><font size=\"3pt\">\u6587\u5b57\u5185\u5bb9</font></center> \u56fe\u7247\u5c45\u4e2d\u663e\u793a\uff1a <center><p>![image](images/image.jpg)</p></center> \u66f4\u591aHTML\u8bed\u6cd5\u8bf7\u81ea\u884c\u767e\u5ea6\u641c\u7d22\u5b66\u4e60\u3002","title":"4.2 Markdown\u4e0eHTML\u8bed\u6cd5\u76f8\u7ed3\u5408"},{"location":"Tools/mkdocs/mkdocs_theme/#5demo","text":"\u5728\u7ebfDemo\u5730\u5740\uff1a https://edgeai-lab.github.io/my-wiki \u5728\u7ebfDemo\u6e90\u7801\uff1a https://github.com/EdgeAI-Lab/my-wiki \u66f4\u591a\u7cbe\u5f69\u8d44\u8baf\uff0c\u8bf7\u626b\u7801\u5173\u6ce8\uff01","title":"5.\u5728\u7ebfDemo"},{"location":"UI Design/ps_note/","text":"PS\u521d\u7ea7\u77e5\u8bc6 # \u6807\u5c3a\u5feb\u6377\u952e - Ctrl+R","title":"PS\u521d\u7ea7\u77e5\u8bc6"},{"location":"UI Design/ps_note/#ps","text":"\u6807\u5c3a\u5feb\u6377\u952e - Ctrl+R","title":"PS\u521d\u7ea7\u77e5\u8bc6"}]}